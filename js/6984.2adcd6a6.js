"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[6984],{66984:(a,e,t)=>{t.r(e),t.d(e,{default:()=>R});var l=t(51347),r=t(37763),s=t(34187),n=t(40404),o=t(10700),i=(t(60939),t(16461),t(56593),t(58094)),u=(t(7049),t(20247)),m=t(9428);const c={__name:"ChartAsrama",props:{asrama:Array,total:Number},emits:["slice-click"],setup(a,{emit:e}){m.t1.register(m.hE,m.m_,m.s$,m.Bs);const t=a,r=e,n=(0,l.EW)((()=>{const a=t.asrama.map((a=>a.asrama)),e=t.asrama.map((a=>a.jumlah)),l=i(e.length);return{labels:a,datasets:[{label:"Jumlah per Asrama",data:e,backgroundColor:l,borderColor:"#ffffff",borderWidth:2}]}})),o=(0,l.EW)((()=>({responsive:!0,plugins:{title:{display:!1,text:`Jumlah Penghuni: ${t.total}`},legend:{position:"right",labels:{generateLabels:a=>{const{labels:e,datasets:l}=a.data,r=l[0].data;return e.map(((e,s)=>{const n=r[s],o=(n/t.total*100).toFixed(2);return{text:`${e}: ${n} (${o}%)`,fillStyle:l[0].backgroundColor[s],strokeStyle:l[0].borderColor?.[s]||l[0].backgroundColor[s],lineWidth:1,hidden:a.getDatasetMeta(0).data[s].hidden,index:s}}))}}},tooltip:{callbacks:{title:a=>`Asrama ${a[0].label}`,label:a=>{const e=a.raw,l=(e/t.total*100).toFixed(1);return`${e} (${l}%)`}}}},onClick:(a,e)=>{if(e.length>0){const a=e[0].index;r("slice-click",t.asrama[a])}}})));function i(a){return Array.from({length:a},((e,t)=>{const l=Math.floor(360/a*t);return`hsl(${l}, 70%, 60%)`}))}return(a,e)=>((0,l.uX)(),(0,l.Wv)((0,s.R1)(u.Fq),{data:n.value,options:o.value},null,8,["data","options"]))}},d=c,p=d,h={__name:"ChartKamar",props:{kamar:Array},setup(a){m.t1.register(m.hE,m.m_,m.s$,m.E8,m.PP,m.kc);const e=a,t=(0,l.EW)((()=>e.kamar.reduce(((a,e)=>a+e.jumlah),0))),r=(0,l.EW)((()=>{const a=e.kamar.map((a=>a.kamar)),t=e.kamar.map((a=>a.jumlah)),l=o(t.length);e.kamar.reduce(((a,e)=>a+e.jumlah),0);return{labels:a,datasets:[{label:"Jumlah per Kamar",data:t,backgroundColor:l,borderColor:"#333",borderWidth:1}]}})),n=(0,l.EW)((()=>({responsive:!0,plugins:{title:{display:!0,text:`Jumlah Penghuni: ${t.value}`},legend:{display:!1},tooltip:{callbacks:{title:a=>`Kamar ${a[0].label}`,label:a=>{const e=a.raw,l=(e/t.value*100).toFixed(1);return`${e} (${l}%)`}}}},scales:{x:{title:{display:!0,text:"Kamar"}},y:{beginAtZero:!0,title:{display:!0,text:"Jumlah Penghuni"}}}})));function o(a){return Array.from({length:a},((e,t)=>{const l=Math.floor(360/a*t);return`hsl(${l}, 70%, 60%)`}))}return(a,e)=>((0,l.uX)(),(0,l.Wv)((0,s.R1)(u.yP),{data:r.value,options:n.value},null,8,["data","options"]))}},g=h,k=g,b={style:{"max-width":"500px",margin:"auto"}},v={key:0},f={key:1},y={__name:"StatistikDomisili",setup(a){const e=(0,s.KR)(!1),t=(0,s.KR)([]),r=(0,s.KR)([]),n=(0,s.KR)(0),o=(0,s.KR)("");(0,l.sV)((async()=>{e.value=!0;const a=await(0,i.A)({endPoint:"statistik/domisili",loading:e});a?.asrama&&(t.value=a.asrama,r.value=a.kamar,n.value=a.asrama.reduce(((a,e)=>a+e.jumlah),0)),e.value=!1}));const u=(0,l.EW)((()=>o.value?r.value.filter((a=>a.kamar.startsWith(o.value))):r.value));function m(a){o.value=a.asrama}return(a,r)=>{const s=(0,l.g2)("q-spinner-cube");return(0,l.uX)(),(0,l.CE)("div",b,[!e.value&&t.value.length?((0,l.uX)(),(0,l.CE)("div",v,[(0,l.bF)(p,{asrama:t.value,total:n.value,onSliceClick:m},null,8,["asrama","total"]),(0,l.bF)(k,{kamar:u.value,total:n.value},null,8,["kamar","total"])])):((0,l.uX)(),(0,l.CE)("p",f,[(0,l.bF)(s,{color:"green-12",size:"10em",class:"flex q-ma-lg q-mx-auto"})]))])}}};var x=t(71402),C=t(272),_=t.n(C);const A=y,$=A;_()(y,"components",{QSpinnerCube:x.A});const E={class:"flex flex-center q-my-md"},W={class:"q-ml-sm"},S={class:"no-margin",style:{"font-size":"1.5em"}},q={__name:"HomeIndex",setup(a){return(a,e)=>{const t=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(t,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",E,[(0,l.bF)(n.A,{border:6,class:"q-mr-sm",size:150}),(0,l.Lk)("div",W,[e[0]||(e[0]=(0,l.Lk)("div",{style:{"font-size":"1.5em"}},"Selamat Datang",-1)),e[1]||(e[1]=(0,l.Lk)("p",{class:"text-green-10 no-margin",style:{"font-size":"2em"}},[(0,l.eW)(" di "),(0,l.Lk)("span",{class:"text-weight-bold"},"ID Santri")],-1)),e[2]||(e[2]=(0,l.Lk)("p",{class:"text-italic no-margin",style:{"font-size":"1.2em"}}," Sistem Informasi ",-1)),(0,l.Lk)("p",S,(0,r.v_)((0,s.R1)(o.A).INS_DESC)+" "+(0,r.v_)((0,s.R1)(o.A).INS_NAME),1)])]),(0,l.bF)($)])),_:1})}}};var F=t(75013);const K=q,R=K;_()(q,"components",{QPage:F.A})}}]);
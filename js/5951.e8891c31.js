"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[5951],{45951:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Q});t(60939),t(16461),t(7049);var l=t(51347),n=t(37763),o=t(78306),u=t(58094),s=t(34187),i=t(81730);const r={__name:"DownloadData",setup(e){const a=(0,s.KR)(!1),t=(0,s.KR)([{}]),r=(0,s.KR)(!1);async function c(){const e=await(0,u.A)({endPoint:"iuran/va-group",loading:a});t.value=e.va_group.map((e=>({...e,selected:!1})))}async function d(){const e=t.value.filter((e=>e.selected)).map((e=>e.va_group));if(0===e.length)return void(0,i.UG)("Pilih minimal satu VA Group untuk diunduh");const a=await(0,u.A)({endPoint:"export/iuran-va",params:{va_group:e},loading:r});if(!a)return;if(!a.url)return notifyWarning("Url tidak ditemukan");const l=document.createElement("a");l.href=a.url,l.click(),l.remove()}return(0,l.sV)((async()=>{await c()})),(e,u)=>{const s=(0,l.g2)("q-spinner-facebook"),i=(0,l.g2)("q-item-label"),g=(0,l.g2)("q-item-section"),p=(0,l.g2)("q-toggle"),m=(0,l.g2)("q-item"),b=(0,l.g2)("q-list"),f=(0,l.g2)("q-scroll-area"),k=(0,l.g2)("q-card-section"),v=(0,l.g2)("q-btn"),A=(0,l.g2)("q-card-actions"),_=(0,l.g2)("q-card"),q=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(q,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{style:{"max-width":"600px"}},{default:(0,l.k6)((()=>[(0,l.bF)(o.A,{title:"Download Data Tagihan (VA)",onOnReload:c}),(0,l.bF)(k,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{style:{height:"700px"}},{default:(0,l.k6)((()=>[a.value?((0,l.uX)(),(0,l.Wv)(s,{key:0,color:"green-6",size:"3em",class:"flex q-ma-md q-mx-auto flex items-center justify-center"})):((0,l.uX)(),(0,l.Wv)(b,{key:1,bordered:"",separator:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value,((e,a)=>((0,l.uX)(),(0,l.Wv)(m,{tag:"label",key:a},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.va_group),1)])),_:2},1024),(0,l.bF)(i,{caption:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.count)+" item ",1)])),_:2},1024)])),_:2},1024),(0,l.bF)(g,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(p,{"false-value":!1,"true-value":!0,color:"green",modelValue:e.selected,"onUpdate:modelValue":a=>e.selected=a},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}))])),_:1})])),_:1}),(0,l.bF)(A,{class:"flex items-center justify-between q-pa-sm bg-green-7"},{default:(0,l.k6)((()=>[(0,l.bF)(v,{"no-caps":"",outline:"",glossy:"",color:"green-11",label:"Atur VA",icon:"settings",to:"/settings/profile"}),(0,l.bF)(v,{"no-caps":"",color:"green-11",glossy:"",class:"text-green-9",label:"Download",onClick:d,icon:"download",loading:r.value,disable:r.value},null,8,["loading","disable"])])),_:1})])),_:1})])),_:1})}}};var c=t(75013),d=t(83341),g=t(60222),p=t(55460),m=t(88959),b=t(53766),f=t(22589),k=t(14958),v=t(99039),A=t(55725),_=t(25034),q=t(22677),F=t(272),h=t.n(F);const y=r,Q=y;h()(r,"components",{QPage:c.A,QCard:d.A,QCardSection:g.A,QScrollArea:p.A,QSpinnerFacebook:m.A,QList:b.A,QItem:f.A,QItemSection:k.A,QItemLabel:v.A,QToggle:A.A,QCardActions:_.A,QBtn:q.A})}}]);
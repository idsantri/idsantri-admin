"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[6114],{36114:(a,e,l)=>{l.r(e),l.d(e,{default:()=>Q});l(60939),l(16461),l(44520),l(3142),l(38832),l(88825),l(52528),l(94207),l(39188),l(31118);var t=l(51347),o=l(8633),u=l(34187),s=l(58094),n=l(79865),r=l(91142),d=l(37763);const i={class:"flex items-center q-gutter-x-sm"},h={__name:"FilterMarhalah",props:(0,t.zz)({optionsMarhalah:{type:Array,default:()=>[]},optionsFaslah:{type:Array,default:()=>[]}},{modelMarhalah:{type:String,default:()=>""},modelMarhalahModifiers:{},modelFaslah:{type:Array,default:()=>[]},modelFaslahModifiers:{}}),emits:["update:modelMarhalah","update:modelFaslah"],setup(a){const e=(0,t.fn)(a,"modelMarhalah"),l=(0,t.fn)(a,"modelFaslah");return(o,u)=>{const s=(0,t.g2)("q-select"),n=(0,t.g2)("q-item-label"),r=(0,t.g2)("q-item-section"),h=(0,t.g2)("q-toggle"),m=(0,t.g2)("q-item");return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.bF)(s,{dense:"",outlined:"",label:"Filter Marhalah",style:{width:"300px"},clearable:"",options:a.optionsMarhalah,modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=a=>e.value=a)},null,8,["options","modelValue"]),(0,t.bF)(s,{dense:"",outlined:"",multiple:"",label:"Filter Faslah/Kelas",options:a.optionsFaslah,modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=a=>l.value=a),style:{width:"300px"},clearable:""},{option:(0,t.k6)((({itemProps:a,opt:e,selected:l,toggleOption:o})=>[(0,t.bF)(m,(0,d._B)((0,t.Ng)(a)),{default:(0,t.k6)((()=>[(0,t.bF)(r,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(e),1)])),_:2},1024)])),_:2},1024),(0,t.bF)(r,{side:""},{default:(0,t.k6)((()=>[(0,t.bF)(h,{"model-value":l,"onUpdate:modelValue":a=>o(e),color:"green-6"},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024)])),_:2},1040)])),_:1},8,["options","modelValue"])])}}};var m=l(76941),p=l(22589),v=l(14958),c=l(99039),f=l(55725),g=l(272),b=l.n(g);const F=h,_=F;b()(h,"components",{QSelect:m.A,QItem:p.A,QItemSection:v.A,QItemLabel:c.A,QToggle:f.A});var A=l(48652);const k={class:"flex items-start q-gutter-sm"},M={class:"col-grow"},w={class:""},y={__name:"MutaallimPage",setup(a){const e=(0,u.KR)({}),l=(0,u.KR)([]),d=(0,u.KR)(!1),i=(0,u.KR)(""),h=(0,u.KR)(!1),m=(0,u.KR)(""),p=(0,u.KR)([]);async function v(){const a=await(0,s.A)({endPoint:"quran/mutaallim/aktif",loading:d});a&&(l.value=a.mutaallim)}const c=(0,t.EW)((()=>m.value?p.value?.length?l.value.filter((a=>a.marhalah===m.value&&p.value.includes(a.faslah))):l.value.filter((a=>a.marhalah===m.value)):l.value));(0,t.sV)((async()=>{await v()})),(0,t.wB)(m,(()=>{p.value=[]})),(0,t.nT)((()=>{h.value||(m.value="",p.value=[])}));const f=(0,t.EW)((()=>{const a=new Set;return l.value.forEach((e=>{e.marhalah&&a.add(e.marhalah)})),Array.from(a).sort(((a,e)=>a.localeCompare(e)))})),g=(0,t.EW)((()=>{if(!m.value)return[];const a=new Set;return l.value.forEach((e=>{e.marhalah===m.value&&e.faslah&&a.add(e.faslah)})),Array.from(a).sort(((a,e)=>a.localeCompare(e)))}));return(a,l)=>{const s=(0,t.g2)("q-card-section"),b=(0,t.g2)("q-table"),F=(0,t.g2)("q-card");return(0,t.uX)(),(0,t.CE)("div",k,[(0,t.Lk)("div",M,[(0,t.bF)(F,{flat:"",bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(r.A,{title:"Data Mutaallim AKTIF",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=a=>i.value=a),onOnReload:v,onOnFilter:l[1]||(l[1]=a=>h.value=!h.value),"show-filter":h.value},null,8,["modelValue","show-filter"]),(0,t.bF)(o.eB,{name:"fade"},{default:(0,t.k6)((()=>[h.value?((0,t.uX)(),(0,t.Wv)(s,{key:0,class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{modelMarhalah:m.value,"onUpdate:modelMarhalah":l[2]||(l[2]=a=>m.value=a),modelFaslah:p.value,"onUpdate:modelFaslah":l[3]||(l[3]=a=>p.value=a),optionsMarhalah:f.value,optionsFaslah:g.value},null,8,["modelMarhalah","modelFaslah","optionsMarhalah","optionsFaslah"])])),_:1})):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(b,{rows:c.value,filter:i.value,loading:d.value,"rows-per-page-options":[10,25,50,100,0],flat:"",onRowClick:l[4]||(l[4]=(a,l,t)=>e.value=l),columns:(0,u.R1)(A.R),"table-header-class":"bg-green-1 text-green-10 text-subtitle1"},null,8,["rows","filter","loading","columns"])])),_:1})]),(0,t.Lk)("div",w,[(0,t.bF)(n.A,{santri:{id:e.value.santri_id}},null,8,["santri"])])])}}};var q=l(32968),V=l(83341),R=l(60222),C=l(27010);const K=(0,q.A)(y,[["__scopeId","data-v-0db332da"]]),Q=K;b()(y,"components",{QCard:V.A,QCardSection:R.A,QTable:C.A})}}]);
"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[3425],{63425:(a,e,n)=>{n.r(e),n.d(e,{default:()=>m});n(67590);var l=n(51347),s=n(34187),u=n(95455),t=n(69463),i=n(60455),d=n(58094),o=n(68708);const r={__name:"SantriKelas",setup(a){const e=(0,s.KR)(!1),n=(0,s.KR)(!1),r=(0,s.KR)({}),v=(0,s.KR)([]),c=(0,s.KR)({}),{params:p}=(0,i.lq)();async function k(){const a=await(0,d.A)({endPoint:`kelas/santri/${p.id}`,loading:e});a.kelas&&(v.value=a.kelas,c.value=a.santri)}const m=(0,l.EW)((()=>v.value.map((a=>({"Tahun Ajaran":`${a.th_ajaran_h}  |  ${a.th_ajaran_m||""} `,Kelas:`${a.kelas} ${a.tingkat}`+(a.no_absen?` (No. ${a.no_absen})`:""),Keterangan:a.keterangan||"-",id:a.id}))).reverse()));(0,l.sV)((async()=>{await k()}));const _=()=>{r.value={santri_id:c.value.id,nama:c.value.nama},n.value=!0},h=({id:a})=>{r.value=(0,t.I$)(v,a),r.value.santri_id=c.value.id,r.value.nama=c.value.nama,n.value=!0};return(a,i)=>{const d=(0,l.g2)("q-dialog");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(u.A,{data:m.value,spinner:e.value,link:"/madrasah/kelas",onAdd:_,onEdit:h},null,8,["data","spinner"]),(0,l.bF)(d,{modelValue:n.value,"onUpdate:modelValue":i[3]||(i[3]=a=>n.value=a)},{default:(0,l.k6)((()=>[(0,l.bF)(o.A,{data:r.value,onSuccessDelete:i[0]||(i[0]=a=>(0,s.R1)(t.ST)(v.value,a)),onSuccessCreate:i[1]||(i[1]=a=>v.value.push(a)),onSuccessUpdate:i[2]||(i[2]=a=>(0,s.R1)(t.B1)(v.value,a.id,a))},null,8,["data"])])),_:1},8,["modelValue"])])}}};var v=n(30045),c=n(272),p=n.n(c);const k=r,m=k;p()(r,"components",{QDialog:v.A})}}]);
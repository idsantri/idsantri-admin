"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[2022],{52022:(a,l,e)=>{e.r(l),e.d(l,{default:()=>V});var t=e(51347),s=e(37763),n=e(34187),u=e(60455),i=e(58094),d=e(47509),o=e(58850),r=e(68708);const c={class:"row",style:{"max-width":"1400px"}},k={class:"col-12 col-md-6 q-pa-sm"},b={key:0,class:"q-pa-md"},v={key:1},g={class:"col-12 col-md-6 q-pa-sm"},m={__name:"KelasIndex",setup(a){const l=(0,n.KR)(0),e=(0,u.lq)(),m=e.params.id,p=(0,n.KR)({}),_=(0,n.KR)(!1),f=(0,n.KR)(!1),q=(0,n.KR)({});async function L(a){const l=1==a,e=1==a?0:1,t=await(0,d.A)({endPoint:`kelas/${m}/set-active`,data:{aktif:l},confirm:!1});t||(p.value.aktif=e)}async function F(){const a=await(0,i.A)({endPoint:`kelas/${m}`,loading:_});a.kelas&&(p.value=a.kelas)}return(0,t.sV)((async()=>{await F()})),(a,e)=>{const n=(0,t.g2)("q-card-section"),u=(0,t.g2)("q-card"),i=(0,t.g2)("q-toolbar-title"),d=(0,t.g2)("q-btn"),m=(0,t.g2)("q-toolbar"),A=(0,t.g2)("q-spinner-cube"),x=(0,t.g2)("q-toggle"),h=(0,t.g2)("q-markup-table"),w=(0,t.g2)("q-route-tab"),y=(0,t.g2)("q-tabs"),Q=(0,t.g2)("router-view"),T=(0,t.g2)("q-dialog"),C=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(C,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{class:""},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:(0,t.k6)((()=>e[6]||(e[6]=[(0,t.Lk)("div",{class:"flex items-center"},[(0,t.Lk)("div",{class:"text-subtitle1"},"Data Murid")],-1)]))),_:1}),(0,t.bF)(n,{class:"no-padding"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",c,[(0,t.Lk)("div",k,[(0,t.bF)(u,{bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(o.A,{id:p.value.santri_id,onLoaded:e[0]||(e[0]=a=>q.value=a)},null,8,["id"])])),_:1}),(0,t.bF)(u,{class:"q-mt-sm",bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(m,{class:"bg-green-1"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{class:"text-subtitle1"},{default:(0,t.k6)((()=>e[7]||(e[7]=[(0,t.eW)(" Data Kelas ")]))),_:1}),(0,t.bF)(d,{class:"q-px-sm q-mr-sm",outline:"",dense:"",onClick:F,icon:"sync","no-caps":""}),(0,t.bF)(d,{class:"q-px-md",outline:"",dense:"","icon-right":"edit",onClick:e[1]||(e[1]=a=>f.value=!0),label:"Edit","no-caps":""})])),_:1}),_.value?((0,t.uX)(),(0,t.CE)("div",b,[(0,t.bF)(A,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",v,[(0,t.bF)(h,{flat:""},{default:(0,t.k6)((()=>[(0,t.Lk)("tbody",null,[(0,t.Lk)("tr",null,[e[8]||(e[8]=(0,t.Lk)("td",{class:"text-italic"}," Tahun Ajaran ",-1)),(0,t.Lk)("td",null,(0,s.v_)(p.value.th_ajaran_h+" | "+p.value.th_ajaran_m),1)]),(0,t.Lk)("tr",null,[e[9]||(e[9]=(0,t.Lk)("td",{class:"text-italic"}," Tingkat ",-1)),(0,t.Lk)("td",null,(0,s.v_)(p.value.tingkat),1)]),(0,t.Lk)("tr",null,[e[10]||(e[10]=(0,t.Lk)("td",{class:"text-italic"}," Kelas ",-1)),(0,t.Lk)("td",null,(0,s.v_)(p.value.kelas),1)]),(0,t.Lk)("tr",null,[e[11]||(e[11]=(0,t.Lk)("td",{class:"text-italic"}," Nomor Absen ",-1)),(0,t.Lk)("td",null,(0,s.v_)(p.value.no_absen),1)]),(0,t.Lk)("tr",null,[e[12]||(e[12]=(0,t.Lk)("td",{class:"text-italic"}," Aktif ",-1)),(0,t.Lk)("td",null,[(0,t.bF)(x,{modelValue:p.value.aktif,"onUpdate:modelValue":[e[2]||(e[2]=a=>p.value.aktif=a),L],color:"green","true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])])]),(0,t.Lk)("tr",null,[e[13]||(e[13]=(0,t.Lk)("td",{class:"text-italic"}," Keterangan ",-1)),(0,t.Lk)("td",null,(0,s.v_)(p.value.keterangan),1)])])])),_:1})]))])),_:1})])),_:1})]),(0,t.Lk)("div",g,[(0,t.bF)(u,{bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(y,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-7 text-green-3","indicator-color":"green-11","active-color":"green-11"},{default:(0,t.k6)((()=>[(0,t.bF)(w,{name:"riwayat",label:"Riwayat",to:`/madrasah/kelas/${p.value.id}/riwayat`},null,8,["to"]),(0,t.bF)(w,{name:"izin",label:"Izin",to:`/madrasah/kelas/${p.value.id}/izin`},null,8,["to"]),(0,t.bF)(w,{name:"nilai",label:"Nilai Mapel",to:`/madrasah/kelas/${p.value.id}/nilai-mapel`},null,8,["to"])])),_:1}),((0,t.uX)(),(0,t.Wv)(n,{class:"q-pa-sm",key:l.value},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.Wv)(Q,{key:a.$route.fullPath,santri_id:p.value.santri_id},null,8,["santri_id"]))])),_:1}))])),_:1})])])])),_:1})])),_:1}),(0,t.bF)(T,{modelValue:f.value,"onUpdate:modelValue":e[5]||(e[5]=a=>f.value=a)},{default:(0,t.k6)((()=>[(0,t.bF)(r.A,{data:p.value,onSuccessUpdate:e[3]||(e[3]=a=>{p.value=a,l.value++}),onSuccessDelete:e[4]||(e[4]=l=>a.$router.go(-1))},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var p=e(75013),_=e(83341),f=e(60222),q=e(66739),L=e(4629),F=e(22677),A=e(71402),x=e(94362),h=e(55725),w=e(38805),y=e(96641),Q=e(30045),T=e(272),C=e.n(T);const K=m,V=K;C()(m,"components",{QPage:p.A,QCard:_.A,QCardSection:f.A,QToolbar:q.A,QToolbarTitle:L.A,QBtn:F.A,QSpinnerCube:A.A,QMarkupTable:x.A,QToggle:h.A,QTabs:w.A,QRouteTab:y.A,QDialog:Q.A})}}]);
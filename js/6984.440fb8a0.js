"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[6984],{66984:(t,a,e)=>{e.r(a),e.d(a,{default:()=>K});var l=e(51347),r=e(37763),s=e(34187),n=e(40404),o=e(10700),i=(e(60939),e(16461),e(56593),e(58094)),u=(e(7049),e(20247)),m=e(9428);const c={__name:"ChartAsrama",props:{asrama:Array,total:Number},emits:["slice-click"],setup(t,{emit:a}){m.t1.register(m.hE,m.m_,m.s$,m.Bs);const e=t,r=a,n=(0,l.EW)((()=>{const t=e.asrama.map((t=>t.asrama)),a=e.asrama.map((t=>t.jumlah)),l=i(a.length);return{labels:t,datasets:[{label:"Jumlah per Asrama",data:a,backgroundColor:l,borderColor:"#ffffff",borderWidth:2}]}})),o=(0,l.EW)((()=>({responsive:!0,plugins:{title:{display:!1,text:`Jumlah Penghuni: ${e.total}`},legend:{position:"right",labels:{generateLabels:t=>{const{labels:a,datasets:l}=t.data,r=l[0].data;return a.map(((a,s)=>{const n=r[s],o=(n/e.total*100).toFixed(2);return{text:`${a}: ${n} (${o}%)`,fillStyle:l[0].backgroundColor[s],strokeStyle:l[0].borderColor?.[s]||l[0].backgroundColor[s],lineWidth:1,hidden:t.getDatasetMeta(0).data[s].hidden,index:s}}))}}},tooltip:{callbacks:{title:t=>`Asrama ${t[0].label}`,label:t=>{const a=t.raw,l=(a/e.total*100).toFixed(1);return`${a} (${l}%)`}}}},onHover:(t,a)=>{if(a.length>0){const t=a[0].index;r("slice-click",e.asrama[t])}else r("slice-click",null)}})));function i(t){return Array.from({length:t},((a,e)=>{const l=Math.floor(360/t*e);return`hsl(${l}, 70%, 60%)`}))}return(t,a)=>((0,l.uX)(),(0,l.Wv)((0,s.R1)(u.Fq),{data:n.value,options:o.value},null,8,["data","options"]))}},d=c,p=d,g={__name:"ChartKamar",props:{kamar:Array},setup(t){m.t1.register(m.hE,m.m_,m.s$,m.E8,m.PP,m.kc);const a=t,e=(0,l.EW)((()=>a.kamar.reduce(((t,a)=>t+a.jumlah),0))),r=(0,l.EW)((()=>{const t=a.kamar.map((t=>t.kamar)),e=a.kamar.map((t=>t.jumlah)),l=o(e.length);return{labels:t,datasets:[{label:"Jumlah per Kamar",data:e,backgroundColor:l,borderColor:"#333",borderWidth:1}]}})),n=(0,l.EW)((()=>({responsive:!0,plugins:{title:{display:!0,text:`Jumlah Penghuni: ${e.value}`},legend:{display:!1},tooltip:{callbacks:{title:t=>`Kamar ${t[0].label}`,label:t=>{const a=t.raw,l=(a/e.value*100).toFixed(1);return`${a} (${l}%)`}}}},scales:{x:{title:{display:!0,text:"Kamar"}},y:{beginAtZero:!0,title:{display:!0,text:"Jumlah Penghuni"}}}})));function o(t){return Array.from({length:t},((a,e)=>{const l=Math.floor(360/t*e);return`hsl(${l}, 70%, 60%)`}))}return(t,a)=>((0,l.uX)(),(0,l.Wv)((0,s.R1)(u.yP),{data:r.value,options:n.value},null,8,["data","options"]))}},v=g,w=v,h={key:0},k={class:"tw:flex tw:items-center tw:justify-center tw:gap-2 tw:max-w-md tw:mx-auto overflow-x-scroll tw:flex-wrap tw:md:flex-nowrap"},b={key:1},f={__name:"StatistikDomisili",setup(t){const a=(0,s.KR)(!1),e=(0,s.KR)([]),r=(0,s.KR)([]),n=(0,s.KR)(""),o=(0,l.EW)((()=>e.value.reduce(((t,a)=>t+a.jumlah),0)));(0,l.sV)((async()=>{a.value=!0;const t=await(0,i.A)({endPoint:"statistik/domisili",loading:a});t?.asrama&&(e.value=t.asrama,r.value=t.kamar),a.value=!1}));const u=(0,l.EW)((()=>n.value?r.value.filter((t=>t.kamar.startsWith(n.value))):r.value));function m(t){n.value=t?.asrama||""}return(t,r)=>{const s=(0,l.g2)("q-spinner-cube"),n=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(n,{bordered:"",flat:""},{default:(0,l.k6)((()=>[r[0]||(r[0]=(0,l.Lk)("div",{class:"tw:text-center tw:font-light tw:text-xl tw:py-2 bg-green-7 text-green-11"}," Diagram Domisili Santri Aktif ",-1)),!a.value&&e.value.length?((0,l.uX)(),(0,l.CE)("div",h,[(0,l.Lk)("div",k,[(0,l.bF)(p,{class:"tw:mx-2",asrama:e.value,total:o.value,onSliceClick:m},null,8,["asrama","total"]),(0,l.bF)(w,{class:"tw:mx-2",kamar:u.value,total:o.value},null,8,["kamar","total"])])])):((0,l.uX)(),(0,l.CE)("p",b,[(0,l.bF)(s,{color:"green-12",size:"10em",class:"flex q-ma-lg q-mx-auto"})]))])),_:1})}}};var x=e(83341),y=e(71402),_=e(272),A=e.n(_);const C=f,W=C;A()(f,"components",{QCard:x.A,QSpinnerCube:y.A});const $={class:"tw:flex tw:items-center tw:justify-center tw:flex-col tw:sm:flex-row tw:my-2 tw:text-xl"},E={class:"tw:text-center tw:sm:text-left tw:my-2"},S={class:"tw:font-semibold tw:-mt-1.5"},L={__name:"HomeIndex",setup(t){return(t,a)=>{const e=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(e,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",$,[(0,l.bF)(n.A,{border:6,class:"q-mr-sm",size:150}),(0,l.Lk)("div",E,[a[0]||(a[0]=(0,l.Lk)("div",{class:"tw:font-light"},"Selamat Datang",-1)),a[1]||(a[1]=(0,l.Lk)("div",{class:"text-green-10 tw:text-xl tw:-mt-1.5"},[(0,l.eW)(" di "),(0,l.Lk)("span",{class:"tw:font-semibold"},"ID Santri ")],-1)),a[2]||(a[2]=(0,l.Lk)("div",{class:"tw:text-lg tw:font-extralight"}," Sistem Informasi ",-1)),(0,l.Lk)("div",S,(0,r.v_)((0,s.R1)(o.A).INS_DESC)+" "+(0,r.v_)((0,s.R1)(o.A).INS_NAME),1)])]),(0,l.bF)(W)])),_:1})}}};var F=e(75013);const q=L,K=q;A()(L,"components",{QPage:F.A})}}]);
"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[9240],{99240:(e,l,a)=>{a.r(l),a.d(l,{default:()=>z});a(60939),a(16461),a(44520),a(3142),a(38832),a(88825),a(52528),a(94207),a(39188),a(31118);var t=a(51347),o=a(8633),n=a(34187),s=a(58094),i=a(79865),u=a(91142),d=a(37763);const r={class:"flex items-center justify-between"},m={__name:"FilterDomisili",props:(0,t.zz)({options:{type:Array,default:()=>[]}},{modelValue:{type:Array,default:()=>[]},modelModifiers:{}}),emits:(0,t.zz)(["onToggle"],["update:modelValue"]),setup(e){const l=(0,t.fn)(e,"modelValue");return(a,o)=>{const n=(0,t.g2)("q-item-label"),s=(0,t.g2)("q-item-section"),i=(0,t.g2)("q-toggle"),u=(0,t.g2)("q-item"),m=(0,t.g2)("q-select"),p=(0,t.g2)("q-btn");return(0,t.uX)(),(0,t.CE)("div",r,[(0,t.bF)(m,{dense:"",outlined:"",multiple:"",label:"Pilih Domisili",modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e),options:e.options,style:{width:"300px"},clearable:""},{option:(0,t.k6)((({itemProps:e,opt:l,selected:a,toggleOption:o})=>[(0,t.bF)(u,(0,d._B)((0,t.Ng)(e)),{default:(0,t.k6)((()=>[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(l),1)])),_:2},1024)])),_:2},1024),(0,t.bF)(s,{side:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{"model-value":a,"onUpdate:modelValue":e=>o(l),color:"green-6"},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,t.bF)(p,{label:"Filter by Kelas",class:"q-px-sm","no-caps":"",color:"green-6",dense:"",onClick:o[1]||(o[1]=e=>a.$emit("onToggle"))})])}}};var p=a(76941),c=a(22589),g=a(14958),v=a(99039),b=a(55725),f=a(22677),k=a(272),A=a.n(k);const _=m,y=_;A()(m,"components",{QSelect:p.A,QItem:c.A,QItemSection:g.A,QItemLabel:v.A,QToggle:b.A,QBtn:f.A});const F={class:"flex items-center justify-between"},T={class:"flex items-center q-gutter-x-sm"},K={__name:"FilterKelas",props:(0,t.zz)({optionsTingkat:{type:Array,default:()=>[]},optionsKelas:{type:Array,default:()=>[]}},{modelTingkat:{type:String,default:()=>""},modelTingkatModifiers:{},modelKelas:{type:Array,default:()=>[]},modelKelasModifiers:{}}),emits:(0,t.zz)(["onToggle"],["update:modelTingkat","update:modelKelas"]),setup(e){const l=(0,t.fn)(e,"modelTingkat"),a=(0,t.fn)(e,"modelKelas");return(o,n)=>{const s=(0,t.g2)("q-select"),i=(0,t.g2)("q-item-label"),u=(0,t.g2)("q-item-section"),r=(0,t.g2)("q-toggle"),m=(0,t.g2)("q-item"),p=(0,t.g2)("q-btn");return(0,t.uX)(),(0,t.CE)("div",F,[(0,t.Lk)("div",T,[(0,t.bF)(s,{dense:"",outlined:"",label:"Pilih Tingkat Pendidikan",style:{width:"300px"},clearable:"",options:e.optionsTingkat,modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e)},null,8,["options","modelValue"]),(0,t.bF)(s,{dense:"",outlined:"",multiple:"",label:"Pilih Kelas",options:e.optionsKelas,modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e),style:{width:"300px"},clearable:""},{option:(0,t.k6)((({itemProps:e,opt:l,selected:a,toggleOption:o})=>[(0,t.bF)(m,(0,d._B)((0,t.Ng)(e)),{default:(0,t.k6)((()=>[(0,t.bF)(u,null,{default:(0,t.k6)((()=>[(0,t.bF)(i,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(l),1)])),_:2},1024)])),_:2},1024),(0,t.bF)(u,{side:""},{default:(0,t.k6)((()=>[(0,t.bF)(r,{"model-value":a,"onUpdate:modelValue":e=>o(l),color:"green-6"},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024)])),_:2},1040)])),_:1},8,["options","modelValue"])]),(0,t.bF)(p,{label:"Filter by Domisili","no-caps":"",color:"green-6",dense:"",class:"q-px-sm",onClick:n[2]||(n[2]=e=>o.$emit("onToggle"))})])}}},V=K,w=V;A()(K,"components",{QSelect:p.A,QItem:c.A,QItemSection:g.A,QItemLabel:v.A,QToggle:b.A,QBtn:f.A});var q=a(48652);const h={class:"flex items-start q-gutter-sm"},Q={class:"col-grow"},C={class:""},x={__name:"SantriPage",setup(e){const l=(0,n.KR)(""),a=(0,n.KR)(!1),d=(0,n.KR)({}),r=(0,n.KR)([]),m=(0,n.KR)(!1),p=(0,n.KR)([]),c=(0,n.KR)(!0),g=(0,n.KR)(""),v=(0,n.KR)([]),b=(0,t.EW)((()=>r.value.filter((e=>{const l=!p.value?.length||p.value.includes(e.domisili),a=!g.value||e.tingkat===g.value,t=!v.value?.length||v.value.includes(e.kelas);return l&&a&&t}))));async function f(){const e=await(0,s.A)({endPoint:"mutaallim/santri",loading:a});e&&(r.value=e.santri)}(0,t.sV)((async()=>{await f()}));const k=(0,t.EW)((()=>{const e=new Set;return r.value.forEach((l=>{l.domisili&&e.add(l.domisili)})),Array.from(e).sort(((e,l)=>e.localeCompare(l)))})),A=(0,t.EW)((()=>{const e=new Set;return r.value.forEach((l=>{l.tingkat&&e.add(l.tingkat)})),Array.from(e).sort(((e,l)=>e.localeCompare(l)))})),_=(0,t.EW)((()=>{if(!g.value)return[];const e=new Set;return r.value.forEach((l=>{l.tingkat===g.value&&l.kelas&&e.add(l.kelas)})),Array.from(e).sort(((e,l)=>e.localeCompare(l)))}));return(0,t.nT)((()=>{m.value||(p.value=[],g.value="",v.value=[])})),(0,t.wB)(c,(()=>{p.value=[],g.value="",v.value=[]})),(0,t.wB)(g,(()=>{v.value=[]})),(e,s)=>{const r=(0,t.g2)("q-card-section"),F=(0,t.g2)("q-table"),T=(0,t.g2)("q-card");return(0,t.uX)(),(0,t.CE)("div",h,[(0,t.Lk)("div",Q,[(0,t.bF)(T,{flat:"",bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(u.A,{title:"Data Santri AKTIF",modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),onOnReload:f,onOnFilter:s[1]||(s[1]=e=>m.value=!m.value),"show-filter":m.value},null,8,["modelValue","show-filter"]),(0,t.bF)(o.eB,{name:"fade"},{default:(0,t.k6)((()=>[m.value?((0,t.uX)(),(0,t.Wv)(r,{key:0,class:"q-pa-sm"},{default:(0,t.k6)((()=>[c.value?((0,t.uX)(),(0,t.Wv)(y,{key:0,modelValue:p.value,"onUpdate:modelValue":s[2]||(s[2]=e=>p.value=e),options:k.value,onOnToggle:s[3]||(s[3]=e=>c.value=!c.value)},null,8,["modelValue","options"])):((0,t.uX)(),(0,t.Wv)(w,{key:1,modelTingkat:g.value,"onUpdate:modelTingkat":s[4]||(s[4]=e=>g.value=e),modelKelas:v.value,"onUpdate:modelKelas":s[5]||(s[5]=e=>v.value=e),optionsTingkat:A.value,optionsKelas:_.value,onOnToggle:s[6]||(s[6]=e=>c.value=!c.value)},null,8,["modelTingkat","modelKelas","optionsTingkat","optionsKelas"]))])),_:1})):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(F,{rows:b.value,filter:l.value,loading:a.value,"rows-per-page-options":[10,25,50,100,0],flat:"",onRowClick:s[7]||(s[7]=(e,l,a)=>d.value=l),columns:(0,n.R1)(q.Q),"table-header-class":"bg-green-1 text-green-10 text-subtitle1"},null,8,["rows","filter","loading","columns"])])),_:1})]),(0,t.Lk)("div",C,[(0,t.bF)(i.A,{santri:d.value},null,8,["santri"])])])}}};var R=a(32968),S=a(83341),U=a(60222),E=a(27010);const W=(0,R.A)(x,[["__scopeId","data-v-c47bd904"]]),z=W;A()(x,"components",{QCard:S.A,QCardSection:U.A,QTable:E.A})}}]);
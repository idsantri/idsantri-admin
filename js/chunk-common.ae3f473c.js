"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[996],{1424:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});t(60939),t(44520);var l=t(51347),n=t(8633),i=t(34187),s=t(60455),o=t(30419),u=t(17080),r=t(81131),d=t(50651),c=t(35902),m=t(40517),p=t(32397),g=t(81730),b=t(71492);const v={__name:"WaliSearch",setup(e){const a=(0,c.A)(),{searchWali:t,crudWali:v,crudSantri:k}=(0,i.QW)(a),{santri:_}=(0,m.A)(),{wali_id:f}=(0,i.QW)(_),h=()=>{(0,p.A)().$reset(),v.value=!0},y=(0,s.rd)(),A=`${r.A.defaults.baseURL}/wali/search`,q={Authorization:`Bearer ${(0,d.A)()}`};o.A.use(u.A);const F=(0,i.KR)({processing:!0,serverSide:!0,responsive:!0,ajax:{url:A,type:"POST",headers:q,error:e=>{const a=e.responseJSON?.message;a?(0,b.$r)(a).forEach((e=>(0,g.UG)(e))):console.log(`Error during get ${A}`,e)}},order:[],columns:[{title:"ID",data:"id",render:function(e,a,t){return`<button onclick='copyId(${t.id})' class='dt-btn-flat' title='Klik/Tap untuk menyalin ID'>${t.id}</button>`}},{title:"Nama",data:"nama",render:function(e,a,t){return`<span class="dt-link" onclick='goToWali(${t.id})'>${t.nama}</span>`}},{title:"Alamat",data:"alamat_pendek",render:function(e,a){return"display"===a&&e.length>50?`<span title='${e}'>${e.substr(0,50)}&mldr;</span>`:e}},{title:"NIK",data:"nik"},{title:"Anak1",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri1_id})'>${t.santri1_nama||"-"}</span>`}},{title:"Anak2",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri2_id})'>${t.santri2_nama||"-"}</span>`}},{title:"Anak3",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri3_id})'>${t.santri3_nama||"-"}</span>`}},{title:"Anak4",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri4_id})'>${t.santri4_nama||"-"}</span>`}},{title:"Anak5",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri5_id})'>${t.santri5_nama||"-"}</span>`}}],language:{search:"Cari:",zeroRecords:"Tidak data data untuk ditampilkan. Coba kata kunci yang lain!",info:"Menampilkan _START_ hingga _END_, dari total _TOTAL_ data",infoFiltered:"(disaring dari _MAX_ total data)",paginate:{first:"↑",previous:"←",next:"→",last:"↓"},lengthMenu:"_MENU_ Perhalaman"},autoWidth:!1,scrollX:!0,search:{return:!0}});return(0,l.sV)((()=>{document.goToSantri=e=>{y.push(`/santri/${e}`)},document.goToWali=e=>{y.push(`/wali/${e}`)},document.copyId=e=>{k.value?f.value=e:(navigator.clipboard.writeText(e),(0,g.VX)(`ID (${e}) sudah disalin/dicopy ke clipboard`)),t.value=!1}})),(e,a)=>{const s=(0,l.g2)("q-space"),u=(0,l.g2)("q-btn"),r=(0,l.g2)("q-card-section"),d=(0,l.g2)("q-card-actions"),c=(0,l.g2)("q-card"),m=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(c,{style:{width:"100%"}},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"bg-green-8 text-green-1 q-pa-sm flex items-center"},{default:(0,l.k6)((()=>[a[0]||(a[0]=(0,l.Lk)("h2",{class:"text-subtitle1 no-margin text-green-11"},"Cari Wali",-1)),(0,l.bF)(s),(0,l.bo)((0,l.bF)(u,{label:"Tambah",color:"green-12",class:"text-green-10 q-px-sm",icon:"add","no-caps":"",dense:"",onClick:h},null,512),[[n.aG,(0,i.R1)(k)]])])),_:1}),(0,l.bF)(r,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,i.R1)(o.A),{class:"display table nowrap dt",options:F.value,style:{overflow:"hidden"}},null,8,["options"])])),_:1}),(0,l.bF)(d,{class:"bg-green-7"},{default:(0,l.k6)((()=>[a[1]||(a[1]=(0,l.Lk)("div",{class:"text-body2 text-green-11 text-italic"},[(0,l.Lk)("div",null,"▪️ Cari berdsarkan ID, nama wali, NIK, atau alamat"),(0,l.Lk)("div",null,"▪️ simbol % = karakter apapun")],-1)),(0,l.bF)(s),(0,l.bo)((0,l.bF)(u,{label:"Tutup",color:"green-1",class:"text-green-10","no-caps":"",id:"btn-close-wali-search"},null,512),[[m],[n.aG,(0,i.R1)(t)]])])),_:1})])),_:1})}}};var k=t(83341),_=t(60222),f=t(5873),h=t(22677),y=t(25034),A=t(61038),q=t(272),F=t.n(q);const w=v,S=w;F()(v,"components",{QCard:k.A,QCardSection:_.A,QSpace:f.A,QBtn:h.A,QCardActions:y.A}),F()(v,"directives",{ClosePopup:A.A})},2100:(e,a,t)=>{t.d(a,{$:()=>n,z:()=>l});const l=e=>{let a;return a=isNaN(e)?0:Number(e),a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")};function n(e){const a=/\d/g,t=e.match(a),l=t?t.join(""):"";return l}},2746:(e,a,t)=>{t.d(a,{A:()=>i});const l=[{url:"domisili",label:"Domisili",style:"single",column:1,protected:!1,sort:"asc"},{url:"hubungan-wali",label:"Hubungan Wali",style:"single",column:1,protected:!1,sort:"asc"},{url:"jabatan-madrasiyah",label:"Jabatan Madrasiyah",style:"single",column:1,protected:!1,sort:"asc"},{url:"kelas",label:"Kelas",style:"single",column:1,protected:!1,sort:"asc"},{url:"keterangan-izin",label:"Keterangan Izin",style:"single",column:1,protected:!1,sort:"asc"},{url:"metode-pembayaran",label:"Metode Pembayaran",style:"single",column:1,protected:!1,sort:"asc"},{url:"pekerjaan",label:"Pekerjaan",style:"single",column:1,protected:!1,sort:"asc"},{url:"jenis-lembaga-pendidikan",label:"Jenis Lembaga Pendidikan",style:"single",column:1,protected:!1,sort:"asc"},{url:"wilayah-ugt",label:"Wilayah UGT",style:"single",column:1,protected:!1,sort:"asc"},{url:"pendidikan-akhir-diniyah",label:"Pendidikan Akhir Diniyah",style:"single",column:1,protected:!1,sort:"asc"},{url:"pendidikan-akhir-formal",label:"Pendidikan Akhir Formal",style:"single",column:1,protected:!1,sort:"asc"},{url:"takzir-santri",label:"Takzir Santri",style:"single",column:1,protected:!1,sort:"asc"},{url:"status",label:"Status",style:"single",column:1,protected:!1,sort:"asc"},{url:"sifat-izin",label:"Sifat Izin",style:"single",column:1,protected:!1,sort:"asc"},{url:"keperluan-izin",label:"Keperluan Izin",style:"single",column:1,protected:!1,sort:"asc"},{url:"tatib-santri",label:"Tatib Santri",style:"double",column:2,protected:!1,sort:"asc"},{url:"tahun-ajaran",label:"Tahun Ajaran",style:"double",column:2,protected:!1,sort:"desc"},{url:"iuran",label:"Iuran",style:"double",column:2,protected:!1,sort:"asc"},{url:"tingkat-pendidikan",label:"Tingkat Pendidikan",style:"double",column:2,protected:!0,sort:"asc"},{url:"kelas-tajwid-quran",label:"Kelas Quran (Tajwid)",style:"single",column:1,protected:!1,sort:"asc"}],n=Object.values(l).sort(((e,a)=>e.label>a.label?1:-1)),i=n},5313:(e,a,t)=>{t.d(a,{$P:()=>o,H6:()=>d,Yq:()=>s,kz:()=>c,p_:()=>u});t(60939),t(7049);var l=t(13592),n=t(67148),i=t(36234);function s(e,a="yyyy-MM-dd HH:mm:ss"){try{const t=new Date(e);if(!(0,l.f)(t))return"Invalid Date";const s=(0,n.GP)(t,a,{locale:i.id});return s}catch(e){return console.error(e),"Invalid Format"}}function o(e,a="-"){if(!e)return!1;const t=e.split(" "),l=t[0].split(a);if(3!==l.length)return!1;const[n,i,s]=l.map(Number);if(isNaN(n)||isNaN(i)||isNaN(s))return!1;if(i<1||i>12||s<1||s>31)return!1;const o=new Date(n,i,0).getDate();if(s>o)return!1;if(2===t.length){const e=t[1].split(":");if(3!==e.length)return!1;const[a,l,n]=e.map(Number);if(isNaN(a)||isNaN(l)||isNaN(n))return!1;if(a<0||a>23||l<0||l>59||n<0||n>59)return!1}return!0}function u(e){if(!e)return null;const a=new Date(e),t=a.getFullYear(),l=(a.getMonth()+1).toString().padStart(2,"0"),n=a.getDate().toString().padStart(2,"0"),i=a.getHours().toString().padStart(2,"0"),s=a.getMinutes().toString().padStart(2,"0"),o=a.getSeconds().toString().padStart(2,"0")||"00",u=`${t}-${l}-${n} ${i}:${s}:${o}`;return u}function r(e){let a="";const t=parseInt(e);switch(t){case 1:a="Januari";break;case 2:a="Februari";break;case 3:a="Maret";break;case 4:a="April";break;case 5:a="Mei";break;case 6:a="Juni";break;case 7:a="Juli";break;case 8:a="Agustus";break;case 9:a="September";break;case 10:a="Oktober";break;case 11:a="November";break;case 12:a="Desember";break;default:a=""}return a}function d(e){if(!o(e))return"-";const a=new Date(e),t=a.getFullYear(),l=r(a.getMonth()+1),n=String(a.getDate()).padStart(2,"0");return`${n} ${l} ${t}`}function c(e){if(!o(e))return;const a=new Date(e),t=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${n}-${l}-${t}`}},14954:(e,a,t)=>{t.d(a,{A:()=>U});var l=t(51347),n=t(8633),i=t(37763),s=t(34187),o=t(60455),u=t(18348),r=t(20675),d=t(47509),c=t(59678),m=t(96930),p=t(90486),g=t(12361);const b={class:"text-subtitle2"},v={class:"text-subtitle2"},k={class:"row justify-center"},_={__name:"PjgtCrud",props:{data:Object,isNew:Boolean},emits:["successSubmit","successDelete"],setup(e,{emit:a}){const t=(0,u.A)(),{loadingMain:_}=(0,s.QW)(t),f=e,h=a,y=(0,o.lq)(),A=(0,s.KR)({});(0,l.sV)((async()=>{Object.assign(A.value,f.data),A.value.provinsi||(A.value.provinsi="Jawa Timur")}));const q=async()=>{const e=JSON.parse(JSON.stringify(A.value));let a=null;a=f.isNew?await(0,c.A)({endPoint:"ugt/pjgt",data:e,loading:_}):await(0,d.A)({endPoint:`ugt/pjgt/${y.params.id}`,data:e,confirm:!0,notify:!0,loading:_}),a&&(document.getElementById("btn-close-crud").click(),h("successSubmit",a?.pjgt))},F=async()=>{const e=await(0,r.A)({endPoint:`ugt/pjgt/${y.params.id}`,loading:_});e&&(document.getElementById("btn-close-crud").click(),h("successDelete"))},w={identitas:{title:"Identitas Diri",button:"1"},alamat:{title:"Data Alamat",button:"2"},others:{title:"Lain-Lain",button:"3"}},S=(0,s.KR)(w.identitas.button),V=[{label:w.identitas.button,value:w.identitas.button},{label:w.alamat.button,value:w.alamat.button},{label:w.others.button,value:w.others.button}];return(a,t)=>{const s=(0,l.g2)("q-input"),o=(0,l.g2)("q-select"),u=(0,l.g2)("q-carousel-slide"),r=(0,l.g2)("q-carousel"),d=(0,l.g2)("q-card-section"),c=(0,l.g2)("q-btn-toggle"),_=(0,l.g2)("q-btn"),h=(0,l.g2)("q-space"),y=(0,l.g2)("q-card-actions"),Q=(0,l.g2)("q-form"),x=(0,l.g2)("q-card"),j=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(x,{class:"full-width",style:{"max-width":"425px"}},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{onSubmit:(0,n.D$)(q,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(g.A,{title:"Input Data PJGT","is-new":f.isNew},null,8,["is-new"]),(0,l.bF)(d,{class:"no-padding"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{modelValue:S.value,"onUpdate:modelValue":t[9]||(t[9]=e=>S.value=e),"transition-prev":"slide-right","transition-next":"slide-left",animated:"","control-color":"primary",class:"full-width",style:{height:"60vh"},swipeable:"",infinite:""},{default:(0,l.k6)((()=>[(0,l.bF)(u,{name:w.identitas.button,class:"no-wrap flex-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",b,(0,i.v_)(w.identitas.title),1),(0,l.bF)(s,{dense:"",hint:e.isNew?"Kosongkan jika ingin diisi otomatis!":"",class:"q-mt-sm",outlined:"",label:"ID",modelValue:A.value.id,"onUpdate:modelValue":t[0]||(t[0]=e=>A.value.id=e),rules:[e=>!e||!isNaN(e)||"Hanya angka!"],"error-color":"negative"},null,8,["hint","modelValue","rules"]),(0,l.bF)(s,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Nama*",modelValue:A.value.nama,"onUpdate:modelValue":t[1]||(t[1]=e=>A.value.nama=e),rules:[e=>!!e||"Harus diisi!",e=>e?.length>=5||"Setidaknya 5 huruf!"],"error-color":"negative",autocapitalize:"words"},null,8,["modelValue","rules"]),(0,l.bF)(o,{dense:"",hint:"L"==A.value.sex?"Laki-Laki":"P"==A.value.sex?"Perempuan":"",class:"q-mt-sm",outlined:"",label:"Jenis Kelamin",modelValue:A.value.sex,"onUpdate:modelValue":t[2]||(t[2]=e=>A.value.sex=e),options:["L","P"],"emit-value":"","map-options":"","error-color":"negative",behavior:"menu"},null,8,["hint","modelValue"]),(0,l.bF)(p.A,{modelValue:A.value.jenis_lembaga,"onUpdate:modelValue":t[3]||(t[3]=e=>A.value.jenis_lembaga=e),url:"jenis-lembaga-pendidikan",label:"Jenis Lembaga",hint:"",class:"q-mt-sm"},null,8,["modelValue"]),(0,l.bF)(s,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Nama Lembaga",modelValue:A.value.nama_lembaga,"onUpdate:modelValue":t[4]||(t[4]=e=>A.value.nama_lembaga=e),rules:[e=>!!e||"Harus diisi!"],"error-color":"negative",autocapitalize:"words"},null,8,["modelValue","rules"])])),_:1},8,["name"]),(0,l.bF)(u,{name:w.alamat.button,class:"no-wrap flex-center"},{default:(0,l.k6)((()=>[(0,l.bF)(m.A,{onEmitInput:t[5]||(t[5]=e=>Object.assign(A.value,e)),data:A.value},null,8,["data"])])),_:1},8,["name"]),(0,l.bF)(u,{name:w.others.button,class:"no-wrap flex-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",v,(0,i.v_)(w.others.title),1),(0,l.bF)(p.A,{modelValue:A.value.wilayah,"onUpdate:modelValue":t[6]||(t[6]=e=>A.value.wilayah=e),url:"wilayah-ugt",label:"Wilayah PJGT",class:"q-mt-sm",hint:""},null,8,["modelValue"]),(0,l.bF)(s,{dense:"",hint:"08123456789",class:"q-mt-sm",outlined:"",label:"Telepon",modelValue:A.value.telepon,"onUpdate:modelValue":t[7]||(t[7]=e=>A.value.telepon=e),rules:[e=>!e||!isNaN(e)||"Hanya angka!"],"error-color":"negative"},null,8,["modelValue","rules"]),(0,l.bF)(s,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Email",modelValue:A.value.email,"onUpdate:modelValue":t[8]||(t[8]=e=>A.value.email=e)},null,8,["modelValue"])])),_:1},8,["name"])])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(d,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",k,[(0,l.bF)(c,{"toggle-color":"green-10","text-color":"text-green-11","no-caps":"",glossy:"",modelValue:S.value,"onUpdate:modelValue":t[10]||(t[10]=e=>S.value=e),options:V},null,8,["modelValue"])])])),_:1}),(0,l.bF)(y,{class:"flex bg-green-6"},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)(_,{label:"Hapus",class:"bg-red text-red-1","no-caps":"",onClick:F},null,512),[[n.aG,!a.$props.isNew]]),(0,l.bF)(h),(0,l.bo)((0,l.bF)(_,{label:"Tutup",class:"bg-green-11","no-caps":"",id:"btn-close-crud"},null,512),[[j]]),(0,l.bF)(_,{type:"submit",label:"Simpan",class:"bg-green-10 text-green-11","no-caps":""})])),_:1})])),_:1})])),_:1})}}};var f=t(83341),h=t(53417),y=t(60222),A=t(16453),q=t(74964),F=t(46395),w=t(76941),S=t(79076),V=t(25034),Q=t(22677),x=t(5873),j=t(61038),$=t(272),C=t.n($);const R=_,U=R;C()(_,"components",{QCard:f.A,QForm:h.A,QCardSection:y.A,QCarousel:A.A,QCarouselSlide:q.A,QInput:F.A,QSelect:w.A,QBtnToggle:S.A,QCardActions:V.A,QBtn:Q.A,QSpace:x.A}),C()(_,"directives",{ClosePopup:j.A})},17569:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(30705);const n=(0,l.nY)("alamat",{state:()=>({provinsi:[]}),getters:{},actions:{_findProvinsi(e){const{provinsi_id:a,provinsi_name:t}=e;return a?this.provinsi.find((e=>e?.id==a)):t?this.provinsi.find((e=>e?.provinsi.toLowerCase()===t.toLowerCase())):void console.error("Find Provinsi: Parameter tidak sesuai!")},_findKabupaten(e){const{kabupaten_id:a,kabupaten_name:t}=e,l=this._findProvinsi(e);if(l&&l.kabupaten?.length){if(a)return l.kabupaten.find((e=>e?.id==a));if(t)return l.kabupaten.find((e=>e.kabupaten.toLowerCase()===t.toLowerCase()));throw new Error("Find Kabupaten: Parameter tidak sesuai!")}console.error("Find Kabupaten: Provinsi 0 or Kabupaten 0!")},_findKecamatan(e){const{kecamatan_id:a,kecamatan_name:t}=e,l=this._findKabupaten(e);if(l&&l.kecamatan?.length){if(a)return l.kecamatan.find((e=>e?.id==a));if(t)return l.kecamatan.find((e=>e.kecamatan.toLowerCase()===t.toLowerCase()));throw new Error("Find Kecamatan: Parameter tidak sesuai!")}console.error("Find Kecamatan: Provinsi 0 or Kabupaten 0 or Kecamatan 0!")},setProvinsi(e){this.provinsi=[],this.provinsi=e},setKabupaten(e,a){const t=this._findProvinsi(a);t&&(t.kabupaten=e)},setKecamatan(e,a){const t=this._findKabupaten(a);t&&(t.kecamatan=e)},setDesa(e,a){const t=this._findKecamatan(a);t&&(t.desa=e)},getProvinsi(){return this.provinsi},getKabupaten(e){const a=this._findProvinsi(e);return a?.kabupaten},getKecamatan(e){const a=this._findKabupaten(e);return a?.kecamatan},getDesa(e){const a=this._findKecamatan(e);return a?.desa}},persist:{storage:localStorage}})},17904:(e,a,t)=>{t.d(a,{A:()=>o});var l=t(81131),n=t(44280),i=t(81730);async function s({message:e,endPoint:a,confirm:t=!1,loading:s,params:o,fileName:u="dokumen"}){if(e||t){const a=e||"Download data yang dicetak?",t=await(0,i.Ix)(a,!0);if(!t)return!1}s&&"boolean"===typeof s.value&&(s.value=!0);try{const e=await l.A.request({url:a,method:"GET",responseType:"blob",headers:{"Content-Type":"application/pdf"},params:o});if(e){const a=new Blob([e.data],{type:"application/pdf"}),t=URL.createObjectURL(a),l=document.createElement("a");return l.href=t,l.setAttribute("download",u+".pdf"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t),!0}return!1}catch(e){return(0,n.A)(e),!1}finally{s&&"boolean"===typeof s.value&&(s.value=!1)}}const o=s},18348:(e,a,t)=>{t.d(a,{A:()=>i});var l=t(30705);const n=(0,l.nY)("loading",{state:()=>({loadingMain:!1}),actions:{setLoadingMain(e){this.loadingMain=e}}}),i=n},20675:(e,a,t)=>{t.d(a,{A:()=>o});var l=t(81131),n=t(44280),i=t(81730);async function s({endPoint:e,message:a='<span style="color: red">Hapus data ini?</span>',params:t,loading:s,notify:o=!0,config:u}){const r=await(0,i.Ix)(a,!0);if(!r)return!1;try{s&&"boolean"===typeof s.value&&(s.value=!0);const a={...u};t&&(a.params=t);const{data:n}=await l.A.delete(e,a);return o&&(0,i.VX)(n.message),!0}catch(e){return(0,n.A)(e),!1}finally{s&&"boolean"===typeof s.value&&(s.value=!1)}}const o=s},21209:(e,a,t)=>{t.d(a,{A:()=>c});var l=t(51347),n=t(34187),i=t(46056);const s={__name:"InputCurrency",props:{modelValue:{required:!0}},setup(e){const a=e,{inputRef:t,formattedValue:s,setValue:o}=(0,i.nR)({currency:"EUR",currencyDisplay:"hidden",locale:"de-DE"});return(0,l.wB)((()=>a.modelValue),(e=>{o(e)})),(e,a)=>{const i=(0,l.g2)("q-input");return(0,l.uX)(),(0,l.Wv)(i,{ref_key:"inputRef",ref:t,modelValue:(0,n.R1)(s),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.i9)(s)?s.value=e:null)},null,8,["modelValue"])}}};var o=t(46395),u=t(272),r=t.n(u);const d=s,c=d;r()(s,"components",{QInput:o.A})},22902:(e,a,t)=>{t.d(a,{A:()=>T});var l=t(51347),n=t(8633),i=t(37763),s=t(34187),o=t(20675),u=t(47509),r=t(59678),d=t(5313),c=t(70345),m=t(96930),p=t(53780),g=t(12361),b=t(90486),v=t(9906);const k={key:0,style:{height:"70vh"}},_={class:"text-subtitle2"},f={class:"text-subtitle2"},h={class:"row justify-center"},y={__name:"PersonaliaForm",props:{data:Object},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(e,{emit:a}){const t=e,y=a,A=(0,s.KR)({}),q=(0,s.KR)(!1),F=!t.data?.id;(0,l.sV)((async()=>{Object.assign(A.value,t.data)}));const w=async()=>{const e=JSON.parse(JSON.stringify(A.value));delete e.image,delete e.aktif;let a=null;a=F?await(0,r.A)({endPoint:"aparatur",data:e,loading:q}):await(0,u.A)({endPoint:`aparatur/${t.data.id}`,data:e,confirm:!0,notify:!0,loading:q}),a&&(document.getElementById("btn-close-form").click(),y("successSubmit",a?.aparatur),y(F?"successCreate":"successUpdate",a?.aparatur))},S=async()=>{const e=t.data.id,a=await(0,o.A)({endPoint:`aparatur/${e}`,loading:q});a&&(document.getElementById("btn-close-form").click(),y("successDelete",e))},V={identitas:{title:"Identitas Diri",button:"1"},alamat:{title:"Data Alamat",button:"2"},others:{title:"Lain-Lain",button:"3"}},Q=(0,s.KR)(V.identitas.button),x=[{label:V.identitas.button,value:V.identitas.button},{label:V.alamat.button,value:V.alamat.button},{label:V.others.button,value:V.others.button}];return(e,a)=>{const t=(0,l.g2)("q-spinner-cube"),o=(0,l.g2)("q-dialog"),u=(0,l.g2)("q-input"),r=(0,l.g2)("q-select"),y=(0,l.g2)("q-carousel-slide"),j=(0,l.g2)("q-carousel"),$=(0,l.g2)("q-card-section"),C=(0,l.g2)("q-btn-toggle"),R=(0,l.g2)("q-form"),U=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(U,{class:"full-width",style:{"max-width":"425px"}},{default:(0,l.k6)((()=>[(0,l.bF)(R,{onSubmit:(0,n.D$)(w,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(g.A,{title:"Input Data Personalia","is-new":F}),(0,l.bF)($,{class:"no-padding"},{default:(0,l.k6)((()=>[q.value?((0,l.uX)(),(0,l.CE)("div",k,[(0,l.bF)(o,{modelValue:q.value,"onUpdate:modelValue":a[0]||(a[0]=e=>q.value=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(t,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])),_:1},8,["modelValue"])])):((0,l.uX)(),(0,l.Wv)(j,{key:1,modelValue:Q.value,"onUpdate:modelValue":a[12]||(a[12]=e=>Q.value=e),"transition-prev":"slide-right","transition-next":"slide-left",animated:"","control-color":"primary",class:"full-width",style:{height:"70vh"},swipeable:"",infinite:""},{default:(0,l.k6)((()=>[(0,l.bF)(y,{name:V.identitas.button,class:"no-wrap flex-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",_,(0,i.v_)(V.identitas.title),1),(0,l.bF)(u,{dense:"",hint:F?"Kosongkan jika ingin diisi otomatis!":"",class:"q-mt-sm",outlined:"",label:"ID",modelValue:A.value.id,"onUpdate:modelValue":a[1]||(a[1]=e=>A.value.id=e),rules:[e=>!e||!isNaN(e)||"Hanya angka!"],"error-color":"negative"},null,8,["hint","modelValue","rules"]),(0,l.bF)(u,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Nama*",modelValue:A.value.nama,"onUpdate:modelValue":a[2]||(a[2]=e=>A.value.nama=e),rules:[e=>!!e||"Harus diisi!",e=>e?.length>=3||"Setidaknya 3 huruf!"],"error-color":"negative",autocapitalize:"words"},null,8,["modelValue","rules"]),(0,l.bF)(u,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Nomor Induk Kependudukan",modelValue:A.value.nik,"onUpdate:modelValue":a[3]||(a[3]=e=>A.value.nik=e),rules:[e=>!e||16==e?.length&&!isNaN(e)||"16 digit angka!"],"error-color":"negative"},null,8,["modelValue","rules"]),(0,l.bF)(p.A,{onEmitInput:a[4]||(a[4]=e=>A.value.tmp_lahir=e.tmp_lahir),data:A.value},null,8,["data"]),(0,l.bF)(u,{dense:"",hint:(0,s.R1)(d.$P)(A.value.tgl_lahir)?(0,s.R1)(d.H6)(A.value.tgl_lahir)+" | "+(0,s.R1)(c.IU)((0,s.R1)(c.cE)(A.value.tgl_lahir)):"",class:"q-mt-sm",outlined:"",label:"Tanggal Lahir",modelValue:A.value.tgl_lahir,"onUpdate:modelValue":a[5]||(a[5]=e=>A.value.tgl_lahir=e),type:"date"},null,8,["hint","modelValue"]),(0,l.bF)(r,{dense:"",hint:"L"==A.value.sex?"Laki-Laki":"P"==A.value.sex?"Perempuan":"",class:"q-mt-sm",outlined:"",label:"Jenis Kelamin",modelValue:A.value.sex,"onUpdate:modelValue":a[6]||(a[6]=e=>A.value.sex=e),options:["L","P"],"emit-value":"","map-options":"","error-color":"negative",behavior:"menu"},null,8,["hint","modelValue"])])),_:1},8,["name"]),(0,l.bF)(y,{name:V.alamat.button,class:"no-wrap flex-center"},{default:(0,l.k6)((()=>[(0,l.bF)(m.A,{onEmitInput:a[7]||(a[7]=e=>Object.assign(A.value,e)),data:A.value},null,8,["data"])])),_:1},8,["name"]),(0,l.bF)(y,{name:V.others.button,class:"no-wrap flex-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",f,(0,i.v_)(V.others.title),1),(0,l.bF)(b.A,{modelValue:A.value.pa_formal,"onUpdate:modelValue":a[8]||(a[8]=e=>A.value.pa_formal=e),url:"pendidikan-akhir-formal",label:"Pendidikan Akhir Formal",class:"q-mt-sm",hint:""},null,8,["modelValue"]),(0,l.bF)(b.A,{modelValue:A.value.pa_diniyah,"onUpdate:modelValue":a[9]||(a[9]=e=>A.value.pa_diniyah=e),url:"pendidikan-akhir-diniyah",label:"Pendidikan Akhir Diniyah",class:"q-mt-sm",hint:""},null,8,["modelValue"]),(0,l.bF)(u,{dense:"",hint:"08123456789",class:"q-mt-sm",outlined:"",label:"Telepon",modelValue:A.value.telepon,"onUpdate:modelValue":a[10]||(a[10]=e=>A.value.telepon=e),rules:[e=>!e||!isNaN(e)||"Hanya angka!"],"error-color":"negative"},null,8,["modelValue","rules"]),(0,l.bF)(u,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Email",modelValue:A.value.email,"onUpdate:modelValue":a[11]||(a[11]=e=>A.value.email=e)},null,8,["modelValue"])])),_:1},8,["name"])])),_:1},8,["modelValue"]))])),_:1}),(0,l.bF)($,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",h,[(0,l.bF)(C,{"toggle-color":"green-10","text-color":"text-green-11","no-caps":"",glossy:"",modelValue:Q.value,"onUpdate:modelValue":a[13]||(a[13]=e=>Q.value=e),options:x},null,8,["modelValue"])])])),_:1}),(0,l.bF)(v.A,{"btn-delete":!F,onOnDelete:S},null,8,["btn-delete"])])),_:1})])),_:1})}}};var A=t(83341),q=t(53417),F=t(60222),w=t(30045),S=t(71402),V=t(16453),Q=t(74964),x=t(46395),j=t(76941),$=t(79076),C=t(272),R=t.n(C);const U=y,T=U;R()(y,"components",{QCard:A.A,QForm:q.A,QCardSection:F.A,QDialog:w.A,QSpinnerCube:S.A,QCarousel:V.A,QCarouselSlide:Q.A,QInput:x.A,QSelect:j.A,QBtnToggle:$.A})},24497:(e,a,t)=>{t.d(a,{A:()=>S});var l=t(51347),n=t(8633),i=t(34187),s=t(90486),o=t(20675),u=t(47509);const r={key:0,class:"text-italic text-caption"},d={__name:"EditMutasi",props:{data:{type:Object,required:!0},api:{type:Boolean,default:!1}},emits:["onDelete","onSubmit"],setup(e,{emit:a}){const t=a,d=e,c=(0,i.KR)({}),m=(0,i.KR)(!1);async function p(){const e=await(0,o.A)({endPoint:`mutasi/${c.value.id}`,loading:m});e&&(document.getElementById("btn-close").click(),t("onDelete"))}async function g(){const e={new_domisili:c.value.new_domisili,new_keterangan:c.value.new_keterangan},a=await(0,u.A)({endPoint:`mutasi/${c.value.id}`,loading:m,data:e});a&&(document.getElementById("btn-close").click(),t("onSubmit"))}return(0,l.sV)((()=>{d.api?Object.assign(c.value,d.data):c.value=d.data})),(e,a)=>{const t=(0,l.g2)("q-toolbar-title"),i=(0,l.g2)("q-toolbar"),o=(0,l.g2)("q-card-section"),u=(0,l.g2)("q-input"),b=(0,l.g2)("q-btn"),v=(0,l.g2)("q-space"),k=(0,l.g2)("q-card-actions"),_=(0,l.g2)("q-spinner-tail"),f=(0,l.g2)("q-inner-loading"),h=(0,l.g2)("q-form"),y=(0,l.g2)("q-card"),A=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(y,{class:"full-width",style:{"max-width":"425px"}},{default:(0,l.k6)((()=>[(0,l.bF)(h,{onSubmit:(0,n.D$)(g,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(o,{class:"bg-green-7 text-green-11 q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"q-px-sm",style:{"min-height":"0"}},{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"text-subtitle1 text-green-11"},{default:(0,l.k6)((()=>a[2]||(a[2]=[(0,l.eW)(" Data Domisili Baru — "),(0,l.Lk)("span",{class:"text-italic"},"Edit",-1)]))),_:1}),d.api?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",r," Auto Update "))])),_:1})])),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,{"model-value":c.value.nama+" ("+c.value.santri_id+")",class:"",disable:"",filled:"",dense:"",outlined:"",label:"Nama (ID)"},null,8,["model-value"]),(0,l.bF)(u,{"model-value":c.value.tingkat+" — "+c.value.kelas,class:"q-mt-sm",disable:"",filled:"",dense:"",outlined:"",label:"Tingkat — Kelas"},null,8,["model-value"]),(0,l.bF)(u,{"model-value":c.value.domisili,class:"q-mt-sm",disable:"",filled:"",dense:"",outlined:"",label:"Domisili (Asal)"},null,8,["model-value"]),(0,l.bF)(s.A,{modelValue:c.value.new_domisili,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value.new_domisili=e),url:"domisili",label:"Domisili (Baru) *",class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"],clearable:!1},null,8,["modelValue","rules"]),(0,l.bF)(u,{modelValue:c.value.new_keterangan,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value.new_keterangan=e),class:"q-mt-sm",dense:"",outlined:"",label:"Keterangan (Baru)",autogrow:!0},null,8,["modelValue"])])),_:1}),(0,l.bF)(k,{class:"bg-green-6 flex"},{default:(0,l.k6)((()=>[d.api?((0,l.uX)(),(0,l.Wv)(b,{key:0,label:"Hapus",class:"bg-red text-red-1","no-caps":"",onClick:p})):(0,l.Q3)("",!0),(0,l.bF)(v),(0,l.bo)((0,l.bF)(b,{label:"Tutup",class:"bg-green-11","no-caps":"",id:"btn-close"},null,512),[[A]]),d.api?((0,l.uX)(),(0,l.Wv)(b,{key:1,type:"submit",label:"Simpan",class:"bg-green-10 text-green-11","no-caps":""})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(f,{showing:m.value},{default:(0,l.k6)((()=>[(0,l.bF)(_,{size:"4em",color:"green"})])),_:1},8,["showing"])])),_:1})])),_:1})}}};var c=t(83341),m=t(53417),p=t(60222),g=t(66739),b=t(4629),v=t(46395),k=t(25034),_=t(22677),f=t(5873),h=t(58356),y=t(74569),A=t(61038),q=t(272),F=t.n(q);const w=d,S=w;F()(d,"components",{QCard:c.A,QForm:m.A,QCardSection:p.A,QToolbar:g.A,QToolbarTitle:b.A,QInput:v.A,QCardActions:k.A,QBtn:_.A,QSpace:f.A,QInnerLoading:h.A,QSpinnerTail:y.A}),F()(d,"directives",{ClosePopup:A.A})},26913:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});t(60939),t(44520);var l=t(51347),n=t(34187),i=t(8633),s=t(60455),o=t(30419),u=t(17080),r=t(81131),d=t(50651),c=t(35902),m=t(40517),p=t(81730),g=t(71492);const b={__name:"SantriSearch",setup(e){const a=(0,c.A)(),{searchSantri:t,crudSantri:b}=(0,n.QW)(a),v=()=>{(0,m.A)().$reset(),b.value=!0},k=(0,s.rd)(),_=`${r.A.defaults.baseURL}/santri/search`,f={Authorization:`Bearer ${(0,d.A)()}`};o.A.use(u.A);const h=(0,n.KR)({processing:!0,serverSide:!0,responsive:!0,ajax:{url:_,type:"POST",headers:f,error:e=>{const a=e.responseJSON?.message;a?(0,g.$r)(a).forEach((e=>(0,p.UG)(e))):console.log(`Error during get ${_}`,e)}},order:[],columns:[{title:"ID",data:"id",render:function(e,a,t){return`<button onclick='copyId(${t.id})' class='dt-btn-flat' title='Klik/Tap untuk menyalin ID'>${t.id}</button>`}},{title:"Nama",data:"nama",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.id})'>${t.nama}</span>`}},{title:"Alamat",data:"alamat_pendek",render:function(e,a){return"display"===a&&e.length>50?`<span title='${e}'>${e.substr(0,50)}&mldr;</span>`:e}},{title:"Data Akhir",data:"data_akhir"},{title:"NIK",data:"nik"},{title:"Wali",render:function(e,a,t){return`<span class="dt-link" onclick='goToWali(${t.wali_id})'>${t.wali_nama} (${t.wali_status})</span>`}},{title:"Ortu",render:function(e,a,t){return`<span class="dt-link" onclick='goToOrtu(${t.ortu_id})'>${t.ayah} | ${t.ibu}</span>`}}],language:{search:"Cari:",zeroRecords:"Tidak data data untuk ditampilkan. Coba kata kunci yang lain!",info:"Menampilkan _START_ hingga _END_, dari total _TOTAL_ data",infoFiltered:"(disaring dari _MAX_ total data)",paginate:{first:"↑",previous:"←",next:"→",last:"↓"},lengthMenu:"_MENU_ Perhalaman"},autoWidth:!1,scrollX:!0,search:{return:!0}});return(0,l.sV)((()=>{document.goToSantri=e=>{k.push(`/santri/${e}`)},document.goToWali=e=>{k.push(`/wali/${e}`)},document.goToOrtu=e=>{k.push(`/ortu/${e}`)},document.copyId=e=>{navigator.clipboard.writeText(e),(0,p.VX)(`ID (${e}) sudah disalin/dicopy ke clipboard`),t.value=!1}})),(e,a)=>{const s=(0,l.g2)("q-space"),u=(0,l.g2)("q-btn"),r=(0,l.g2)("q-card-section"),d=(0,l.g2)("q-card-actions"),c=(0,l.g2)("q-card"),m=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(c,{style:{width:"100%"}},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"bg-green-8 text-green-1 q-pa-sm flex items-center"},{default:(0,l.k6)((()=>[a[0]||(a[0]=(0,l.Lk)("h2",{class:"text-subtitle1 no-margin text-green-11"},"Cari Santri",-1)),(0,l.bF)(s),(0,l.bF)(u,{label:"Tambah",color:"green-12",class:"text-green-10 q-px-sm",icon:"add","no-caps":"",dense:"",onClick:v})])),_:1}),(0,l.bF)(r,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,n.R1)(o.A),{class:"display table nowrap dt",options:h.value,style:{overflow:"hidden"},id:"tabel"},null,8,["options"])])),_:1}),(0,l.bF)(d,{class:"bg-green-7"},{default:(0,l.k6)((()=>[a[1]||(a[1]=(0,l.Lk)("div",{class:"text-body2 text-green-11 text-italic"},[(0,l.Lk)("div",null," ▪️ Cari berdsarkan ID, nama santri, NIK, alamat, atau data akhir "),(0,l.Lk)("div",null,"▪️ simbol % = karakter apapun")],-1)),(0,l.bF)(s),(0,l.bo)((0,l.bF)(u,{label:"Tutup",color:"green-1",class:"text-green-10","no-caps":"",id:"btn-close-santri-search"},null,512),[[m],[i.aG,(0,n.R1)(t)]])])),_:1})])),_:1})}}};var v=t(83341),k=t(60222),_=t(5873),f=t(22677),h=t(25034),y=t(61038),A=t(272),q=t.n(A);const F=b,w=F;q()(b,"components",{QCard:v.A,QCardSection:k.A,QSpace:_.A,QBtn:f.A,QCardActions:h.A}),q()(b,"directives",{ClosePopup:y.A})},31284:(e,a,t)=>{t.d(a,{A:()=>N});t(60939),t(17008);var l=t(51347),n=t(34187),i=t(60455),s=t(89503),o=t(56194);const u={__name:"SelectTahunAjaran",props:{startUrl:{type:String,required:!0},routerPush:{type:Boolean,default:!0}},setup(e){const a=e,t=(0,n.KR)([]),{params:u}=(0,i.lq)(),r=(0,n.KR)(u.th_ajaran_h),d=(0,n.KR)([]),c=(0,i.rd)();return(0,l.sV)((async()=>{const e=(0,s.A)().getThAjaran;if(e.length)t.value["th_ajaran"]=e;else{const e=await(0,o.H)({url:"kelas/lists",key:"th_ajaran",loadingArray:d});(0,s.A)().setThAjaran(e),t.value["th_ajaran"]=e}})),(0,l.wB)(r,((e,t)=>{a.routerPush&&(e?e==t||c.push(`${a.startUrl}/${e}`):c.push(`${a.startUrl}`))})),(e,a)=>{const n=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(n,{dense:"",outlined:"",label:"Tahun Ajaran",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),options:t.value["th_ajaran"],"option-value":"th_ajaran_h","option-label":"th_ajaran_h","emit-value":"","map-options":"",loading:d.value["th_ajaran"],behavior:"menu"},null,8,["modelValue","options","loading"])}}};var r=t(76941),d=t(272),c=t.n(d);const m=u,p=m;c()(u,"components",{QSelect:r.A});const g={__name:"SelectTingkat",props:{startUrl:{type:String,required:!0},routerPush:{type:Boolean,default:!0}},setup(e){const a=e,t=(0,n.KR)([]),u=(0,n.KR)([]),r=(0,i.rd)(),{params:d}=(0,i.lq)(),c=(0,n.KR)(d.tingkat_id),m=`${a.startUrl}/${d.th_ajaran_h}`;return(0,l.sV)((async()=>{if(d.th_ajaran_h){const e=(0,s.A)().getTingkatByTahun(d.th_ajaran_h);if(e.length)t.value["tingkat"]=e;else{const e=await(0,o.H)({url:"kelas/lists",params:{th_ajaran_h:d.th_ajaran_h},key:"tingkat",loadingArray:u,sort:"asc"});(0,s.A)().addTingkatToTahun(e,d.th_ajaran_h),t.value["tingkat"]=e}}})),(0,l.wB)(c,((e,t)=>{a.routerPush&&(e?e==t||r.push(`${m}/${e}`):r.push(m))})),(e,a)=>{const n=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(n,{dense:"",outlined:"",label:"Tingkat",modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),options:t.value["tingkat"],"option-value":"tingkat_id","option-label":"tingkat","emit-value":"","map-options":"",loading:u.value["tingkat"],behavior:"menu",clearable:""},null,8,["modelValue","options","loading"])}}},b=g,v=b;c()(g,"components",{QSelect:r.A});const k={__name:"SelectKelas",props:{startUrl:{type:String,required:!0},routerPush:{type:Boolean,default:!0}},emits:["onSelect"],setup(e,{emit:a}){const t=e,u=a,r=(0,n.KR)([]),{params:d}=(0,i.lq)(),c=(0,n.KR)(d.kelas),m=(0,n.KR)([]),p=(0,i.rd)(),g=`${t.startUrl}/${d.th_ajaran_h}/${d.tingkat_id}`;return(0,l.sV)((async()=>{if(d.th_ajaran_h&&d.tingkat_id){const e=(0,s.A)().getKelasByTingkatAndTahun(d.tingkat_id,d.th_ajaran_h);if(e.length)r.value["kelas"]=e;else{const e=await(0,o.H)({url:"kelas/lists",params:{th_ajaran_h:d.th_ajaran_h,tingkat_id:d.tingkat_id},key:"kelas",loadingArray:m,sort:"asc"});(0,s.A)().addKelasToTingkatByTahun(e,d.tingkat_id,d.th_ajaran_h),r.value["kelas"]=e}}})),(0,l.wB)(c,((e,a)=>{if(t.routerPush)if(e){if(e!=a){let a="";return d.set_bulan_ujian?a="/"+d.set_bulan_ujian:d.ujian_ke&&(a="/"+d.ujian_ke),p.push(`${g}/${e}${a}`),void u("onSelect",e)}}else p.push(g)})),(e,a)=>{const t=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(t,{dense:"",outlined:"",label:"Kelas",modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),options:r.value["kelas"],"emit-value":"","map-options":"",loading:m.value["kelas"],clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"])}}},_=k,f=_;c()(k,"components",{QSelect:r.A});t(16461);const h={__name:"SelectUjianKe",props:{startUrl:{type:String,required:!0},arrUjian:{type:Array,required:!0},routerPush:{type:Boolean,default:!0}},setup(e){const a=e,t=(0,n.KR)([]),{params:o}=(0,i.lq)(),u=(0,n.KR)(o.ujian_ke),r=(0,i.rd)(),d=`${a.startUrl}/${o.th_ajaran_h}/${o.tingkat_id}/${o.kelas}`;return(0,l.sV)((()=>{o.th_ajaran_h&&o.tingkat_id&&o.kelas&&(t.value["ujian_ke"]=(0,s.A)().getUjian.filter((e=>a.arrUjian.includes(e.value))))})),(0,l.wB)(u,((e,t)=>{a.routerPush&&(e?e==t||r.push(`${d}/${e}`):r.push(d))})),(e,a)=>{const n=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(n,{dense:"",outlined:"",label:"Cawu/Semester",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),options:t.value["ujian_ke"],"option-value":"value","option-label":"label","emit-value":"","map-options":"",clearable:"",behavior:"menu"},null,8,["modelValue","options"])}}},y=h,A=y;c()(h,"components",{QSelect:r.A});var q=t(81730);const F={__name:"SelectBulanUjianSetting",props:{startUrl:{type:String,required:!0},routerPush:{type:Boolean,default:!0}},setup(e){const a=e,{params:t}=(0,i.lq)(),u=(0,i.rd)(),r=(0,n.KR)(t.set_bulan_ujian),d=(0,n.KR)(!1),c=(0,n.KR)([]),m=`${a.startUrl}/${t.th_ajaran_h}/${t.tingkat_id}/${t.kelas||"*"}`;return(0,l.sV)((async()=>{if(t.tingkat_id){const e=(0,s.A)().getBulanUjianSettingByTingkatId(t.tingkat_id);if(e.length)c.value["bulan_ujian"]=e;else{const e=await(0,o.H)({url:"absensi/settings",params:{tingkat_id:t.tingkat_id},key:"bulan_ujian",loading:d});if(!e.length)return void(0,q.KQ)("Jadwal ujian untuk jenjang ini belum diatur.<br>Silakan masuk ke menu pengaturan (kanan atas)!");(0,s.A)().addBulanUjianSetting(e),c.value["bulan_ujian"]=e}}})),(0,l.wB)(r,((e,t)=>{a.routerPush&&(e?e==t||u.push(`${m}/${e}`):u.push(m))})),(e,a)=>{const t=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(t,{dense:"",outlined:"",label:"Bulan (Ujian)",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),options:c.value["bulan_ujian"],"option-value":"bu","option-label":"bulan_ujian","emit-value":"","map-options":"",loading:d.value,clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"])}}},w=F,S=w;c()(F,"components",{QSelect:r.A});const V={__name:"SelectBulanUjianList",props:{startUrl:{type:String,required:!0},routerPush:{type:Boolean,default:!0}},setup(e){const a=e,{params:t}=(0,i.lq)(),u=(0,i.rd)(),r=(0,n.KR)(t.list_bulan_ujian),d=(0,n.KR)(!1),c=(0,n.KR)([]),m=`${a.startUrl}/${t.th_ajaran_h}/${t.tingkat_id}`;return(0,l.sV)((async()=>{if(t.th_ajaran_h&&t.tingkat_id){const e=(0,s.A)().getBulanUjianListByTahunAndTingkatId(t.th_ajaran_h,t.tingkat_id);if(e.length)c.value=e;else{const e=await(0,o.H)({url:`absensi/${t.absensi}/lists/bulan-ujian`,params:{th_ajaran_h:t.th_ajaran_h,tingkat_id:t.tingkat_id},key:"bulan_ujian",loading:d});if(!e.length)return void(0,q.KQ)("Tidak ada laporan untuk filter yang dipilih!");(0,s.A)().addBulanUjianList(e),c.value=e}}})),(0,l.wB)(r,((e,t)=>{a.routerPush&&(e?e==t||u.push(`${m}/${e}`):u.push(m))})),(e,a)=>{const t=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(t,{dense:"",outlined:"",label:"Bulan (Ujian)",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),options:c.value,"option-value":"bu","option-label":"bulan_ujian","emit-value":"","map-options":"",loading:d.value,clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"])}}},Q=V,x=Q;c()(V,"components",{QSelect:r.A});const j={class:"text-subtitle1"},$=["innerHTML"],C={class:"row",style:{"max-width":"1000px",width:"100%"}},R={class:"q-pr-sm"},U={__name:"FilterKelas",props:{startUrl:{type:String,required:!0},title:{type:String,default:"Filter Kelas"},showTingkat:{type:Boolean,default:!0},showKelas:{type:Boolean,default:!0},showUjianKe:{type:Boolean,default:!1},showSetBulanUjian:{type:Boolean,default:!1},showListBulanUjian:{type:Boolean,default:!1}},emits:["dataFilter"],setup(e,{emit:a}){const t=a,{params:o}=(0,i.lq)(),u=(0,n.KR)(0);function r(){(0,s.A)().$reset(),u.value++}function d(){let e="<em>Tentukan Filter!</em>";if(o.th_ajaran_h&&(e='➡️ <em class="text-weight-light">Tahun Ajaran: </em><strong>'+o.th_ajaran_h+"</strong>"),o.tingkat_id){const a=(0,s.A)().getAllTingkat();if(a.length){const t=a.find((e=>e.tingkat_id==o.tingkat_id));e+=' ➡️ <em class="text-weight-light">Tingkat: </em><strong>'+t.tingkat+"</strong>"}}if(o.kelas&&(e+=' ➡️ <em class="text-weight-light">Kelas: </em><strong>'+o.kelas+"</strong>"),o.ujian_ke){const a=(0,s.A)().getUjian.find((e=>e.value==o.ujian_ke));e+=' ➡️ <em class="text-weight-light">Ujian Ke: </em><strong>'+a.label+"</strong>"}if(o.set_bulan_ujian){const a=(0,s.A)().getBulanUjianSettingByTingkatId(o.tingkat_id),t=a.find((e=>e.bu==o.set_bulan_ujian));e+=' ➡️ <em class="text-weight-light">Bulan (Ujian): </em><strong>'+t.bulan_ujian+"</strong>"}if(o.list_bulan_ujian){const a=(0,s.A)().getBulanUjianListByTahunAndTingkatId(o.th_ajaran_h,o.tingkat_id),t=a.find((e=>e.bu==o.list_bulan_ujian));e+=' ➡️ <em class="text-weight-light">Bulan (Ujian): </em><strong>'+t.bulan_ujian+"</strong>"}return e}return(0,l.sV)((()=>{t("dataFilter",d())})),(a,t)=>{const n=(0,l.g2)("q-toolbar-title"),i=(0,l.g2)("q-btn"),s=(0,l.g2)("q-toolbar"),o=(0,l.g2)("q-card-section"),d=(0,l.g2)("q-space"),c=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(o,{class:"q-px-sm q-py-sm bg-green-11"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{class:"no-padding",style:{"min-height":"0"}},{default:(0,l.k6)((()=>[(0,l.bF)(n,{class:"text-subtitle1"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",j,[(0,l.Lk)("span",{innerHTML:e.title},null,8,$)])])),_:1}),(0,l.bF)(i,{icon:"sync",dense:"",flat:"",class:"q-mr-xs",onClick:r}),(0,l.RG)(a.$slots,"default")])),_:3})])),_:3}),((0,l.uX)(),(0,l.Wv)(o,{class:"no-padding flex flex-center",key:u.value},{default:(0,l.k6)((()=>[(0,l.Lk)("div",C,[(0,l.bF)(p,{class:"col-12 col-md-3 q-pa-sm","start-url":e.startUrl},null,8,["start-url"]),e.showTingkat?((0,l.uX)(),(0,l.Wv)(v,{key:0,class:"col-12 col-md-3 q-pa-sm","start-url":e.startUrl},null,8,["start-url"])):(0,l.Q3)("",!0),e.showKelas?((0,l.uX)(),(0,l.Wv)(f,{key:1,class:"col-12 col-md-3 q-pa-sm","start-url":e.startUrl},null,8,["start-url"])):(0,l.Q3)("",!0),e.showUjianKe?((0,l.uX)(),(0,l.Wv)(A,{key:2,class:"col-12 col-md-3 q-pa-sm","start-url":e.startUrl,"arr-ujian":[1,2,3]},null,8,["start-url"])):(0,l.Q3)("",!0),e.showSetBulanUjian?((0,l.uX)(),(0,l.Wv)(S,{key:3,class:"col-12 col-md-3 q-pa-sm","start-url":e.startUrl},null,8,["start-url"])):(0,l.Q3)("",!0),e.showListBulanUjian?((0,l.uX)(),(0,l.Wv)(x,{key:4,class:"col-12 col-md-3 q-pa-sm","start-url":e.startUrl},null,8,["start-url"])):(0,l.Q3)("",!0)]),(0,l.bF)(d),(0,l.Lk)("div",R,[(0,l.RG)(a.$slots,"more")])])),_:3}))])),_:3})}}};var T=t(83341),K=t(60222),I=t(66739),L=t(4629),W=t(22677),B=t(5873);const X=U,N=X;c()(U,"components",{QCard:T.A,QCardSection:K.A,QToolbar:I.A,QToolbarTitle:L.A,QBtn:W.A,QSpace:B.A})},32328:(e,a,t)=>{t.d(a,{A:()=>Q});var l=t(51347),n=t(37763),i=t(34187),s=t(58094),o=t(5313),u=t(70345),r=t(48110),d=t(60455),c=t(40122);const m={class:"flex"},p={__name:"IndisiplinerRiwayat",props:{santri_id:{required:!0}},setup(e){const a=e,t=(0,i.KR)([]),p=(0,i.KR)(!1),g=(0,i.KR)(!1),b=(0,i.KR)({}),{params:v}=(0,d.lq)();async function k(e){const a=await(0,s.A)({endPoint:"indisipliner",params:{santri_id:e},loading:p});a.indisipliner&&(t.value=a.indisipliner,b.value={santri_id:a.santri.id,nama:a.santri.nama,data_akhir:a.santri.data_akhir})}return(0,l.sV)((async()=>{a.santri_id?await k(a.santri_id):t.value=[]})),(0,l.$u)((async()=>{a.santri_id?await k(a.santri_id):t.value=[]})),(e,a)=>{const s=(0,l.g2)("q-toolbar-title"),d=(0,l.g2)("q-btn"),k=(0,l.g2)("q-toolbar"),_=(0,l.g2)("q-card-section"),f=(0,l.g2)("q-spinner-cube"),h=(0,l.g2)("q-space"),y=(0,l.g2)("q-item-section"),A=(0,l.g2)("q-item"),q=(0,l.g2)("q-list"),F=(0,l.g2)("q-dialog"),w=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(w,{class:""},{default:(0,l.k6)((()=>[(0,l.bF)(_,{class:"bg-green-8 no-padding"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{class:"no-padding no-margin"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:(0,l.k6)((()=>a[3]||(a[3]=[(0,l.eW)(" Riwayat Indisipliner ")]))),_:1}),(0,l.bF)(d,{color:"green-11",outline:"",dense:"","no-caps":"",icon:"add",label:"Tambah",class:"q-mr-sm q-px-md",onClick:a[0]||(a[0]=e=>g.value=!0)})])),_:1})])),_:1}),p.value?((0,l.uX)(),(0,l.Wv)(_,{key:0,class:"flex flex-center"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{color:"green-12",size:"8em",class:""})])),_:1})):t.value?.length?((0,l.uX)(),(0,l.Wv)(_,{key:2,class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(q,{separator:"",bordered:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value,((e,t)=>((0,l.uX)(),(0,l.Wv)(A,{key:t,class:(0,n.C4)([e.id==(0,i.R1)(v).id?"bg-green-1":"","q-pa-sm"])},{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.Lk)("table",null,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[a[5]||(a[5]=(0,l.Lk)("td",{class:"label"},"Tanggal Sidang:",-1)),(0,l.Lk)("td",m,[(0,l.eW)((0,n.v_)((0,i.R1)(o.kz)(e.tgl_sidang)+" | "+(0,i.R1)(u.jh)(e.tgl_sidang))+" ",1),(0,l.bF)(h),(0,l.eW)(" "+(0,n.v_)((0,i.R1)(r.J)((0,i.R1)(u.cE)(e.tgl_sidang))),1)])]),(0,l.Lk)("tr",null,[a[6]||(a[6]=(0,l.Lk)("td",{class:"label"},"Pasal",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.no_pasal),1)]),(0,l.Lk)("tr",null,[a[7]||(a[7]=(0,l.Lk)("td",{class:"label"},"Kategori",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.kategori_text),1)]),(0,l.Lk)("tr",null,[a[8]||(a[8]=(0,l.Lk)("td",{class:"label"},"Sanksi",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.takzir),1)])])])])),_:2},1024),(0,l.bF)(y,{side:"",class:"no-padding"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{disable:e.id==(0,i.R1)(v).id,icon:"info",glossy:"",dense:"",round:"",outline:"",color:"green",to:`/keamanan/indisipliner/${e.id}`},null,8,["disable","to"])])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1})])),_:1})):((0,l.uX)(),(0,l.Wv)(_,{key:1,class:"text-italic text-center q-pa-lg"},{default:(0,l.k6)((()=>a[4]||(a[4]=[(0,l.eW)(" Tidak ada untuk ditampilkan ")]))),_:1})),(0,l.bF)(F,{modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e)},{default:(0,l.k6)((()=>[(0,l.bF)(c.A,{data:b.value,onSuccessDelete:e=>null,onSuccessSubmit:a[1]||(a[1]=a=>e.$router.push(`/keamanan/indisipliner/${a.id}`))},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var g=t(83341),b=t(60222),v=t(66739),k=t(4629),_=t(22677),f=t(71402),h=t(53766),y=t(22589),A=t(14958),q=t(5873),F=t(30045),w=t(272),S=t.n(w);const V=p,Q=V;S()(p,"components",{QCard:g.A,QCardSection:b.A,QToolbar:v.A,QToolbarTitle:k.A,QBtn:_.A,QSpinnerCube:f.A,QList:h.A,QItem:y.A,QItemSection:A.A,QSpace:q.A,QDialog:F.A})},32397:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(30705);const n=(0,l.nY)("wali",{state:()=>({wali:{id:null,nama:null,tgl_lahir:null,tmp_lahir:null,nik:null,sex:"L",jl:null,rt:1,rw:1,desa:null,kecamatan:null,kabupaten:null,provinsi:"Jawa Timur",kode_pos:null,pekerjaan:null,telepon:null,email:null,penghasilan:null,pa_formal_tingkat:null,pa_diniyah_tingkat:null},isNew:!0}),actions:{setWali(e){for(const a in this.wali)a in e&&(this.wali[a]=e[a])},setNull(){for(const e in this.wali)this.wali[e]=null},setEdit(){this.isNew=!1},setNew(){this.isNew=!0}},persist:{storage:sessionStorage}})},32671:(e,a,t)=>{t.d(a,{CG:()=>s,a:()=>i,hF:()=>l,kb:()=>n});t(60939),t(56593);function l(e){return e&&Array.isArray(e)?e.reduce(((e,a)=>null!==a.lunas?e+a.nominal:e),0):0}function n(e){return e&&Array.isArray(e)?e.reduce(((e,a)=>null==a.lunas?e+a.nominal:e),0):0}function i(e){return e&&Array.isArray(e)?e.reduce(((e,a)=>1==a.cetak?e+a.nominal:e),0):0}function s(e){return e&&Array.isArray(e)?e.reduce(((e,a)=>e+a.nominal),0):0}},35902:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(30705);const n=(0,l.nY)("modal",{state:()=>({searchSantri:!1,crudSantri:!1,searchWali:!1,crudWali:!1,searchOrtu:!1,crudOrtu:!1}),actions:{toggleSearchSantri(e){this.searchSantri=e},toggleCrudSantri(e){this.crudSantri=e},toggleSearchWali(e){this.searchWali=e},toggleCrudWali(e){this.crudWali=e},toggleSearchOrtu(e){this.searchOrtu=e},toggleCrudOrtu(e){this.crudOrtu=e}}})},40122:(e,a,t)=>{t.d(a,{A:()=>U});var l=t(51347),n=t(8633),i=t(34187),s=t(70345),o=t(5313),u=t(59678),r=t(47509),d=t(20675),c=t(12361),m=t(55123),p=(t(60939),t(16461),t(7049),t(56194)),g=t(72085),b=t(64538);const v="tatib-santri",k={__name:"InputSelectTatibSantri",props:{selected:{type:String}},setup(e){const a=e;function t(){let e="";return a.selected&&(e=n(a.selected)),e}function n(e){let a="";const t=/\[(.*?)\]/g,l=e.match(t);return l&&(a=l.map((e=>e.slice(1,-1))).join(", ")),a}const s=(0,i.KR)(!1),o=(0,i.KR)([]),u=(0,g.A)();function r(e){let a=[];return e.length&&(a=e.filter((e=>1!=e.val0.length)).map((e=>`[${e.val0}] ${e.val1}`))),a}async function d(){const e=await(0,p.M)({key:v,loading:s,sort:"asc"});u.$patch({[v]:e})}return(0,l.sV)((async()=>{const e=u.getByStateName(v);if(e.length)o.value=r(e);else{await d();const e=u.getByStateName(v);o.value=r(e)}})),(e,a)=>{const n=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(n,{dense:"",outlined:"",label:"Pasal dilanggar","emit-value":"","map-options":"",options:o.value,loading:s.value,behavior:"menu",clearable:"",multiple:"",hint:t()},{after:(0,l.k6)((()=>[(0,l.bF)(b.A,{"route-to":"tatib-santri",onReload:d})])),_:1},8,["options","loading","hint"])}}};var _=t(76941),f=t(272),h=t.n(f);const y=k,A=y;h()(k,"components",{QSelect:_.A});var q=t(90486);const F={key:0},w={__name:"IndisiplinerForm",props:{data:Object},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(e,{emit:a}){const t=e,p=a,g=(0,i.KR)({kategori:3}),b=(0,i.KR)(!1);async function v(){const e={santri_id:g.value.santri_id,tgl_kasus:g.value.tgl_kasus,tgl_sidang:g.value.tgl_sidang,kategori:g.value.kategori,pasal:g.value.pasal?.join("; "),deskripsi:g.value.deskripsi,eksekutor:g.value.eksekutor,saksi:g.value.saksi,takzir:g.value.takzir?.join("; "),keterangan:g.value.keterangan};let a=null;const t=!g.value.id;a=t?await(0,u.A)({endPoint:"indisipliner",data:e,loading:b}):await(0,r.A)({endPoint:`indisipliner/${g.value.id}`,data:e,confirm:!0,notify:!0,loading:b}),a&&(document.getElementById("btn-close-form").click(),p("successSubmit",a?.indisipliner),p(t?"successCreate":"successUpdate",a?.indisipliner))}const k=async()=>{const e=g.value.id,a=await(0,d.A)({endPoint:`indisipliner/${e}`,loading:b});a&&(document.getElementById("btn-close-form").click(),p("successDelete",e))};(0,l.sV)((async()=>{Object.assign(g.value,t.data),g.value.pasal&&(g.value.pasal=g.value.pasal.split(",")),g.value.takzir&&(g.value.takzir=g.value.takzir.split(","))}));const _=[{value:1,label:"Sangat Ringan"},{value:2,label:"Ringan"},{value:3,label:"Sedang"},{value:4,label:"Berat"},{value:5,label:"Sangat Berat"}];return(e,a)=>{const u=(0,l.g2)("q-spinner-cube"),r=(0,l.g2)("q-dialog"),d=(0,l.g2)("q-input"),p=(0,l.g2)("q-rating"),f=(0,l.g2)("q-select"),h=(0,l.g2)("q-card-section"),y=(0,l.g2)("FormActions"),w=(0,l.g2)("q-form"),S=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(S,{class:"full-width",style:{"max-width":"425px"}},{default:(0,l.k6)((()=>[(0,l.bF)(w,{onSubmit:(0,n.D$)(v,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(c.A,{title:"Input Santri Indisipliner","is-new":!g.value.id},null,8,["is-new"]),(0,l.bF)(h,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[b.value?((0,l.uX)(),(0,l.CE)("div",F,[(0,l.bF)(r,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(u,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])),_:1},8,["modelValue"])])):(0,l.Q3)("",!0),(0,l.Lk)("div",null,[(0,l.bF)(m.A,{"active-only":!0,onEmitInput:a[1]||(a[1]=e=>Object.assign(g.value,e)),data:t.data},null,8,["data"]),(0,l.bF)(d,{dense:"",hint:(0,i.R1)(o.$P)(g.value.tgl_kasus)?(0,i.R1)(o.H6)(g.value.tgl_kasus)+" | "+(0,i.R1)(s.IU)((0,i.R1)(s.cE)(g.value.tgl_kasus)):"",class:"q-mt-sm",outlined:"",label:"Tanggal Kasus*",modelValue:g.value.tgl_kasus,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value.tgl_kasus=e),type:"date",rules:[e=>!!e||"Harus diisi!"],"error-color":"negative"},null,8,["hint","modelValue","rules"]),(0,l.bF)(d,{dense:"",hint:(0,i.R1)(o.$P)(g.value.tgl_sidang)?(0,i.R1)(o.H6)(g.value.tgl_sidang)+" | "+(0,i.R1)(s.IU)((0,i.R1)(s.cE)(g.value.tgl_sidang)):"",class:"q-mt-sm",outlined:"",label:"Tanggal Sidang*",modelValue:g.value.tgl_sidang,"onUpdate:modelValue":a[3]||(a[3]=e=>g.value.tgl_sidang=e),type:"date",rules:[e=>!!e||"Harus diisi!"],"error-color":"negative"},null,8,["hint","modelValue","rules"]),(0,l.bF)(f,{dense:"",modelValue:g.value.kategori,"onUpdate:modelValue":a[5]||(a[5]=e=>g.value.kategori=e),class:"q-mt-sm",outlined:"",label:"Kategori*",options:_,"emit-value":"","map-options":"",rules:[e=>!!e||"Harus diisi!"],"error-color":"negative",behavior:"menu"},{after:(0,l.k6)((()=>[(0,l.bF)(p,{class:"",name:"kategori",modelValue:g.value.kategori,"onUpdate:modelValue":a[4]||(a[4]=e=>g.value.kategori=e),max:"5",color:"red",icon:"thumb_down","icon-selected":"thumb_down",size:"1em"},null,8,["modelValue"])])),_:1},8,["modelValue","rules"]),(0,l.bF)(A,{class:"q-mt-sm",modelValue:g.value.pasal,"onUpdate:modelValue":a[6]||(a[6]=e=>g.value.pasal=e),rules:[e=>!!e||"Harus diisi!"],selected:g.value.pasal?g.value.pasal.join("; "):""},null,8,["modelValue","rules","selected"]),(0,l.bF)(d,{dense:"",class:"q-mt-sm",outlined:"",label:"Deskripsi",modelValue:g.value.deskripsi,"onUpdate:modelValue":a[7]||(a[7]=e=>g.value.deskripsi=e),autogrow:""},null,8,["modelValue"]),(0,l.bF)(d,{dense:"",class:"q-mt-sm",outlined:"",label:"Eksekutor",modelValue:g.value.eksekutor,"onUpdate:modelValue":a[8]||(a[8]=e=>g.value.eksekutor=e),rules:[e=>!!e||"Harus diisi!"],"error-color":"negative"},null,8,["modelValue","rules"]),(0,l.bF)(d,{dense:"",class:"q-mt-sm",outlined:"",label:"Saksi",modelValue:g.value.saksi,"onUpdate:modelValue":a[9]||(a[9]=e=>g.value.saksi=e)},null,8,["modelValue"]),(0,l.bF)(q.A,{modelValue:g.value.takzir,"onUpdate:modelValue":a[10]||(a[10]=e=>g.value.takzir=e),url:"takzir-santri",label:"Takzir",class:"q-mt-sm",multiple:""},null,8,["modelValue"]),(0,l.bF)(d,{dense:"",class:"q-mt-sm",outlined:"",label:"Keterangan",modelValue:g.value.keterangan,"onUpdate:modelValue":a[11]||(a[11]=e=>g.value.keterangan=e),autogrow:""},null,8,["modelValue"])])])),_:1}),(0,l.bF)(y,{"btn-delete":!!g.value.id,onOnDelete:k},null,8,["btn-delete"])])),_:1})])),_:1})}}};var S=t(83341),V=t(53417),Q=t(60222),x=t(30045),j=t(71402),$=t(46395),C=t(94665);const R=w,U=R;h()(w,"components",{QCard:S.A,QForm:V.A,QCardSection:Q.A,QDialog:x.A,QSpinnerCube:j.A,QInput:$.A,QSelect:_.A,QRating:C.A})},40404:(e,a,t)=>{t.d(a,{A:()=>o});var l=t(51347),n=t(37763);const i={__name:"LogoCircle",props:{size:{type:Number,default:100},border:{type:Number,default:4}},setup(e){return(a,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"container-logo",style:(0,n.Tr)({width:`${e.size}px`,height:`${e.size}px`,borderWidth:`${e.border}px`})},t[0]||(t[0]=[(0,l.Lk)("div",null,[(0,l.Lk)("img",{src:"/icons/icon-256x256.png",alt:"logo/lambang"})],-1)]),4))}},s=i,o=s},40423:(e,a,t)=>{t.d(a,{A:()=>c});var l=t(51347),n=t(34187),i=t(2010),s=t(81730),o=t(81131),u=t(50651);const r={__name:"ImageUploader",props:{width:{type:Number,default:450},height:{type:Number,default:600},showUploader:{type:Boolean,default:!1},url:{default:null},imgFormat:{type:String,default:"png"},fieldImage:{type:String,default:"image"}},emits:["updateUploader","successUpload"],setup(e,{emit:a}){const t=e,r=a,d=(0,n.KR)(!1);(0,l.wB)((()=>t.showUploader),(e=>{d.value=e})),(0,l.$u)((()=>{r("updateUploader",d.value)}));const c={hint:"Klik atau tarik file gambar ke sini untuk upload",loading:"Uploading…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload berhasil",fail:"Upload gagal",preview:"Preview",btn:{off:"Gagal",close:"Tutup",back:"Kembali",save:"Simpan"},error:{onlyImg:"Hanya gambar",outOfSize:"Gambar melebihi batas ukuran: ",lowestPx:"Ukuran gambar terlalu rendah. Setidaknya diharapkan: "}},m=(0,n.KR)(""),p={},g=e=>{m.value=e},b=e=>{(0,s.VX)(e.message),r("successUpload")},v=(e,a)=>{console.log("upload status",e),console.log("upload field",a),401==e&&(0,s.UG)("Akses ditolak!")};return(a,s)=>((0,l.uX)(),(0,l.Wv)((0,n.R1)(i.A),{field:e.fieldImage,langType:"en",langExt:c,"no-circle":"",onCropSuccess:g,onCropUploadSuccess:b,onCropUploadFail:v,modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),width:t.width,height:t.height,url:(0,n.R1)(o.A).defaults.baseURL+t.url,params:p,headers:{Authorization:`Bearer ${(0,n.R1)(u.A)()}`},withCredentials:"","img-format":t.imgFormat},null,8,["field","modelValue","width","height","url","headers","img-format"]))}},d=r,c=d},40517:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(30705);const n=(0,l.nY)("santri",{state:()=>({santri:{id:null,tgl_daftar_m:null,tgl_daftar_h:null,nama:null,nisn:null,nkk:null,nik:null,tmp_lahir:"Bangkalan",tgl_lahir:null,sex:"L",provinsi:"Jawa Timur",kabupaten:"Kab. Bangkalan",kecamatan:null,desa:null,rt:1,rw:1,jl:null,kode_pos:null,alamat_lengkap:null,alamat_pendek:null,pa_formal_tingkat:null,pa_formal_kelas:null,pa_formal_alamat:null,pa_diniyah_tingkat:null,pa_diniyah_kelas:null,pa_diniyah_alamat:null,ortu_id:null,anak_ke:null,wali_id:null,wali_status:null,data_akhir:"",image_url:""},wali:{id:null,nama:null,sex:null},ortu:{id:null,ayah:null,ibu:null,jumlah_anak:null},isNew:!0}),getters:{getSantri:e=>e.santri,getWali:e=>e.wali,getOrtu:e=>e.ortu},actions:{setSantri(e){for(const a in this.santri)a in e&&(this.santri[a]=e[a])},setWali(e){for(const a in this.wali)a in e&&(this.wali[a]=e[a])},setOrtu(e){for(const a in this.ortu)a in e&&(this.ortu[a]=e[a])},setNull(){for(const e in this.santri)this.santri[e]=null;for(const e in this.wali)this.wali[e]=null;for(const e in this.ortu)this.ortu[e]=null},setEdit(){this.isNew=!1},setNew(){this.isNew=!0}},persist:{storage:sessionStorage}})},43887:(e,a,t)=>{t.d(a,{A:()=>_});var l=t(51347),n=t(5313),i=t(81730),s=t(34187),o=t(60455);const u={class:"row",style:{"max-width":"1000px",width:"100%"}},r={__name:"FilterTanggal",props:{startUrl:String},emits:["dataFilter"],setup(e,{emit:a}){const t=e,r=a,d=(0,o.lq)(),c=(0,o.rd)(),m={startDate:d.params.startDate||0,endDate:d.params.endDate||0},p=(0,s.KR)(m.startDate),g=(0,s.KR)(m.endDate);function b(){const e=()=>{let e="";return p.value&&(e+=" ➡️ <em>dari tanggal:</em> <strong>"+(0,n.H6)(p.value)+"</strong>"),g.value&&(e+=" ➡️ <em>sampai tanggal:</em> <strong>"+(0,n.H6)(g.value)+"</strong>"),e||'<div class="text-green-13 text-italic">Tentukan filter!</div>'},a={startDate:p.value||"",endDate:g.value||"",display:e()};r("dataFilter",a)}return(0,l.sV)((async()=>{b()})),(0,l.wB)(p,((e,a)=>{e>g.value?(0,i.KQ)("Tanggal awal haruslah lebih kecil"):e==a||c.push(`${t.startUrl}/${e||0}/${g.value}`)})),(0,l.wB)(g,((e,a)=>{p.value>e?(0,i.KQ)("Tanggal akhir haruslah lebih besar"):e==a||c.push(`${t.startUrl}/${p.value}/${e||0}`)})),(e,a)=>{const t=(0,l.g2)("q-toolbar-title"),n=(0,l.g2)("q-toolbar"),i=(0,l.g2)("q-card-section"),s=(0,l.g2)("q-input"),o=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"q-px-sm q-py-sm bg-green-11"},{default:(0,l.k6)((()=>[(0,l.bF)(n,{class:"no-padding",style:{"min-height":"0"}},{default:(0,l.k6)((()=>[(0,l.bF)(t,{class:"text-subtitle1"},{default:(0,l.k6)((()=>a[2]||(a[2]=[(0,l.Lk)("div",{class:"text-subtitle2 text-weight-bold"}," Filter Tanggal ",-1)]))),_:1}),(0,l.RG)(e.$slots,"default")])),_:3})])),_:3}),(0,l.bF)(i,{class:"no-padding"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",u,[(0,l.bF)(s,{class:"col-12 col-md-3 q-pa-sm",outlined:"",dense:"",label:"Tanggal Awal",modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),rules:["date"],type:"date"},null,8,["modelValue"]),(0,l.bF)(s,{class:"col-12 col-md-3 q-pa-sm",outlined:"",dense:"",label:"Tanggal Akhir",modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=e=>g.value=e),rules:["date"],type:"date"},null,8,["modelValue"])])])),_:1})])),_:3})}}};var d=t(83341),c=t(60222),m=t(66739),p=t(4629),g=t(46395),b=t(272),v=t.n(b);const k=r,_=k;v()(r,"components",{QCard:d.A,QCardSection:c.A,QToolbar:m.A,QToolbarTitle:p.A,QInput:g.A})},44280:(e,a,t)=>{t.d(a,{A:()=>o});var l=t(59100),n=t(71492),i=t(81730);function s(e){if(l.A.isAxiosError(e))if(e.response){const a=e.response.data?.message;a?(0,i.UG)((0,n.KJ)(a)):console.log(`Response error during ${e.config?.method?.toUpperCase()} ${e.config?.url}`,e)}else console.error(`General error during ${e.config?.method?.toUpperCase()} ${e.config?.url}`,e);else console.error("Unexpected error: ",e)}const o=s},47509:(e,a,t)=>{t.d(a,{A:()=>o});var l=t(81131),n=t(44280),i=t(81730);async function s({endPoint:e,data:a,confirm:t=!0,message:s,loading:o,notify:u=!0,params:r,config:d}){if(s||t){const e=s||"Update data ini?",a=await(0,i.Ix)(e,!0);if(!a)return!1}try{o&&"boolean"===typeof o.value&&(o.value=!0);const t={...d};r&&(t.params=r);const n=await l.A.put(e,a,t);return u&&(0,i.VX)(n.data.message),n.data.data}catch(e){return(0,n.A)(e),!1}finally{o&&"boolean"===typeof o.value&&(o.value=!1)}}const o=s},48110:(e,a,t)=>{function l(e){const a="number"===typeof e?String(e):e,t=a.slice(4,6),l=a.slice(0,4);let n=0,i=0;return 8!==a.length||!/^\d+$/.test(a)||0===+t||0===+l||+t>12?"":(+t<=8?(n=+l-1,i=+l):(n=+l,i=+l+1),`${n}-${i}`)}t.d(a,{J:()=>l})},48652:(e,a,t)=>{t.d(a,{Q:()=>n,R:()=>i});const l=[{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"tingkat",label:"Tingkat",align:"left",field:"tingkat",sortable:!0},{name:"kelas",label:"Kelas",align:"left",field:"kelas",sortable:!0},{name:"domisili",label:"Domisili",align:"left",field:"domisili",sortable:!0},{name:"marhalah",label:"Marhalah",align:"left",field:"marhalah",sortable:!0},{name:"faslah",label:"Faslah/Kelas",align:"left",field:"faslah",sortable:!0}],n=[{name:"id",label:"ID Santri",align:"center",field:"id",sortable:!0},...l],i=[{name:"santri_id",label:"ID Santri",align:"center",field:"santri_id",sortable:!0},...l]},49661:(e,a,t)=>{t.d(a,{A:()=>j});var l=t(51347),n=t(37763);const i={class:"flex items-center"},s={class:"text-subtitle2"},o={key:0},u={key:1},r={key:0},d={class:"row"},c={class:"col"},m={class:"row"},p={class:"col"},g={key:1},b={__name:"CardSantriLists",props:{title:String,data:Object,loading:Boolean},setup(e){return(a,t)=>{const b=(0,l.g2)("q-space"),v=(0,l.g2)("q-card-section"),k=(0,l.g2)("q-spinner-cube"),_=(0,l.g2)("q-img"),f=(0,l.g2)("q-avatar"),h=(0,l.g2)("q-item-section"),y=(0,l.g2)("q-item-label"),A=(0,l.g2)("q-item"),q=(0,l.g2)("q-list"),F=(0,l.g2)("q-card"),w=(0,l.gN)("ripple");return(0,l.uX)(),(0,l.Wv)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{class:"bg-green-7 text-green-11 q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",i,[(0,l.Lk)("div",s,(0,n.v_)(e.title),1),(0,l.bF)(b),(0,l.RG)(a.$slots,"button")])])),_:3}),(0,l.bF)(v,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[e.loading?((0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(k,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):((0,l.uX)(),(0,l.CE)("div",u,[e.data?.length?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(q,{bordered:"",separator:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.data,(e=>(0,l.bo)(((0,l.uX)(),(0,l.Wv)(A,{key:e.id,class:"",clickable:"",to:"/santri/"+e.id},{default:(0,l.k6)((()=>[(0,l.bF)(h,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(f,{square:""},{default:(0,l.k6)((()=>[(0,l.bF)(_,{src:e?.image||"/user-default.png",alt:"santri",fit:"cover"},null,8,["src"])])),_:2},1024)])),_:2},1024),(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,{lines:"1",class:"text-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.nama)+" ("+(0,n.v_)(e.sex)+") ",1)])),_:2},1024),(0,l.bF)(y,{overline:"",lines:"1"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.id)+" | "+(0,n.v_)(e.data_akhir),1)])),_:2},1024),(0,l.bF)(y,{lines:"1"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",d,[t[0]||(t[0]=(0,l.Lk)("div",{class:"col-2 text-caption"}," Wali: ",-1)),(0,l.Lk)("div",c,(0,n.v_)(e.wali_nama)+" ("+(0,n.v_)(e.wali_status)+") ",1)]),(0,l.Lk)("div",m,[t[1]||(t[1]=(0,l.Lk)("div",{class:"col-2 text-caption"}," Ortu: ",-1)),(0,l.Lk)("div",p,(0,n.v_)(e.ayah)+" | "+(0,n.v_)(e.ibu),1)])])),_:2},1024)])),_:2},1024)])),_:2},1032,["to"])),[[w]]))),128))])),_:1})])):((0,l.uX)(),(0,l.CE)("div",g,t[2]||(t[2]=[(0,l.Lk)("div",{class:"text-body2 text-center"}," Tidak ada data untuk ditampilkan! ",-1)])))]))])),_:1})])),_:3})}}};var v=t(83341),k=t(60222),_=t(5873),f=t(71402),h=t(53766),y=t(22589),A=t(14958),q=t(25305),F=t(87472),w=t(99039),S=t(14028),V=t(272),Q=t.n(V);const x=b,j=x;Q()(b,"components",{QCard:v.A,QCardSection:k.A,QSpace:_.A,QSpinnerCube:f.A,QList:h.A,QItem:y.A,QItemSection:A.A,QAvatar:q.A,QImg:F.A,QItemLabel:w.A}),Q()(b,"directives",{Ripple:S.A})},50657:(e,a,t)=>{t.d(a,{A:()=>q});t(60939),t(16461),t(7049),t(56593),t(3142),t(38832),t(88825),t(52528),t(94207),t(39188),t(31118);var l=t(51347),n=t(37763),i=t(8633),s=t(58094),o=t(34187);const u={__name:"InputSelectIuranPaket",emits:["onInput"],setup(e,{emit:a}){const t=(0,o.KR)(!1),u=(0,o.KR)(!1),r=(0,o.KR)(""),d=(0,o.KR)([]),c=a;async function m(){const e=await(0,s.A)({endPoint:"iuran-paket",loading:t});e&&(d.value=e.iuran_paket)}function p(){const e=d.value.map((e=>e.paket));return Array.from(new Set(e))}function g(){return d.value.filter((e=>e.paket==r.value))}function b(){const e=g().reduce((function(e,a){return e+Number(a.nominal)}),0);return e}return(0,l.wB)(r,(e=>{const a=JSON.parse(JSON.stringify(d.value)).filter((a=>a.paket==e)).map((e=>({paket:e.paket,item:e.item,nominal:e.nominal})));c("onInput",a||null)})),(0,l.sV)((async()=>{await m()})),(e,a)=>{const s=(0,l.g2)("q-btn"),o=(0,l.g2)("q-select"),d=(0,l.g2)("q-space"),c=(0,l.g2)("q-item-label"),m=(0,l.g2)("q-item-section"),v=(0,l.g2)("q-item"),k=(0,l.g2)("q-list"),_=(0,l.g2)("q-card-section"),f=(0,l.g2)("q-card"),h=(0,l.g2)("q-slide-transition"),y=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(o,{label:"Pilih paket",dense:"",outlined:"","emit-value":"","map-options":"",options:p(),loading:t.value,behavior:"menu",clearable:"",hint:b().toRupiah(),modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),rules:[e=>!!e||"Harus diisi!"],class:(0,n.C4)([e.$attrs.class])},{after:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)(s,{"no-caps":"",icon:"settings",to:"/iuran/paket",outline:"",dense:"",class:"q-pa-sm"},null,512),[[y]]),(0,l.bF)(s,{color:"green","no-caps":"",icon:"info",outline:"",dense:"",class:"q-pa-sm",onClick:a[0]||(a[0]=e=>u.value=!u.value)})])),_:1},8,["options","loading","hint","modelValue","rules","class"]),(0,l.bF)(h,{appear:""},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)(_,{class:"no-padding q-my-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{bordered:"",flat:"",class:"bg-green-1 scroll",style:{height:"150px"}},{default:(0,l.k6)((()=>[(0,l.bF)(_,{class:"q-pa-sm q-card--bordered"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{separator:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(g(),((e,a)=>((0,l.uX)(),(0,l.Wv)(v,{key:a,dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{class:"flex"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.urut??"#")+". "+(0,n.v_)(e.item)+" ",1),(0,l.bF)(d),(0,l.eW)(" "+(0,n.v_)(Number(e.nominal).toRupiah()),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,l.bF)(v,{dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{class:"text-right text-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(b().toRupiah()),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[i.aG,u.value]])])),_:1})],64)}}};var r=t(76941),d=t(22677),c=t(26510),m=t(60222),p=t(83341),g=t(53766),b=t(22589),v=t(14958),k=t(99039),_=t(5873),f=t(61038),h=t(272),y=t.n(h);const A=u,q=A;y()(u,"components",{QSelect:r.A,QBtn:d.A,QSlideTransition:c.A,QCardSection:m.A,QCard:p.A,QList:g.A,QItem:b.A,QItemSection:v.A,QItemLabel:k.A,QSpace:_.A}),y()(u,"directives",{ClosePopup:f.A})},53780:(e,a,t)=>{t.d(a,{A:()=>c});var l=t(51347),n=t(58094),i=t(34187);const s={__name:"InputSelectKotaLahir",props:{data:{type:Object,required:!0}},emits:["emitInput"],setup(e,{emit:a}){const t=e,s=a,o=(0,i.KR)(t.data),u=(0,i.KR)([]),r=(0,i.KR)(!1);function d(){s("emitInput",o.value)}async function c(e,a){if(!e)return void a((()=>{u.value=[]}));const t=await(0,n.A)({endPoint:"alamat/kabupaten-kota",loading:r,params:{q:e}});a((()=>u.value=t.kabupaten_kota),(a=>{""!==e&&a.options.length&&(a.setOptionIndex(-1),a.moveOptionSelection(1,!0))}))}return(0,l.sV)((async()=>{})),(e,a)=>{const t=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(t,{class:"q-mt-sm",dense:"",hint:"Kota kelahiran",outlined:"",label:"Tempat Lahir",modelValue:o.value.tmp_lahir,"onUpdate:modelValue":[a[0]||(a[0]=e=>o.value.tmp_lahir=e),d],options:u.value,"emit-value":"","map-options":"","error-color":"negative",loading:r.value,"input-debounce":"100","use-input":"",clearable:"","new-value-mode":"add",onFilter:c,behavior:"menu"},null,8,["modelValue","options","loading"])}}};var o=t(76941),u=t(272),r=t.n(u);const d=s,c=d;r()(s,"components",{QSelect:o.A})},55123:(e,a,t)=>{t.d(a,{A:()=>_});t(60939),t(17008);var l=t(51347),n=t(37763),i=t(58094),s=t(34187);const o={__name:"InputSelectSantriId",props:{activeOnly:{type:Boolean},data:{type:Object}},emits:["emitInput"],setup(e,{emit:a}){const t=e,o=a,u=(0,s.KR)({}),r=(0,s.KR)(!1),d=(0,s.KR)([]);function c(){u.value.nama=d.value.find((e=>e.id==u.value?.santri_id))?.nama,u.value.data_akhir=d.value.find((e=>e.id==u.value?.santri_id))?.data_akhir,o("emitInput",u.value)}async function m(e,a){if(!e)return void a((()=>{d.value=[]}));const l=await(0,i.A)({endPoint:"santri/ids",loading:r,params:{active_only:!!t.activeOnly,q:e}});a((()=>d.value=l.lists),(a=>{""!==e&&a.options.length&&(a.setOptionIndex(-1),a.moveOptionSelection(1,!0))}))}return(0,l.sV)((async()=>{const e={santri_id:t.data?.santri_id,nama:t.data?.nama,data_akhir:t.data?.data_akhir};Object.assign(u.value,e)})),(e,a)=>{const t=(0,l.g2)("q-item-label"),i=(0,l.g2)("q-item-section"),s=(0,l.g2)("q-item"),o=(0,l.g2)("q-select"),p=(0,l.g2)("q-input"),g=(0,l.g2)("q-card-section"),b=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(b,{class:"",flat:"",bordered:""},{default:(0,l.k6)((()=>[(0,l.bF)(g,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{class:"",dense:"",hint:e.$props.activeOnly?"Hanya menampilkan santri aktif":"Ketikkan ID Santri",outlined:"",label:"ID Santri*",modelValue:u.value.santri_id,"onUpdate:modelValue":[a[0]||(a[0]=e=>u.value.santri_id=e),c],options:d.value,"emit-value":"","map-options":"","option-value":"id","option-label":"id","error-color":"negative",loading:r.value,"use-input":"",clearable:"",onFilter:m,disable:!!u.value.santri_id,behavior:"menu"},{option:(0,l.k6)((e=>[(0,l.bF)(s,(0,n._B)((0,l.Ng)(e.itemProps)),{default:(0,l.k6)((()=>[(0,l.bF)(i,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.opt.id)+" — "+(0,n.v_)(e.opt.nama),1)])),_:2},1024),(0,l.bF)(t,{caption:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.opt.data_akhir),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["hint","modelValue","options","loading","disable"]),(0,l.bF)(p,{hint:u.value.data_akhir,class:"q-mt-sm",dense:"",outlined:"",label:"Nama",modelValue:u.value.nama,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value.nama=e),disable:"",filled:""},null,8,["hint","modelValue"])])),_:1})])),_:1})}}};var u=t(83341),r=t(60222),d=t(76941),c=t(22589),m=t(14958),p=t(99039),g=t(46395),b=t(272),v=t.n(b);const k=o,_=k;v()(o,"components",{QCard:u.A,QCardSection:r.A,QSelect:d.A,QItem:c.A,QItemSection:m.A,QItemLabel:p.A,QInput:g.A})},56194:(e,a,t)=>{t.d(a,{H:()=>o,M:()=>i});var l=t(81131),n=t(44280);async function i({loadingArray:e,loading:a,key:t,sort:i=null,url:s=""}){e&&(e.value[t]=!0),a&&"boolean"===typeof a.value&&(a.value=!0);const o=s?.length?s:`lists/${t}`,u=t.replace(/-/g,"_");try{const{data:e}=await l.A.get(o),a=e.data[u];return"asc"===i||!0===i?a.sort(((e,a)=>e.val0.localeCompare(a.val0,void 0,{sensitivity:"base"}))):"desc"!==i&&!1!==i||a.sort(((e,a)=>a.val0.localeCompare(e.val0,void 0,{sensitivity:"base"}))),a}catch(e){return(0,n.A)(e),!1}finally{e&&(e.value[t]=!1),a&&"boolean"===typeof a.value&&(a.value=!1)}}function s(e){for(let a=0;a<e.length;a++)if("object"===typeof e[a])return!0;return!1}async function o({loadingArray:e,loading:a,key:t,url:i,params:o,sort:u=null}){e&&(e.value[t]=!0),a&&"boolean"===typeof a.value&&(a.value=!0);try{const{data:e}=await l.A.get(i,{params:o}),a=e.data[t].filter((e=>null!=e));return s(a)||("asc"===u||!0===u?a.sort(((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"}))):"desc"!==u&&!1!==u||a.sort(((e,a)=>a.localeCompare(e,void 0,{sensitivity:"base"})))),a}catch(e){return(0,n.A)(e),!1}finally{e&&(e.value[t]=!1),a&&"boolean"===typeof a.value&&(a.value=!1)}}},58094:(e,a,t)=>{t.d(a,{A:()=>o});var l=t(81131),n=t(44280),i=t(81730);async function s({endPoint:e,loading:a,params:t,notify:s=!1,config:o}){try{a&&"boolean"===typeof a.value&&(a.value=!0);const n={...o};t&&(n.params=t);const{data:u}=await l.A.get(e,n);return s&&(0,i.VX)(u.message),u.data}catch(e){return(0,n.A)(e),!1}finally{a&&"boolean"===typeof a.value&&(a.value=!1)}}const o=s},58850:(e,a,t)=>{t.d(a,{A:()=>j});var l=t(51347),n=t(37763),i=t(34187),s=t(58094),o=t(40517);const u={key:1},r={key:1},d={key:1},c={key:1},m={key:1},p={__name:"CardSantri",props:{id:{type:[Number,String],validator(e){if("number"===typeof e)return!isNaN(e);if("string"===typeof e){const a=Number(e);return!isNaN(a)}return!1}}},emits:["loaded"],setup(e,{emit:a}){const t=a,p=e,g=(0,i.KR)(!1),b=(0,i.KR)({}),v=(0,i.KR)({}),k=(0,i.KR)({}),_=async()=>{const e=await(0,s.A)({endPoint:"santri/"+p.id,loading:g});e&&(b.value=e.santri,k.value=e.wali,v.value=e.ortu,(0,o.A)().setSantri(e.santri),(0,o.A)().setOrtu(e.ortu),(0,o.A)().setWali(e.wali))};return(0,l.nT)((async()=>{if(p.id){const e=(0,o.A)().getSantri,a=(0,o.A)().getWali,l=(0,o.A)().getOrtu;e.id==p.id?(b.value=e,v.value=l,k.value=a):await _(),t("loaded",b.value)}})),(a,t)=>{const i=(0,l.g2)("q-toolbar-title"),s=(0,l.g2)("q-btn"),o=(0,l.g2)("q-toolbar"),p=(0,l.g2)("q-card-section"),f=(0,l.g2)("q-skeleton"),h=(0,l.g2)("q-img"),y=(0,l.g2)("q-avatar"),A=(0,l.g2)("q-item-section"),q=(0,l.g2)("q-item-label"),F=(0,l.g2)("q-item"),w=(0,l.g2)("q-separator"),S=(0,l.g2)("q-list"),V=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(V,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,{class:"no-padding"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{class:"bg-green-1"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"text-subtitle1"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)(" Identitas Santri ")]))),_:1}),(0,l.bF)(s,{icon:"sync",outline:"",onClick:_})])),_:1})])),_:1}),(0,l.bF)(p,{class:"q-py-sm q-px-none"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(A,{avatar:""},{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"QAvatar"})):((0,l.uX)(),(0,l.Wv)(y,{key:1,class:"d-flex"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{src:b.value?.image_url||"/user-default.png",ratio:1,cover:""},null,8,["src"])])),_:1}))])),_:1}),(0,l.bF)(A,null,{default:(0,l.k6)((()=>[(0,l.bF)(q,{overline:""},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" Santri ")]))),_:1}),(0,l.bF)(q,null,{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"text"})):((0,l.uX)(),(0,l.CE)("div",u,(0,n.v_)(b.value.nama)+" ("+(0,n.v_)(b.value.sex)+") ",1))])),_:1}),(0,l.bF)(q,{caption:"",lines:"1"},{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"text"})):((0,l.uX)(),(0,l.CE)("div",r,(0,n.v_)(b.value?.alamat_pendek||"-"),1))])),_:1}),(0,l.bF)(q,{caption:"",lines:"1",class:"text-italic"},{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"text"})):((0,l.uX)(),(0,l.CE)("div",d,(0,n.v_)(b.value?.data_akhir||"-"),1))])),_:1})])),_:1}),(0,l.bF)(A,{avatar:""},{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"QBtn",class:"full-width"})):((0,l.uX)(),(0,l.Wv)(s,{key:1,outline:"",color:"green",to:`/santri/${b.value?.id}`},{default:(0,l.k6)((()=>[(0,l.Lk)("small",null,(0,n.v_)(b.value?.id),1)])),_:1},8,["to"]))])),_:1})])),_:1}),(0,l.bF)(w,{inset:"item"}),(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(A,{top:"",avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(y)])),_:1}),(0,l.bF)(A,null,{default:(0,l.k6)((()=>[(0,l.bF)(q,{overline:""},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)(" Wali ")]))),_:1}),(0,l.bF)(q,null,{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"text"})):((0,l.uX)(),(0,l.CE)("div",c,(0,n.v_)(k.value?.nama)+" ("+(0,n.v_)(k.value?.sex)+"; "+(0,n.v_)(b.value?.wali_status)+") ",1))])),_:1})])),_:1}),(0,l.bF)(A,{avatar:""},{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"QBtn",class:"full-width"})):((0,l.uX)(),(0,l.Wv)(s,{key:1,outline:"",color:"green",to:`/wali/${b.value?.wali_id}`},{default:(0,l.k6)((()=>[(0,l.Lk)("small",null,(0,n.v_)(b.value?.wali_id),1)])),_:1},8,["to"]))])),_:1})])),_:1}),(0,l.bF)(w,{inset:"item"}),(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(A,{top:"",avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(y)])),_:1}),(0,l.bF)(A,null,{default:(0,l.k6)((()=>[(0,l.bF)(q,{overline:""},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)(" Orang Tua ")]))),_:1}),(0,l.bF)(q,null,{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"text"})):((0,l.uX)(),(0,l.CE)("div",m,(0,n.v_)(v.value?.ayah)+" | "+(0,n.v_)(v.value?.ibu),1))])),_:1})])),_:1}),(0,l.bF)(A,{avatar:""},{default:(0,l.k6)((()=>[g.value||!e.id?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"QBtn",class:"full-width"})):((0,l.uX)(),(0,l.Wv)(s,{key:1,outline:"",color:"green",to:`/ortu/${b.value?.ortu_id}`},{default:(0,l.k6)((()=>[(0,l.Lk)("small",null,(0,n.v_)(b.value?.ortu_id),1)])),_:1},8,["to"]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}};var g=t(83341),b=t(60222),v=t(66739),k=t(4629),_=t(22677),f=t(53766),h=t(22589),y=t(14958),A=t(70981),q=t(25305),F=t(87472),w=t(99039),S=t(86915),V=t(272),Q=t.n(V);const x=p,j=x;Q()(p,"components",{QCard:g.A,QCardSection:b.A,QToolbar:v.A,QToolbarTitle:k.A,QBtn:_.A,QList:f.A,QItem:h.A,QItemSection:y.A,QSkeleton:A.Ay,QAvatar:q.A,QImg:F.A,QItemLabel:w.A,QSeparator:S.A})},59678:(e,a,t)=>{t.d(a,{A:()=>o});var l=t(81131),n=t(44280),i=t(81730);async function s({endPoint:e,data:a,confirm:t=!1,message:s,loading:o,notify:u=!0,config:r,params:d}){if(s||t){const e=s||"Simpan data?",a=await(0,i.Ix)(e,!0);if(!a)return!1}try{o&&"boolean"===typeof o.value&&(o.value=!0);const t={...r};d&&(t.params=d);const n=await l.A.post(e,a,t);return u&&(0,i.VX)(n.data.message),n.data.data}catch(e){return(0,n.A)(e),!1}finally{o&&"boolean"===typeof o.value&&(o.value=!1)}}const o=s},64248:(e,a,t)=>{t.d(a,{A:()=>Q});var l=t(51347),n=t(37763),i=t(34187),s=t(58094),o=t(5313),u=t(70345),r=t(48110),d=t(60455),c=t(85236);const m={class:"flex"},p={__name:"IzinRiwayat",props:{santri_id:{required:!0}},setup(e){const a=e,t=(0,i.KR)([]),p=(0,i.KR)(!1),g=(0,i.KR)(!1),b=(0,i.KR)({}),{params:v}=(0,d.lq)();async function k(e){const a=await(0,s.A)({endPoint:"izin-pesantren",params:{santri_id:e},loading:p});a.izin_pesantren&&(t.value=a.izin_pesantren,b.value={santri_id:a.santri.id,nama:a.santri.nama,data_akhir:a.santri.data_akhir})}return(0,l.sV)((async()=>{a.santri_id?await k(a.santri_id):t.value=[]})),(0,l.$u)((async()=>{a.santri_id?await k(a.santri_id):t.value=[]})),(e,a)=>{const s=(0,l.g2)("q-toolbar-title"),d=(0,l.g2)("q-btn"),k=(0,l.g2)("q-toolbar"),_=(0,l.g2)("q-card-section"),f=(0,l.g2)("q-spinner-cube"),h=(0,l.g2)("q-space"),y=(0,l.g2)("q-item-section"),A=(0,l.g2)("q-item"),q=(0,l.g2)("q-list"),F=(0,l.g2)("q-dialog"),w=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(w,{class:""},{default:(0,l.k6)((()=>[(0,l.bF)(_,{class:"bg-green-8 no-padding"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{class:"no-padding no-margin"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:(0,l.k6)((()=>a[3]||(a[3]=[(0,l.eW)(" Riwayat Perizinan ")]))),_:1}),(0,l.bF)(d,{color:"green-11",outline:"",dense:"","no-caps":"",icon:"add",label:"Tambah",class:"q-mr-sm q-px-md",onClick:a[0]||(a[0]=e=>g.value=!0)})])),_:1})])),_:1}),p.value?((0,l.uX)(),(0,l.Wv)(_,{key:0,class:"flex flex-center"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{color:"green-12",size:"8em",class:""})])),_:1})):t.value?.length?((0,l.uX)(),(0,l.Wv)(_,{key:2,class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(q,{separator:"",bordered:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value,((e,t)=>((0,l.uX)(),(0,l.Wv)(A,{key:t,class:(0,n.C4)([e.id==(0,i.R1)(v).id?"bg-green-1":"","q-pa-sm"])},{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.Lk)("table",null,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[a[5]||(a[5]=(0,l.Lk)("td",{class:"label"},"Tanggal:",-1)),(0,l.Lk)("td",m,[(0,l.eW)((0,n.v_)((0,i.R1)(o.kz)(e.dari_tgl)+" | "+(0,i.R1)(u.jh)(e.dari_tgl))+" ",1),(0,l.bF)(h),(0,l.eW)(" "+(0,n.v_)((0,i.R1)(r.J)((0,i.R1)(u.cE)(e.dari_tgl))),1)])]),(0,l.Lk)("tr",null,[a[6]||(a[6]=(0,l.Lk)("td",{class:"label"},"Izin",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.sifat)+" | "+(0,n.v_)(e.durasi)+" hari | "+(0,n.v_)(e.pengajuan),1)]),(0,l.Lk)("tr",null,[a[7]||(a[7]=(0,l.Lk)("td",{class:"label"},"Keperluan",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.keperluan)+" "+(0,n.v_)(e.keterangan?" ("+e.keterangan+")":""),1)]),(0,l.Lk)("tr",null,[a[8]||(a[8]=(0,l.Lk)("td",{class:"label"},"Status",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.status),1)])])])])),_:2},1024),(0,l.bF)(y,{side:"",class:"no-padding"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{disable:e.id==(0,i.R1)(v).id,icon:"info",glossy:"",dense:"",round:"",outline:"",color:"green",to:`/keamanan/izin-pesantren/${e.id}`},null,8,["disable","to"])])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1})])),_:1})):((0,l.uX)(),(0,l.Wv)(_,{key:1,class:"text-italic text-center q-pa-lg"},{default:(0,l.k6)((()=>a[4]||(a[4]=[(0,l.eW)(" Tidak ada untuk ditampilkan ")]))),_:1})),(0,l.bF)(F,{modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e)},{default:(0,l.k6)((()=>[(0,l.bF)(c.A,{data:b.value,onSuccessDelete:e=>null,onSuccessSubmit:a[1]||(a[1]=a=>e.$router.push(`/keamanan/izin-pesantren/${a.id}`))},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var g=t(83341),b=t(60222),v=t(66739),k=t(4629),_=t(22677),f=t(71402),h=t(53766),y=t(22589),A=t(14958),q=t(5873),F=t(30045),w=t(272),S=t.n(w);const V=p,Q=V;S()(p,"components",{QCard:g.A,QCardSection:b.A,QToolbar:v.A,QToolbarTitle:k.A,QBtn:_.A,QSpinnerCube:f.A,QList:h.A,QItem:y.A,QItemSection:A.A,QSpace:q.A,QDialog:F.A})},64538:(e,a,t)=>{t.d(a,{A:()=>p});var l=t(51347);const n={__name:"DropDownAfter",props:{routeTo:{type:String},disableRoute:{type:Boolean,default:!1},disableReload:{type:Boolean,default:!1}},setup(e){return(a,t)=>{const n=(0,l.g2)("q-btn"),i=(0,l.g2)("q-separator"),s=(0,l.g2)("q-btn-dropdown"),o=(0,l.g2)("q-card"),u=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(o,{flat:"",bordered:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{flat:"","dropdown-icon":"more_vert",class:"q-px-sm",color:""},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)(n,{"no-caps":"",label:"Reload",flat:"",icon:"sync",class:"block",onClick:t[0]||(t[0]=e=>a.$emit("reload")),disable:e.disableReload},null,8,["disable"]),[[u]]),(0,l.bF)(i),e.routeTo?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(n,{key:0,"no-caps":"",label:"Setting",flat:"",icon:"toc",to:"/settings/lists/"+e.routeTo,class:"block",disable:e.disableRoute},null,8,["to","disable"])),[[u]]):(0,l.Q3)("",!0)])),_:1})])),_:1})}}};var i=t(83341),s=t(73614),o=t(22677),u=t(86915),r=t(61038),d=t(272),c=t.n(d);const m=n,p=m;c()(n,"components",{QCard:i.A,QBtnDropdown:s.A,QBtn:o.A,QSeparator:u.A}),c()(n,"directives",{ClosePopup:r.A})},67458:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});t(60939),t(44520);var l=t(51347),n=t(8633),i=t(34187),s=t(60455),o=t(30419),u=t(17080),r=t(81131),d=t(50651),c=t(35902),m=t(40517),p=t(83388),g=t(81730),b=t(71492);const v={__name:"OrtuSearch",setup(e){const a=(0,c.A)(),{searchOrtu:t,crudOrtu:v,crudSantri:k}=(0,i.QW)(a),{santri:_}=(0,m.A)(),{ortu_id:f}=(0,i.QW)(_),h=()=>{(0,p.A)().$reset(),v.value=!0},y=(0,s.rd)(),A=`${r.A.defaults.baseURL}/ortu/search`,q={Authorization:`Bearer ${(0,d.A)()}`};o.A.use(u.A);const F=(0,i.KR)({processing:!0,serverSide:!0,responsive:!0,ajax:{url:A,type:"POST",headers:q,error:e=>{const a=e.responseJSON?.message;a?(0,b.$r)(a).forEach((e=>(0,g.UG)(e))):console.log(`Error during get ${A}`,e)}},order:[],columns:[{title:"ID",data:"id",render:function(e,a,t){return`<button onclick='copyId(${t.id})' class='dt-btn-flat' title='Klik/Tap untuk menyalin ID'>${t.id}</button>`}},{title:"Ayah",data:"ayah",render:function(e,a,t){return`<span class="dt-link" onclick='goToOrtu(${t.id})'>${t.ayah}</span>`}},{title:"NIK Ayah",data:"a_nik"},{title:"Ibu",data:"ibu",render:function(e,a,t){return`<span class="dt-link" onclick='goToOrtu(${t.id})'>${t.ibu}</span>`}},{title:"NIK (Ibu)",data:"i_nik"},{title:"Anak1",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri1_id})'>${t.santri1_nama||"-"}</span>`}},{title:"Anak2",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri2_id})'>${t.santri2_nama||"-"}</span>`}},{title:"Anak3",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri3_id})'>${t.santri3_nama||"-"}</span>`}},{title:"Anak4",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri4_id})'>${t.santri4_nama||"-"}</span>`}},{title:"Anak5",render:function(e,a,t){return`<span class="dt-link" onclick='goToSantri(${t.santri5_id})'>${t.santri5_nama||"-"}</span>`}}],language:{search:"Cari:",zeroRecords:"Tidak data data untuk ditampilkan. Coba kata kunci yang lain!",info:"Menampilkan _START_ hingga _END_, dari total _TOTAL_ data",infoFiltered:"(disaring dari _MAX_ total data)",paginate:{first:"↑",previous:"←",next:"→",last:"↓"},lengthMenu:"_MENU_ Perhalaman"},autoWidth:!1,scrollX:!0,search:{return:!0}});return(0,l.sV)((()=>{document.goToSantri=e=>{y.push(`/santri/${e}`)},document.goToOrtu=e=>{y.push(`/ortu/${e}`)},document.copyId=e=>{k.value?f.value=e:(navigator.clipboard.writeText(e),(0,g.VX)(`ID (${e}) sudah disalin/dicopy ke clipboard`)),t.value=!1}})),(e,a)=>{const s=(0,l.g2)("q-space"),u=(0,l.g2)("q-btn"),r=(0,l.g2)("q-card-section"),d=(0,l.g2)("q-card-actions"),c=(0,l.g2)("q-card"),m=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(c,{style:{width:"100%"}},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"bg-green-8 text-green-1 q-pa-sm flex items-center"},{default:(0,l.k6)((()=>[a[0]||(a[0]=(0,l.Lk)("h2",{class:"text-subtitle1 no-margin text-green-11"}," Cari Orang Tua ",-1)),(0,l.bF)(s),(0,l.bo)((0,l.bF)(u,{label:"Tambah",color:"green-12",class:"text-green-10 q-px-sm",icon:"add","no-caps":"",dense:"",onClick:h},null,512),[[n.aG,(0,i.R1)(k)]])])),_:1}),(0,l.bF)(r,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,i.R1)(o.A),{class:"display table nowrap dt",options:F.value,style:{overflow:"hidden"}},null,8,["options"])])),_:1}),(0,l.bF)(d,{class:"bg-green-7"},{default:(0,l.k6)((()=>[a[1]||(a[1]=(0,l.Lk)("div",{class:"text-body2 text-green-11 text-italic"},[(0,l.Lk)("div",null,"▪️ Cari berdsarkan ID, nama ayah/ibu, atau NIK"),(0,l.Lk)("div",null,"▪️ simbol % = karakter apapun")],-1)),(0,l.bF)(s),(0,l.bo)((0,l.bF)(u,{label:"Tutup",color:"green-1",class:"text-green-10","no-caps":"",id:"btn-close-ortu-search"},null,512),[[m],[n.aG,(0,i.R1)(t)]])])),_:1})])),_:1})}}};var k=t(83341),_=t(60222),f=t(5873),h=t(22677),y=t(25034),A=t(61038),q=t(272),F=t.n(q);const w=v,S=w;F()(v,"components",{QCard:k.A,QCardSection:_.A,QSpace:f.A,QBtn:h.A,QCardActions:y.A}),F()(v,"directives",{ClosePopup:A.A})},68708:(e,a,t)=>{t.d(a,{A:()=>q});var l=t(51347),n=t(8633),i=t(34187),s=t(72085),o=t(59678),u=t(47509),r=t(20675),d=t(90486),c=t(92938);const m={key:0},p={__name:"KelasForm",props:{data:{type:Object,required:!0}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(e,{emit:a}){const t=e,p=a,g=(0,i.KR)({}),b=(0,i.KR)(!1),v=(0,i.KR)([]),k=(0,i.KR)([]);(0,l.sV)((async()=>{Object.assign(g.value,t.data),v.value=(0,s.A)().getByStateName("tahun-ajaran"),k.value=(0,s.A)().getByStateName("tingkat-pendidikan")}));const _=async()=>{const e={santri_id:g.value.santri_id,th_ajaran_h:g.value.th_ajaran_h,tingkat_id:g.value.tingkat_id,kelas:g.value.kelas,no_absen:g.value.no_absen,keterangan:g.value.keterangan};let a=null;const t=!g.value.id;a=t?await(0,o.A)({endPoint:"kelas",data:e,loading:b}):await(0,u.A)({endPoint:`kelas/${g.value.id}`,data:e,confirm:!0,notify:!0,loading:b}),a&&(document.getElementById("btn-close-form").click(),p("successSubmit",a?.kelas),p(t?"successCreate":"successUpdate",a?.kelas))},f=async()=>{const e=g.value.id,a=await(0,r.A)({endPoint:`kelas/${e}`,loading:b});a&&(document.getElementById("btn-close-form").click(),p("successDelete",e))};return(e,a)=>{const t=(0,l.g2)("FormHeader"),i=(0,l.g2)("q-spinner-cube"),s=(0,l.g2)("q-dialog"),o=(0,l.g2)("q-input"),u=(0,l.g2)("q-card-section"),r=(0,l.g2)("FormActions"),p=(0,l.g2)("q-form"),v=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(v,{class:"full-width",style:{"max-width":"425px"}},{default:(0,l.k6)((()=>[(0,l.bF)(p,{onSubmit:(0,n.D$)(_,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(t,{title:"Input Kelas","is-new":!g.value.id},null,8,["is-new"]),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[b.value?((0,l.uX)(),(0,l.CE)("div",m,[(0,l.bF)(s,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(i,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])),_:1},8,["modelValue"])])):(0,l.Q3)("",!0),(0,l.bF)(o,{dense:"",outlined:"",label:"Nama","model-value":g.value?.nama+" ("+g.value?.santri_id+")",disable:"",filled:""},null,8,["model-value"]),(0,l.bF)(d.A,{modelValue:g.value.th_ajaran_h,"onUpdate:modelValue":a[1]||(a[1]=e=>g.value.th_ajaran_h=e),url:"tahun-ajaran",label:"Tahun Ajaran *",sort:"desc",class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"],selected:g.value.th_ajaran_h},null,8,["modelValue","rules","selected"]),(0,l.bF)(c.A,{modelValue:g.value.tingkat_id,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value.tingkat_id=e),class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"],selected:g.value.tingkat_id},null,8,["modelValue","rules","selected"]),(0,l.bF)(d.A,{modelValue:g.value.kelas,"onUpdate:modelValue":a[3]||(a[3]=e=>g.value.kelas=e),url:"kelas",label:"Kelas *",class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"]},null,8,["modelValue","rules"]),(0,l.bF)(o,{dense:"",class:"q-mt-sm",outlined:"",label:"Nomor Absen",modelValue:g.value.no_absen,"onUpdate:modelValue":a[4]||(a[4]=e=>g.value.no_absen=e),type:"number"},null,8,["modelValue"]),(0,l.bF)(o,{dense:"",class:"q-mt-sm",outlined:"",label:"Keterangan",modelValue:g.value.keterangan,"onUpdate:modelValue":a[5]||(a[5]=e=>g.value.keterangan=e),autogrow:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(r,{"btn-delete":!!g.value.id,onOnDelete:f},null,8,["btn-delete"])])),_:1})])),_:1})}}};var g=t(83341),b=t(53417),v=t(60222),k=t(30045),_=t(71402),f=t(46395),h=t(272),y=t.n(h);const A=p,q=A;y()(p,"components",{QCard:g.A,QForm:b.A,QCardSection:v.A,QDialog:k.A,QSpinnerCube:_.A,QInput:f.A})},70345:(e,a,t)=>{t.d(a,{DQ:()=>s,IU:()=>u,XQ:()=>d,cE:()=>i,jh:()=>r,kh:()=>c});var l=t(2100),n=t(5313);function i(e,a=0){if(!(0,n.$P)(e))return;const t=new Date(e);let l,i,s,o,u,r,d=t.getFullYear(),c=t.getMonth()+1,m=t.getDate();t.setDate(t.getDate()+a),d=t.getFullYear(),c=t.getMonth()+1,m=t.getDate(),r=d%4===0?d%100!==0?d%400===0?1:0:1:0,c<3&&(d-=1,c+=12),l=d>1582||1582===d&&31*c-(1===r?5:6)>=287?2-Math.floor(d/100)+Math.floor(Math.floor(d/100)/4):0;const p=Math.floor(365.25*d)+Math.floor(30.6001*(c+1))+m+l-428,g=p-227016;i=Math.round(g/354.3671+.5);const b=g+1-354.3671*Math.floor(g/354.3671);switch(u=i%30===2||i%30===5||i%30===7||i%30===10||i%30===13||i%30===15||i%30===18||i%30===21||i%30===24||i%30===26||i%30===29?1:0,!0){case b<=30:s=1,o=Math.round(b+.5);break;case b<=59:s=2,o=Math.round(b+.5)-30;break;case b<=89:s=3,o=Math.round(b+.5)-59;break;case b<=118:s=4,o=Math.round(b+.5)-89;break;case b<=148:s=5,o=Math.round(b+.5)-118;break;case b<=177:s=6,o=Math.round(b+.5)-148;break;case b<=207:s=7,o=Math.round(b+.5)-177;break;case b<=236:s=8,o=Math.round(b+.5)-207;break;case b<=266:s=9,o=Math.round(b+.5)-236;break;case b<=295:s=10,o=Math.round(b+.5)-266;break;case b<=325:s=11,o=Math.round(b+.5)-295;break;default:s=12,o=Math.round(b+.5)-(325+u)}return o>30&&(o-=30,s<12?s+=1:(s=1,i+=1)),(o<1&&s<1||null===o&&null===s)&&(o=30,s=12),o<1&&(o=1),`${i.toString().padStart(4,"0")}${s.toString().padStart(2,"0")}${o.toString().padStart(2,"0")}`}const s=[{month:1,name:"Muharram"},{month:2,name:"Shafar"},{month:3,name:"Rabiul Awal"},{month:4,name:"Rabiul Akhir"},{month:5,name:"Jumadal Ula"},{month:6,name:"Jumadal Akhirah"},{month:7,name:"Rajab"},{month:8,name:"Syaban"},{month:9,name:"Ramadan"},{month:10,name:"Syawal"},{month:11,name:"Dzul Qadah"},{month:12,name:"Dzul Hijjah"}];function o(e){const a=s.find((a=>a.month===parseInt(e)));return a?a.name:""}function u(e){if(!e)return"-";const a=(0,l.$)(e),t=String(a).substring(6,8),n=String(a).substring(4,6),i=String(a).substring(0,4);return 8!=String(a).length||t<1||n<1||i<1?"Format salah!":`${t} ${o(n)} ${i}`}function r(e){if(!e)return"-";const a=i(e);return a.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")}function d(e){if(!e)return"-";const a=i(e);return u(a)}function c(e){return e&&8==e.length&&e.replace(/(.{4})(.{2})(.{2})/,"$1-$2-$3")||""}},71492:(e,a,t)=>{t.d(a,{$r:()=>l,B1:()=>u,I$:()=>n,KJ:()=>s,ST:()=>o});t(60939),t(13872),t(17008),t(7049);const l=e=>{let a=[];return Array.isArray(e)?a=e:"object"===typeof e?a=Object.keys(e).map((a=>e[a])):a.push(e),a};function n(e,a){const t=Array.isArray(e)?e:e.value;return t.find((e=>e.id===a))}const i=e=>Array.isArray(e)&&e.every((e=>"object"!==typeof e));function s(e){let a="";return i(e)?(a='<ul style="padding:0; padding-left:8px; min-width:250px;max-width:400px">',a+=e.map((e=>`<li>${e}</li>`)).join(""),a+="</ul>"):a=e,a}function o(e,a){const t=e.findIndex((e=>e.id==a));return-1!==t&&e.splice(t,1),e}function u(e,a,t){const l=e.findIndex((e=>e.id===a));return-1!==l&&(e[l]=t),e}},72085:(e,a,t)=>{t.d(a,{A:()=>s});t(60939),t(44520),t(7049);var l=t(30705),n=t(2746);function i(e){const a={};return e.forEach((e=>{a[e.url]=[]})),a}const s=(0,l.nY)("lists-input",{state:()=>i(n.A),getters:{},actions:{checkState(e){return!!Object.prototype.hasOwnProperty.call(this.$state,e)},getByStateName(e){return this[e]},getByStateName_arr(e){return this[e].map((e=>e.val0))}},persist:{storage:localStorage}})},75605:(e,a,t)=>{t.d(a,{A:()=>g});var l=t(51347),n=t(34187),i=t(81131),s=t(50651);const o=["src"],u={__name:"ReportViewer",props:{url:String},setup(e){const a=e;return(e,t)=>{const u=(0,l.g2)("q-card-section"),r=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(r,{style:{width:"100%",height:"90%"}},{default:(0,l.k6)((()=>[(0,l.bF)(u,{style:{width:"100%",height:"100%"},class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("iframe",{src:(0,n.R1)(i.A).defaults.baseURL+"/"+`${a.url}&token=${(0,n.R1)(s.A)()}`,style:{height:"100%",width:"100%"},frameborder:"0",loading:"lazy",scrolling:"no",seamless:"seamless"},null,8,o)])),_:1})])),_:1})}}};var r=t(83341),d=t(60222),c=t(272),m=t.n(c);const p=u,g=p;m()(u,"components",{QCard:r.A,QCardSection:d.A})},78210:(e,a,t)=>{t.d(a,{CA:()=>l,Zj:()=>i,nx:()=>n,tj:()=>o,u:()=>s});t(60939),t(7049);function l(e="",a="",t="",l="",n="",i="",s="",o=""){const u=a>0?`RT ${String(a||0).padStart(3,0)}`:"",r=a>0?`RW ${String(t||0).padStart(3,0)}`:"";return`${e||" "} ${u||" "} ${r||" "} ${l||" "} ${n||" "} ${i||" "} ${s||" "} ${o||" "}`.replace(/\s\s+/g," ")}function n(e){return e.split(" ").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")}function i(e){return e.split("-").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")}function s(e){return e.split("_").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")}function o(e){return e.split("_").map((e=>e[0].toLowerCase()+e.substring(1).toLowerCase())).join("-")}},78306:(e,a,t)=>{t.d(a,{A:()=>v});var l=t(51347);const n={class:"flex items-center"},i={class:"text-subtitle2 flex items-center"},s={key:1,src:"/idsantri.svg",class:"q-mr-xs",style:{height:"24px"},title:"ID Santri"},o=["innerHTML"],u={__name:"CardHeader",props:{showReload:{type:Boolean,default:!0},showBack:{type:Boolean,default:!0},title:{type:String,required:!0}},setup(e){return(a,t)=>{const u=(0,l.g2)("q-btn"),r=(0,l.g2)("q-space"),d=(0,l.g2)("q-card-section");return(0,l.uX)(),(0,l.Wv)(d,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",n,[(0,l.Lk)("div",i,[e.showReload?((0,l.uX)(),(0,l.Wv)(u,{key:0,icon:"sync","no-caps":"",onClick:t[0]||(t[0]=e=>a.$emit("onReload")),dense:"",flat:"",class:"q-mr-xs",title:"Muat ulang"})):((0,l.uX)(),(0,l.CE)("img",s)),(0,l.Lk)("span",{innerHTML:e.title},null,8,o)]),(0,l.bF)(r),(0,l.RG)(a.$slots,"left"),e.showBack?((0,l.uX)(),(0,l.Wv)(u,{key:0,"no-caps":"",label:a.$q.screen.lt.sm?"":"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:t[1]||(t[1]=e=>a.$router.go(-1)),title:"Kembali"},null,8,["label"])):(0,l.Q3)("",!0),(0,l.RG)(a.$slots,"right")])])),_:3})}}};var r=t(60222),d=t(22677),c=t(93933),m=t(5873),p=t(272),g=t.n(p);const b=u,v=b;g()(u,"components",{QCardSection:r.A,QBtn:d.A,QIcon:c.A,QSpace:m.A})},79865:(e,a,t)=>{t.d(a,{A:()=>W});var l=t(51347),n=t(37763),i=t(34187),s=t(58094),o=t(8633),u=t(59678),r=t(47509),d=t(20675),c=t(90486);const m={key:0},p={__name:"QuranMutaallimForm",props:{data:{type:Object,required:!0}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(e,{emit:a}){const t=e,n=a,s=(0,i.KR)({marhalah:"Ula",faslah:null,no_absen:null,aktif:1}),p=(0,i.KR)(!1);(0,l.sV)((async()=>{Object.assign(s.value,t.data)}));const g=async()=>{const e={santri_id:s.value.santri_id,marhalah:s.value.marhalah,faslah:s.value.faslah,no_absen:s.value.no_absen,aktif:s.value.aktif};let a=null;const t=!s.value.id;a=t?await(0,u.A)({endPoint:"quran/mutaallim",data:e,loading:p}):await(0,r.A)({endPoint:`quran/mutaallim/${s.value.id}`,data:e,confirm:!0,notify:!0,loading:p}),a&&(document.getElementById("btn-close-form").click(),n("successSubmit",a?.mutaallim),n(t?"successCreate":"successUpdate",a?.mutaallim))},b=async()=>{const e=s.value.id,a=await(0,d.A)({endPoint:`quran/mutaallim/${e}`,loading:p});a&&(document.getElementById("btn-close-form").click(),n("successDelete",e))};return(e,a)=>{const t=(0,l.g2)("FormHeader"),n=(0,l.g2)("q-spinner-cube"),i=(0,l.g2)("q-dialog"),u=(0,l.g2)("q-input"),r=(0,l.g2)("q-select"),d=(0,l.g2)("q-toggle"),v=(0,l.g2)("q-card"),k=(0,l.g2)("q-card-section"),_=(0,l.g2)("FormActions"),f=(0,l.g2)("q-form");return(0,l.uX)(),(0,l.Wv)(v,{class:"full-width",style:{"max-width":"425px"}},{default:(0,l.k6)((()=>[(0,l.bF)(f,{onSubmit:(0,o.D$)(g,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(t,{title:"Input Pendidikan Quran","is-new":!s.value.id},null,8,["is-new"]),(0,l.bF)(k,null,{default:(0,l.k6)((()=>[p.value?((0,l.uX)(),(0,l.CE)("div",m,[(0,l.bF)(i,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(n,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])),_:1},8,["modelValue"])])):(0,l.Q3)("",!0),(0,l.bF)(u,{dense:"",outlined:"",label:"Nama","model-value":s.value?.nama+" ("+s.value?.santri_id+")",disable:"",filled:""},null,8,["model-value"]),(0,l.bF)(r,{dense:"",outlined:"",modelValue:s.value.marhalah,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value.marhalah=e),label:"Marhalah *",class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"],options:["Ula","Wustho","Ulya"]},null,8,["modelValue","rules"]),(0,l.bF)(c.A,{modelValue:s.value.faslah,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value.faslah=e),url:"kelas-tajwid-quran",label:"Faslah/Kelas *",class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"]},null,8,["modelValue","rules"]),(0,l.bF)(v,{bordered:"",flat:"",class:"q-px-sm q-mt-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:s.value.aktif,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value.aktif=e),color:"green","true-value":1,"false-value":0,label:"Aktif",disable:!s.value.id},null,8,["modelValue","disable"])])),_:1})])),_:1}),(0,l.bF)(_,{"btn-delete":!!s.value.id,onOnDelete:b},null,8,["btn-delete"])])),_:1})])),_:1})}}};var g=t(83341),b=t(53417),v=t(60222),k=t(30045),_=t(71402),f=t(46395),h=t(76941),y=t(55725),A=t(272),q=t.n(A);const F=p,w=F;q()(p,"components",{QCard:g.A,QForm:b.A,QCardSection:v.A,QDialog:k.A,QSpinnerCube:_.A,QInput:f.A,QSelect:h.A,QToggle:y.A});var S=t(90944),V=t(71492),Q=t(5313),x=t(70345);const j={key:0},$={__name:"MutaallimCard",props:{santri:{type:Object}},setup(e){const a=(0,i.KR)(!1),t=(0,i.KR)({}),o=(0,i.KR)([]),u=(0,i.KR)(!1);async function r(e){const a=await(0,s.A)({endPoint:`quran/mutaallim/santri/${e}`,loading:u});a&&(o.value=a.mutaallim)}(0,l.$u)((async()=>{e.santri?.id?await r(e.santri.id):e.santri?.santri_id&&await r(e.santri.santri_id)}));const d=()=>{t.value={santri_id:e.santri.id,nama:e.santri.nama},a.value=!0},c=l=>{t.value=(0,V.I$)(o,l),t.value.santri_id=e.santri.id,t.value.nama=e.santri.nama,a.value=!0};return(s,m)=>{const p=(0,l.g2)("q-btn"),g=(0,l.g2)("q-card-section"),b=(0,l.g2)("q-skeleton"),v=(0,l.g2)("q-item-label"),k=(0,l.g2)("q-item-section"),_=(0,l.g2)("q-item"),f=(0,l.g2)("q-list"),h=(0,l.g2)("q-dialog"),y=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(y,{flat:"",bordered:"",class:"",style:{width:"350px"}},{default:(0,l.k6)((()=>[(0,l.bF)(g,{class:"bg-green-7 text-green-11 q-pa-sm flex items-center justify-between"},{default:(0,l.k6)((()=>[m[3]||(m[3]=(0,l.Lk)("div",null,"Riwayat Mutaallim",-1)),(0,l.bF)(p,{icon:"add",outline:"",dense:"",class:"q-px-sm",disabled:!e.santri.id,onClick:d},null,8,["disabled"])])),_:1}),(0,l.bF)(g,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[e.santri.id?((0,l.uX)(),(0,l.Wv)(S.A,{key:0,id:e.santri.id,class:"q-mb-sm"},null,8,["id"])):(0,l.Q3)("",!0),(0,l.bF)(f,{bordered:"",separator:"",class:"rounded-borders"},{default:(0,l.k6)((()=>[u.value?((0,l.uX)(),(0,l.Wv)(_,{key:0,class:"q-px-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(b,{type:"text"})])),_:1}),(0,l.bF)(v,{caption:""},{default:(0,l.k6)((()=>[(0,l.bF)(b,{type:"text"})])),_:1})])),_:1}),(0,l.bF)(k,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(b,{type:"QRadio"})])),_:1})])),_:1})):o.value?.length?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:2},(0,l.pI)(o.value,((e,a)=>((0,l.uX)(),(0,l.Wv)(_,{key:a,active:!!e.aktif,"active-class":"bg-green-1 text-green-10",class:"q-px-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.marhalah)+" | "+(0,n.v_)(e.faslah),1)])),_:2},1024),(0,l.bF)(v,{caption:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)((0,i.R1)(Q.Yq)(e.created_at,"dd-MM-yyyy"))+" | "+(0,n.v_)((0,i.R1)(x.jh)((0,i.R1)(Q.Yq)(e.created_at,"yyyy-MM-dd")))+" ",1),e.aktif?((0,l.uX)(),(0,l.CE)("span",j,m[6]||(m[6]=[(0,l.Lk)("span",null,"|",-1),(0,l.Lk)("span",{class:"text-weight-bold text-green-10"}," Aktif ",-1)]))):(0,l.Q3)("",!0)])),_:2},1024)])),_:2},1024),(0,l.bF)(k,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(p,{icon:"edit",dense:"",outline:"",round:"",glossy:"",onClick:a=>c(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["active"])))),128)):((0,l.uX)(),(0,l.Wv)(_,{key:1,class:"q-px-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>m[4]||(m[4]=[(0,l.eW)(" Tidak ada data ")]))),_:1}),(0,l.bF)(v,{caption:""},{default:(0,l.k6)((()=>m[5]||(m[5]=[(0,l.eW)(" untuk ditampilkan ")]))),_:1})])),_:1}),(0,l.bF)(k,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(p,{icon:"sym_o_exclamation",disable:"",dense:"",outline:"",round:"",color:"green-14"})])),_:1})])),_:1}))])),_:1})])),_:1}),(0,l.bF)(h,{modelValue:a.value,"onUpdate:modelValue":m[2]||(m[2]=e=>a.value=e)},{default:(0,l.k6)((()=>[(0,l.bF)(w,{data:t.value,onSuccessSubmit:m[0]||(m[0]=e=>r(t.value.santri_id)),onSuccessDelete:m[1]||(m[1]=e=>r(t.value.santri_id))},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var C=t(22677),R=t(53766),U=t(22589),T=t(14958),K=t(99039),I=t(70981);const L=$,W=L;q()($,"components",{QCard:g.A,QCardSection:v.A,QBtn:C.A,QList:R.A,QItem:U.A,QItemSection:T.A,QItemLabel:K.A,QSkeleton:I.Ay,QDialog:k.A})},80444:(e,a,t)=>{t.d(a,{A:()=>f});var l=t(51347),n=t(37763);const i={class:"flex items-center"},s={class:"text-subtitle2"},o={key:0},u={key:1},r={class:"text-caption text-italic q-pr-sm vertical-top"},d={class:"vertical-top"},c={__name:"CardColumn",props:{title:String,data:Object,loading:Boolean},setup(e){return(a,t)=>{const c=(0,l.g2)("q-space"),m=(0,l.g2)("q-card-section"),p=(0,l.g2)("q-spinner-cube"),g=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,{class:"bg-green-7 text-green-11 q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",i,[(0,l.Lk)("div",s,(0,n.v_)(e.title),1),(0,l.bF)(c),(0,l.RG)(a.$slots,"button")])])),_:3}),(0,l.bF)(m,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[e.loading?((0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(p,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):((0,l.uX)(),(0,l.CE)("table",u,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.data,((e,a)=>((0,l.uX)(),(0,l.CE)("tr",{class:"",key:a},[(0,l.Lk)("td",r,(0,n.v_)(a),1),(0,l.Lk)("td",d,(0,n.v_)(e),1)])))),128))]))])),_:1})])),_:3})}}};var m=t(83341),p=t(60222),g=t(5873),b=t(71402),v=t(272),k=t.n(v);const _=c,f=_;k()(c,"components",{QCard:m.A,QCardSection:p.A,QSpace:g.A,QSpinnerCube:b.A})},83388:(e,a,t)=>{t.d(a,{A:()=>n});var l=t(30705);const n=(0,l.nY)("ortu",{state:()=>({ortu:{id:null,ayah:null,a_tgl_lahir:null,a_tmp_lahir:null,a_nik:null,a_hidup:1,a_pa_formal_tingkat:null,a_pa_diniyah_tingkat:null,a_pekerjaan:null,ibu:null,i_tgl_lahir:null,i_tmp_lahir:null,i_nik:null,i_hidup:1,i_pa_formal_tingkat:null,i_pa_diniyah_tingkat:null,i_pekerjaan:null,jumlah_anak:null},isNew:!0}),actions:{setOrtu(e){for(const a in this.ortu)a in e&&(this.ortu[a]=e[a])},setNull(){for(const e in this.ortu)this.ortu[e]=null;this.ortu.a_hidup=1,this.ortu.i_hidup=1},setEdit(){this.isNew=!1},setNew(){this.isNew=!0}},persist:{storage:sessionStorage}})},85236:(e,a,t)=>{t.d(a,{A:()=>w});var l=t(51347),n=t(8633),i=t(34187),s=t(59678),o=t(47509),u=t(20675),r=t(5313),d=t(55123),c=t(90486),m=t(12361);const p={key:0},g={__name:"IzinPesantrenForm",props:{data:Object},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(e,{emit:a}){const t=e,g=a,b=(0,i.KR)({pengajuan:"Baru",tujuan:"Sesuai alamat rumah"}),v=(0,i.KR)(!1);async function k(){const e={santri_id:b.value.santri_id,sifat:b.value.sifat,pengajuan:b.value.pengajuan,dari_tgl:b.value.dari_tgl,durasi:b.value.durasi,keperluan:b.value.keperluan,keterangan:b.value.keterangan,tujuan:b.value.tujuan,catatan:b.value.catatan};let a=null;const t=!b.value.id;a=t?await(0,s.A)({endPoint:"izin-pesantren",data:e,loading:v}):await(0,o.A)({endPoint:`izin-pesantren/${b.value.id}`,data:e,confirm:!0,notify:!0,loading:v}),a&&(document.getElementById("btn-close-form").click(),g("successSubmit",a?.izin_pesantren),g(t?"successCreate":"successUpdate",a?.izin_pesantren))}const _=async()=>{const e=b.value.id,a=await(0,u.A)({endPoint:`izin-pesantren/${e}`,loading:v});a&&(document.getElementById("btn-close-form").click(),g("successDelete",e))};return(0,l.sV)((async()=>{Object.assign(b.value,t.data)})),(e,a)=>{const s=(0,l.g2)("q-spinner-cube"),o=(0,l.g2)("q-dialog"),u=(0,l.g2)("q-select"),g=(0,l.g2)("q-input"),f=(0,l.g2)("q-card-section"),h=(0,l.g2)("FormActions"),y=(0,l.g2)("q-form"),A=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(A,{class:"full-width",style:{"max-width":"425px"}},{default:(0,l.k6)((()=>[(0,l.bF)(y,{onSubmit:(0,n.D$)(k,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(m.A,{title:"Input Izin Santri","is-new":!b.value.id},null,8,["is-new"]),(0,l.bF)(f,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[v.value?((0,l.uX)(),(0,l.CE)("div",p,[(0,l.bF)(o,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])),_:1},8,["modelValue"])])):(0,l.Q3)("",!0),(0,l.Lk)("div",null,[(0,l.bF)(d.A,{"active-only":!0,onEmitInput:a[1]||(a[1]=e=>Object.assign(b.value,e)),data:t.data},null,8,["data"]),(0,l.bF)(c.A,{modelValue:b.value.sifat,"onUpdate:modelValue":a[2]||(a[2]=e=>b.value.sifat=e),url:"sifat-izin",label:"Sifat",class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"]},null,8,["modelValue","rules"]),(0,l.bF)(u,{label:"Pengajuan",modelValue:b.value.pengajuan,"onUpdate:modelValue":a[3]||(a[3]=e=>b.value.pengajuan=e),dense:"",outlined:"",class:"q-mt-sm",options:["Baru","Perpanjangan ke-1","Perpanjangan ke-2"],disable:"Pulang"!=b.value.sifat},null,8,["modelValue","disable"]),(0,l.bF)(g,{dense:"",hint:(0,i.R1)(r.$P)(b.value.dari_tgl)?(0,i.R1)(r.H6)(b.value.dari_tgl):"",class:"q-mt-sm",outlined:"",label:"Tanggal (M)*",modelValue:b.value.dari_tgl,"onUpdate:modelValue":a[4]||(a[4]=e=>b.value.dari_tgl=e),type:"date",rules:[e=>!!e||"Harus diisi!"],"error-color":"negative"},null,8,["hint","modelValue","rules"]),(0,l.bF)(g,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Durasi (hari)*",modelValue:b.value.durasi,"onUpdate:modelValue":a[5]||(a[5]=e=>b.value.durasi=e),rules:[e=>!!e||"Harus diisi!",e=>!e||!isNaN(e)||"Hanya angka"],"error-color":"negative"},null,8,["modelValue","rules"]),(0,l.bF)(c.A,{modelValue:b.value.keperluan,"onUpdate:modelValue":a[6]||(a[6]=e=>b.value.keperluan=e),url:"keperluan-izin",label:"Keperluan *",class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"]},null,8,["modelValue","rules"]),(0,l.bF)(c.A,{modelValue:b.value.keterangan,"onUpdate:modelValue":a[7]||(a[7]=e=>b.value.keterangan=e),url:"keterangan-izin",label:"Keterangan",class:"q-mt-sm"},null,8,["modelValue"]),(0,l.bF)(g,{dense:"",class:"q-mt-sm",outlined:"",label:"Tujuan",modelValue:b.value.tujuan,"onUpdate:modelValue":a[8]||(a[8]=e=>b.value.tujuan=e),autogrow:""},null,8,["modelValue"]),(0,l.bF)(g,{dense:"",class:"q-mt-sm",outlined:"",label:"Catatan",modelValue:b.value.catatan,"onUpdate:modelValue":a[9]||(a[9]=e=>b.value.catatan=e),autogrow:""},null,8,["modelValue"])])])),_:1}),(0,l.bF)(h,{"btn-delete":!!b.value.id,onOnDelete:_},null,8,["btn-delete"])])),_:1})])),_:1})}}};var b=t(83341),v=t(53417),k=t(60222),_=t(30045),f=t(71402),h=t(76941),y=t(46395),A=t(272),q=t.n(A);const F=g,w=F;q()(g,"components",{QCard:b.A,QForm:v.A,QCardSection:k.A,QDialog:_.A,QSpinnerCube:f.A,QSelect:h.A,QInput:y.A})},89503:(e,a,t)=>{t.d(a,{A:()=>n});t(60939),t(16461),t(17008),t(44520),t(7049),t(56593),t(84151);var l=t(30705);const n=(0,l.nY)("lists-madrasah",{state:()=>({thAjaran:[],ujian:[{value:1,label:"Satu"},{value:2,label:"Dua"},{value:3,label:"Tiga"},{value:4,label:"Empat"}],bulanUjianSetting:[],bulanUjianList:[]}),getters:{getThAjaran:e=>e.thAjaran,getUjian:e=>e.ujian},actions:{setThAjaran(e){this.thAjaran=e},addTingkatToTahun(e,a){this.thAjaran.forEach((t=>{t.th_ajaran_h==a&&(t.tingkat=e)}))},getTingkatByTahun(e){const a=this.thAjaran.find((a=>a.th_ajaran_h==e));return a?.tingkat||[]},addKelasToTingkatByTahun(e,a,t){this.thAjaran.forEach((l=>{l.th_ajaran_h==t&&l.tingkat.forEach((t=>{t.tingkat_id==a&&(t.kelas=e)}))}))},getKelasByTingkatAndTahun(e,a){const t=this.thAjaran.find((e=>e.th_ajaran_h==a));if(!t)return[];const l=t.tingkat.find((a=>a.tingkat_id==e));return l?.kelas||[]},getAllTingkat(){const e=this.thAjaran.map((e=>e.tingkat)).filter((e=>e)).reduce(((e,a)=>e.concat(a)),[]).filter(((e,a,t)=>t.findIndex((a=>a.tingkat_id===e.tingkat_id))===a));return e||[]},addBulanUjianSetting(e){e.forEach((e=>{this.bulanUjianSetting.some((a=>a.id==e.id))||this.bulanUjianSetting.push(e)}))},getBulanUjianSettingByTingkatId(e){const a=this.bulanUjianSetting.filter((a=>a.tingkat_id==e));return a||[]},addBulanUjianList(e){e.forEach((e=>{this.bulanUjianList.some((a=>a.th_ajaran_h==e.th_ajaran_h&&a.tingkat_id==e.tingkat_id&&a.bu==e.bu))||this.bulanUjianList.push(e)}))},getBulanUjianListByTahunAndTingkatId(e,a){const t=this.bulanUjianList.filter((t=>t.th_ajaran_h==e&&t.tingkat_id==a));return t||[]}},persist:{storage:sessionStorage}})},89889:(e,a,t)=>{t.d(a,{A:()=>$});t(60939),t(17008);var l=t(51347),n=t(8633),i=t(37763),s=t(34187),o=t(58094),u=t(59678),r=t(47509),d=t(20675),c=t(18348),m=t(12361),p=t(55123),g=t(90486);const b={__name:"GtCrud",props:{isNew:Boolean,data:Object},emits:["successSubmit","successDelete"],setup(e,{emit:a}){const{loadingMain:t}=(0,s.QW)((0,c.A)()),b=e,v=a,k=(0,s.KR)({}),_=(0,s.KR)([]),f=(0,s.KR)(!1);function h(){k.value.pjgt_nama=_.value.find((e=>e.id==k.value?.pjgt_id))?.nama,k.value.pjgt_wilayah=_.value.find((e=>e.id==k.value?.pjgt_id))?.wilayah}async function y(){const e={pjgt_id:k.value.pjgt_id,santri_id:k.value.santri_id,th_ajaran_h:k.value.th_ajaran_h,telepon:k.value.telepon,email:k.value.email,keterangan:k.value.keterangan};let a=null;a=b.isNew?await(0,u.A)({endPoint:"ugt/gt",data:e,loading:t}):await(0,r.A)({endPoint:`ugt/gt/${k.value.id}`,data:e,confirm:!0,notify:!0,loading:t}),a&&(document.getElementById("btn-close-crud").click(),v("successSubmit",a?.gt))}const A=async()=>{const e=await(0,d.A)({endPoint:`ugt/gt/${k.value.id}`,loading:t});e&&(document.getElementById("btn-close-crud").click(),v("successDelete"))};return(0,l.sV)((async()=>{Object.assign(k.value,b.data);const e=await(0,o.A)({endPoint:"ugt/pjgt",loading:f});_.value=e.pjgt})),(e,a)=>{const t=(0,l.g2)("q-item-label"),s=(0,l.g2)("q-item-section"),o=(0,l.g2)("q-item"),u=(0,l.g2)("q-select"),r=(0,l.g2)("q-input"),d=(0,l.g2)("q-card-section"),c=(0,l.g2)("q-btn"),v=(0,l.g2)("q-space"),q=(0,l.g2)("q-card-actions"),F=(0,l.g2)("q-form"),w=(0,l.g2)("q-card"),S=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(w,{class:"full-width",style:{"max-width":"425px"}},{default:(0,l.k6)((()=>[(0,l.bF)(F,{onSubmit:(0,n.D$)(y,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(m.A,{title:"Input Data GT","is-new":b.isNew},null,8,["is-new"]),(0,l.bF)(d,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(p.A,{"active-only":!0,onEmitInput:a[0]||(a[0]=e=>Object.assign(k.value,e)),data:b.data},null,8,["data"]),(0,l.bF)(u,{class:"q-mt-sm",dense:"",outlined:"",label:"PJGT ID*",modelValue:k.value.pjgt_id,"onUpdate:modelValue":[a[1]||(a[1]=e=>k.value.pjgt_id=e),h],options:_.value,"emit-value":"","map-options":"","option-value":"id","option-label":"id","error-color":"negative",loading:f.value,"use-input":"",clearable:"",behavior:"menu"},{option:(0,l.k6)((e=>[(0,l.bF)(o,(0,i._B)((0,l.Ng)(e.itemProps)),{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.opt.id)+" — "+(0,i.v_)(e.opt.nama),1)])),_:2},1024),(0,l.bF)(t,{caption:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.opt.wilayah),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","loading"]),(0,l.bF)(r,{dense:"",hint:k.value.pjgt_wilayah,class:"q-mt-sm",outlined:"",label:"Nama PJGT",modelValue:k.value.pjgt_nama,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.pjgt_nama=e),disable:"",filled:""},null,8,["hint","modelValue"]),(0,l.bF)(g.A,{modelValue:k.value.th_ajaran_h,"onUpdate:modelValue":a[3]||(a[3]=e=>k.value.th_ajaran_h=e),url:"tahun-ajaran",label:"Tahun Ajaran *",sort:"desc",class:"q-mt-sm",rules:[e=>!!e||"Harus diisi!"],selected:k.value.th_ajaran_h},null,8,["modelValue","rules","selected"]),(0,l.bF)(r,{dense:"",hint:"08123456789",class:"q-mt-sm",outlined:"",label:"Telepon",modelValue:k.value.telepon,"onUpdate:modelValue":a[4]||(a[4]=e=>k.value.telepon=e),rules:[e=>!e||!isNaN(e)||"Hanya angka!"],"error-color":"negative"},null,8,["modelValue","rules"]),(0,l.bF)(r,{dense:"",class:"q-mt-sm",outlined:"",label:"Email GT",modelValue:k.value.email,"onUpdate:modelValue":a[5]||(a[5]=e=>k.value.email=e)},null,8,["modelValue"]),(0,l.bF)(r,{dense:"",class:"q-mt-sm",outlined:"",label:"Keterangan",modelValue:k.value.keterangan,"onUpdate:modelValue":a[6]||(a[6]=e=>k.value.keterangan=e),autogrow:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(q,{class:"flex bg-green-6"},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)(c,{label:"Hapus",class:"bg-red text-red-1","no-caps":"",onClick:A},null,512),[[n.aG,!e.$props.isNew]]),(0,l.bF)(v),(0,l.bo)((0,l.bF)(c,{label:"Tutup",class:"bg-green-11","no-caps":"",id:"btn-close-crud"},null,512),[[S]]),(0,l.bF)(c,{type:"submit",label:"Simpan",class:"bg-green-10 text-green-11","no-caps":""})])),_:1})])),_:1})])),_:1})}}};var v=t(83341),k=t(53417),_=t(60222),f=t(76941),h=t(22589),y=t(14958),A=t(99039),q=t(46395),F=t(25034),w=t(22677),S=t(5873),V=t(61038),Q=t(272),x=t.n(Q);const j=b,$=j;x()(b,"components",{QCard:v.A,QForm:k.A,QCardSection:_.A,QSelect:f.A,QItem:h.A,QItemSection:y.A,QItemLabel:A.A,QInput:q.A,QCardActions:F.A,QBtn:w.A,QSpace:S.A}),x()(b,"directives",{ClosePopup:V.A})},90486:(e,a,t)=>{t.d(a,{A:()=>p});t(60939),t(17008);var l=t(51347),n=t(56194),i=t(72085),s=t(34187),o=t(64538);const u={__name:"InputSelectArray",props:{url:{type:String,require:!0},sort:{type:String,default:"asc"},selected:{type:String,default:""},btnSetting:{type:Boolean,default:!0}},setup(e){const a=e,t=(0,s.KR)(!1),u=(0,s.KR)([]),r=(0,i.A)();function d(){let e="";if(a.selected&&"tahun-ajaran"==a.url){const t=r.getByStateName(a.url);e=t.find((e=>e.val0===a.selected))?.val1}return e}async function c(){const e=await(0,n.M)({key:a.url,loading:t,sort:a.sort});r.$patch({[a.url]:e})}return(0,l.sV)((async()=>{const e=r.getByStateName_arr(a.url);e.length?u.value=e:(await c(),u.value=r.getByStateName_arr(a.url))})),(a,n)=>{const i=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(i,{dense:"",outlined:"","emit-value":"","map-options":"",options:u.value,loading:t.value,behavior:"menu",clearable:"",hint:d()},{after:(0,l.k6)((()=>[e.btnSetting?((0,l.uX)(),(0,l.Wv)(o.A,{key:0,"route-to":e.url,onReload:c},null,8,["route-to"])):(0,l.Q3)("",!0)])),_:1},8,["options","loading","hint"])}}};var r=t(76941),d=t(272),c=t.n(d);const m=u,p=m;c()(u,"components",{QSelect:r.A})},90944:(e,a,t)=>{t.d(a,{A:()=>w});var l=t(51347),n=t(37763),i=t(58094),s=t(40517),o=t(34187);const u={key:1},r={key:1},d={key:1},c={__name:"CardSantriSimple",props:{id:{type:[Number,String],validator(e){if("number"===typeof e)return!isNaN(e);if("string"===typeof e){const a=Number(e);return!isNaN(a)}return!1}}},emits:["loaded"],setup(e,{emit:a}){const t=a,c=e,m=(0,o.KR)(!1),p=(0,o.KR)({}),g=async()=>{const e=await(0,i.A)({endPoint:"santri/"+c.id,loading:m});e&&(p.value=e.santri,(0,s.A)().setSantri(e.santri),(0,s.A)().setOrtu(e.ortu),(0,s.A)().setWali(e.wali))};return(0,l.nT)((async()=>{if(c.id){const e=(0,s.A)().getSantri;e.id==c.id?p.value=e:await g(),t("loaded",p.value)}})),(a,t)=>{const i=(0,l.g2)("q-space"),s=(0,l.g2)("q-btn"),o=(0,l.g2)("q-card-section"),c=(0,l.g2)("q-skeleton"),b=(0,l.g2)("q-img"),v=(0,l.g2)("q-item-section"),k=(0,l.g2)("q-item-label"),_=(0,l.g2)("q-item"),f=(0,l.g2)("q-list"),h=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(h,{bordered:"",flat:""},{default:(0,l.k6)((()=>[(0,l.bF)(o,{class:"q-pa-sm text-subtitle2 bg-green-11 flex items-center"},{default:(0,l.k6)((()=>[t[0]||(t[0]=(0,l.eW)(" Data Santri ")),(0,l.bF)(i),(0,l.bF)(s,{icon:"sync",dense:"",outline:"",size:"sm",class:"q-px-sm",onClick:g})])),_:1}),(0,l.bF)(o,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.bF)(_,{class:"no-padding"},{default:(0,l.k6)((()=>[(0,l.bF)(v,{avatar:""},{default:(0,l.k6)((()=>[m.value||!e.id?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"",class:"full-width full-height"})):((0,l.uX)(),(0,l.Wv)(b,{key:1,src:p.value?.image_url||"/user-default.png",ratio:3/4,alt:"santri"},null,8,["src"]))])),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(k,{overline:""},{default:(0,l.k6)((()=>[m.value||!e.id?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"text"})):((0,l.uX)(),(0,l.CE)("div",u,(0,n.v_)(p.value.nama?.toUpperCase())+" ("+(0,n.v_)(p.value.id)+") ",1))])),_:1}),(0,l.bF)(k,null,{default:(0,l.k6)((()=>[m.value||!e.id?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"text"})):((0,l.uX)(),(0,l.CE)("div",r,(0,n.v_)(p.value.data_akhir),1))])),_:1}),(0,l.bF)(k,{caption:""},{default:(0,l.k6)((()=>[m.value||!e.id?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"text"})):((0,l.uX)(),(0,l.CE)("div",d,(0,n.v_)(p.value.alamat_pendek),1))])),_:1})])),_:1}),(0,l.bF)(v,{avatar:""},{default:(0,l.k6)((()=>[m.value||!e.id?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"QBtn",class:"full-width"})):((0,l.uX)(),(0,l.Wv)(s,{key:1,round:"",dense:"",glossy:"",icon:"info","no-caps":"",class:"q-px-sm bg-green-8 text-green-11",to:`/santri/${p.value.id}`},null,8,["to"]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}};var m=t(83341),p=t(60222),g=t(5873),b=t(22677),v=t(53766),k=t(22589),_=t(14958),f=t(70981),h=t(87472),y=t(99039),A=t(272),q=t.n(A);const F=c,w=F;q()(c,"components",{QCard:m.A,QCardSection:p.A,QSpace:g.A,QBtn:b.A,QList:v.A,QItem:k.A,QItemSection:_.A,QSkeleton:f.Ay,QImg:h.A,QItemLabel:y.A})},91142:(e,a,t)=>{t.d(a,{A:()=>_});var l=t(51347),n=t(37763);const i={class:"flex items-center justify-between"},s={class:"flex items-center text-green-10"},o={class:"text-subtitle2"},u={class:"flex items-center"},r={__name:"TableHeader",props:(0,l.zz)({title:String,placeholder:{type:String,default:"Tulis teks pencarian di sini..."},disableFilter:{type:Boolean},showFilter:{type:Boolean}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:(0,l.zz)(["onReload","onFilter"],["update:modelValue"]),setup(e){const a=(0,l.fn)(e,"modelValue");return(t,r)=>{const d=(0,l.g2)("q-btn"),c=(0,l.g2)("q-space"),m=(0,l.g2)("q-icon"),p=(0,l.g2)("q-input"),g=(0,l.g2)("q-card-section");return(0,l.uX)(),(0,l.Wv)(g,{class:"q-pa-sm bg-green-11"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",i,[(0,l.Lk)("div",s,[(0,l.bF)(d,{dense:"",icon:"sync",flat:"",onClick:r[0]||(r[0]=e=>t.$emit("onReload")),class:"q-px-sm q-mr-sm"}),(0,l.Lk)("div",o,(0,n.v_)(e.title),1)]),(0,l.bF)(c),(0,l.Lk)("div",u,[(0,l.bF)(d,{"no-caps":"",outline:"",dense:"",class:"q-px-sm q-mr-sm",icon:e.showFilter?"filter_list_off":"filter_list",label:"Filter",disable:e.disableFilter,onClick:r[1]||(r[1]=e=>t.$emit("onFilter")),color:"green-10",glossy:e.showFilter},null,8,["icon","disable","glossy"]),(0,l.bF)(p,{outlined:"",dense:"",debounce:"300",color:"green-6",modelValue:a.value,"onUpdate:modelValue":r[2]||(r[2]=e=>a.value=e),clearable:"",type:"search",placeholder:e.placeholder},{append:(0,l.k6)((()=>[(0,l.bF)(m,{name:"search"})])),_:1},8,["modelValue","placeholder"])])])])),_:1})}}};var d=t(60222),c=t(22677),m=t(5873),p=t(46395),g=t(93933),b=t(272),v=t.n(b);const k=r,_=k;v()(r,"components",{QCardSection:d.A,QBtn:c.A,QSpace:m.A,QInput:p.A,QIcon:g.A})},92938:(e,a,t)=>{t.d(a,{A:()=>g});t(60939),t(17008);var l=t(51347),n=t(56194),i=t(72085),s=t(34187),o=t(64538);const u="tingkat-pendidikan",r={__name:"InputSelectTingkatPendidikan",props:{selected:{type:String,default:""},btnSetting:{type:Boolean,default:!0}},setup(e){const a=(0,s.KR)(!1),t=(0,s.KR)([]),r=(0,i.A)(),d=e;function c(){if(d.selected){const e=t.value?.find((e=>e?.val0===d.selected));return"Tingkat ID: "+e?.val0||0}return"Pilih tingkat pendidikan"}async function m(){const e=await(0,n.M)({key:u,loading:a,sort:"asc"});r.$patch({[u]:e})}return(0,l.sV)((async()=>{const e=r.getByStateName(u);e.length?t.value=e:(await m(),t.value=r.getByStateName(u))})),(n,i)=>{const s=(0,l.g2)("q-select");return(0,l.uX)(),(0,l.Wv)(s,{dense:"",outlined:"",label:"Tingkat Pendidikan *","emit-value":"","map-options":"","option-value":"val0","option-label":"val1",options:t.value,loading:a.value,behavior:"menu",clearable:"",hint:c()},{after:(0,l.k6)((()=>[e.btnSetting?((0,l.uX)(),(0,l.Wv)(o.A,{key:0,"route-to":"",onReload:m,disableRoute:!0})):(0,l.Q3)("",!0)])),_:1},8,["options","loading","hint"])}}};var d=t(76941),c=t(272),m=t.n(c);const p=r,g=p;m()(r,"components",{QSelect:d.A})},95455:(e,a,t)=>{t.d(a,{A:()=>y});var l=t(51347),n=t(37763);const i={key:0},s={key:1},o={key:0,class:"row"},u={class:"col-4 text-caption"},r={class:"col ellipsis"},d={key:1,style:{height:"50px"}},c={__name:"TemplateArray",props:{data:Object,spinner:Boolean,btnPrint:Boolean,link:{type:String,default:"",required:!1}},setup(e){return(a,t)=>{const c=(0,l.g2)("q-spinner-cube"),m=(0,l.g2)("q-btn"),p=(0,l.g2)("q-item-section"),g=(0,l.g2)("q-item-label"),b=(0,l.g2)("q-item"),v=(0,l.g2)("q-list");return e.spinner?((0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(c,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,l.uX)(),(0,l.CE)("div",s,[e.data.length?((0,l.uX)(),(0,l.Wv)(v,{key:0,separator:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.data,(t=>((0,l.uX)(),(0,l.Wv)(b,{key:t.id,class:"q-pa-none"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{side:"",class:"q-pr-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{class:"q-ma-xs",size:"sm",glossy:"",icon:"edit",round:"",outline:"",color:"green-8",onClick:e=>a.$emit("edit",t)},null,8,["onClick"]),e.btnPrint?((0,l.uX)(),(0,l.Wv)(m,{key:0,class:"q-ma-xs text-green-10",size:"sm",glossy:"",color:"green-12",icon:"print",round:"",onClick:e=>a.$emit("print",t)},null,8,["onClick"])):(0,l.Q3)("",!0),e.link?((0,l.uX)(),(0,l.Wv)(m,{key:1,class:"q-ma-xs",size:"sm",glossy:"",icon:"info",round:"",outline:"",color:"green-8",to:`${e.link}/${t.id}`},null,8,["to"])):(0,l.Q3)("",!0)])),_:2},1024),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,{lines:"1"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a},["id"!=a.toLowerCase()?((0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",u,(0,n.v_)(a),1),(0,l.Lk)("div",r,(0,n.v_)(e),1)])):(0,l.Q3)("",!0)])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):((0,l.uX)(),(0,l.CE)("div",d,t[1]||(t[1]=[(0,l.Lk)("div",{class:"text-body2 text-center",style:{"line-height":"50px"}}," Tidak ada data untuk ditampilkan! ",-1)]))),(0,l.bF)(m,{style:{opacity:"0.8"},icon:"add",round:"",dense:"",color:"green-10",glossy:"",class:"absolute-bottom-right q-ma-sm text-green-11",onClick:t[0]||(t[0]=e=>a.$emit("add"))})]))}}};var m=t(71402),p=t(53766),g=t(22589),b=t(14958),v=t(22677),k=t(99039),_=t(272),f=t.n(_);const h=c,y=h;f()(c,"components",{QSpinnerCube:m.A,QList:p.A,QItem:g.A,QItemSection:b.A,QBtn:v.A,QItemLabel:k.A})},95568:(e,a,t)=>{t.d(a,{A:()=>b});var l=t(51347),n=t(37763);const i={key:0},s={key:1,style:{"min-height":"50px"}},o={class:"col-4 text-caption"},u={class:"col"},r={__name:"TemplateObject",props:{data:null,route:null,spinner:Boolean},setup(e){const a=e;return(e,t)=>{const r=(0,l.g2)("q-spinner-cube"),d=(0,l.g2)("q-btn");return a.spinner?((0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(r,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,l.uX)(),(0,l.CE)("div",s,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.data,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{class:"row",key:a},[(0,l.Lk)("div",o,(0,n.v_)(a),1),(0,l.Lk)("div",u,(0,n.v_)(e),1)])))),128)),(0,l.bF)(d,{icon:"info",color:"green-8",class:"text-green-11 absolute-bottom-right q-ma-sm",to:a.route,round:"",glossy:""},null,8,["to"])]))}}};var d=t(71402),c=t(22677),m=t(272),p=t.n(m);const g=r,b=g;p()(r,"components",{QSpinnerCube:d.A,QBtn:c.A})},96930:(e,a,t)=>{t.d(a,{A:()=>F});t(60939),t(7049);var l=t(51347),n=t(34187),i=t(17569),s=t(58094);function o(e,a){const t=(0,l.g2)("q-btn"),n=(0,l.g2)("q-separator"),i=(0,l.g2)("q-btn-dropdown"),s=(0,l.g2)("q-card"),o=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(s,{flat:"",bordered:""},{default:(0,l.k6)((()=>[(0,l.bF)(i,{flat:"","dropdown-icon":"more_vert",class:"q-px-sm",color:""},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)(t,{"no-caps":"",label:"Reload",flat:"",icon:"sync",class:"block",onClick:a[0]||(a[0]=a=>e.$emit("syncClick"))},null,512),[[o]]),(0,l.bF)(n),(0,l.bo)((0,l.bF)(t,{"no-caps":"",label:"Setting",flat:"",icon:"toc",to:"/settings/alamat",class:"block",onClick:a[1]||(a[1]=a=>e.$emit("routeClick"))},null,512),[[o]])])),_:1})])),_:1})}var u=t(32968),r=t(83341),d=t(73614),c=t(22677),m=t(86915),p=t(61038),g=t(272),b=t.n(g);const v={},k=(0,u.A)(v,[["render",o]]),_=k;b()(v,"components",{QCard:r.A,QBtnDropdown:d.A,QBtn:c.A,QSeparator:m.A}),b()(v,"directives",{ClosePopup:p.A});const f={class:"row"},h={__name:"CarouselAlamat",props:{data:{type:Object}},emits:["emitInput","emitRoute"],setup(e,{emit:a}){const t=e,o=a,u=(0,i.A)(),r=(0,n.KR)({}),d=(0,n.KR)([]),c=(0,n.KR)([]),m=(0,n.KR)([]),p=(0,n.KR)([]),g=(0,n.KR)(!1),b=(0,n.KR)(!1),v=(0,n.KR)(!1),k=(0,n.KR)(!1);function h(e,a){if(!Array.isArray(e)||!a)return[];const t=e.map((e=>e[a]));return t.sort(((e,a)=>e.toLowerCase().localeCompare(a.toLowerCase())))}async function y(){d.value=[];const e=await(0,s.A)({endPoint:"alamat",loading:g});if(e){u.setProvinsi(e.provinsi);const a=u.getProvinsi();d.value=h(a,"provinsi")}}async function A(){d.value=[];const e=u.getProvinsi();e?.length>0?d.value=h(e,"provinsi"):await y()}async function q(e){if(c.value=[],!e)return;const a=await(0,s.A)({endPoint:"alamat",loading:b,params:{provinsi:e}});if(a){u.setKabupaten(a.kabupaten,{provinsi_name:e});const t=u.getKabupaten({provinsi_name:e});c.value=h(t,"kabupaten")}}async function F(e){if(c.value=[],!e)return;const a=u.getKabupaten({provinsi_name:e});a?.length>0?c.value=h(a,"kabupaten"):await q(e)}async function w(e,a){if(m.value=[],!e||!a)return;const t=await(0,s.A)({endPoint:"alamat",loading:v,params:{provinsi:e,kabupaten:a}});if(t){u.setKecamatan(t.kecamatan,{provinsi_name:e,kabupaten_name:a});const l=u.getKecamatan({provinsi_name:e,kabupaten_name:a});m.value=h(l,"kecamatan")}}async function S(e,a){if(m.value=[],!e||!a)return;const t=u.getKecamatan({provinsi_name:e,kabupaten_name:a});t?.length>0?m.value=h(t,"kecamatan"):await w(e,a)}async function V(e,a,t){if(p.value=[],!e||!a||!t)return;const l=await(0,s.A)({endPoint:"alamat",loading:k,params:{provinsi:e,kabupaten:a,kecamatan:t}});if(l){u.setDesa(l.desa,{provinsi_name:e,kabupaten_name:a,kecamatan_name:t});const n=u.getDesa({provinsi_name:e,kabupaten_name:a,kecamatan_name:t});p.value=h(n,"desa")}}async function Q(e,a,t){if(p.value=[],!e||!a||!t)return;const l=u.getDesa({provinsi_name:e,kabupaten_name:a,kecamatan_name:t});l?.length>0?p.value=h(l,"desa"):await V(e,a,t)}return(0,l.sV)((async()=>{Object.assign(r.value,t.data),await A(),r.value.provinsi&&await F(r.value.provinsi),r.value.provinsi&&r.value.kabupaten&&await S(r.value.provinsi,r.value.kabupaten),r.value.provinsi&&r.value.kabupaten&&r.value.kecamatan&&await Q(r.value.provinsi,r.value.kabupaten,r.value.kecamatan)})),(0,l.nT)((()=>{o("emitInput",r.value)})),(0,l.wB)((()=>r.value.provinsi),(async(e,a)=>{e!=a&&"undefined"!=typeof a&&(r.value.kabupaten="",r.value.kecamatan="",r.value.desa="",await F(e))})),(0,l.wB)((()=>r.value.kabupaten),(async(e,a)=>{e!=a&&"undefined"!=typeof a&&(r.value.kecamatan="",r.value.desa="",await S(r.value.provinsi,e))})),(0,l.wB)((()=>r.value.kecamatan),(async(e,a)=>{e!=a&&"undefined"!=typeof a&&(r.value.desa="",await Q(r.value.provinsi,r.value.kabupaten,e))})),(e,a)=>{const t=(0,l.g2)("q-select"),n=(0,l.g2)("q-input");return(0,l.uX)(),(0,l.CE)(l.FK,null,[a[16]||(a[16]=(0,l.Lk)("div",{class:"text-subtitle2"},"Alamat",-1)),(0,l.bF)(t,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Provinsi","emit-value":"","map-options":"",modelValue:r.value.provinsi,"onUpdate:modelValue":a[2]||(a[2]=e=>r.value.provinsi=e),options:d.value,loading:g.value,behavior:"menu",clearable:""},{after:(0,l.k6)((()=>[(0,l.bF)(_,{onSyncClick:a[0]||(a[0]=e=>y()),onRouteClick:a[1]||(a[1]=a=>e.$emit("emitRoute"))})])),_:1},8,["modelValue","options","loading"]),(0,l.bF)(t,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Kabupaten/Kota","emit-value":"","map-options":"",modelValue:r.value.kabupaten,"onUpdate:modelValue":a[5]||(a[5]=e=>r.value.kabupaten=e),options:c.value,loading:b.value,behavior:"menu",clearable:""},{after:(0,l.k6)((()=>[(0,l.bF)(_,{onSyncClick:a[3]||(a[3]=e=>q(r.value.provinsi)),onRouteClick:a[4]||(a[4]=a=>e.$emit("emitRoute"))})])),_:1},8,["modelValue","options","loading"]),(0,l.bF)(t,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Kecamatan","emit-value":"","map-options":"",modelValue:r.value.kecamatan,"onUpdate:modelValue":a[8]||(a[8]=e=>r.value.kecamatan=e),options:m.value,loading:v.value,behavior:"menu",clearable:""},{after:(0,l.k6)((()=>[(0,l.bF)(_,{onSyncClick:a[6]||(a[6]=e=>w(r.value.provinsi,r.value.kabupaten)),onRouteClick:a[7]||(a[7]=a=>e.$emit("emitRoute"))})])),_:1},8,["modelValue","options","loading"]),(0,l.bF)(t,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Desa/Keluarahan","emit-value":"","map-options":"",modelValue:r.value.desa,"onUpdate:modelValue":a[11]||(a[11]=e=>r.value.desa=e),options:p.value,loading:k.value,"use-input":"","new-value-mode":"add",behavior:"menu",clearable:""},{after:(0,l.k6)((()=>[(0,l.bF)(_,{onSyncClick:a[9]||(a[9]=e=>V(r.value.provinsi,r.value.kabupaten,r.value.kecamatan)),onRouteClick:a[10]||(a[10]=a=>e.$emit("emitRoute"))})])),_:1},8,["modelValue","options","loading"]),(0,l.Lk)("div",f,[(0,l.bF)(n,{dense:"",hint:"",class:"q-mt-sm col q-mr-sm",outlined:"",label:"RT",modelValue:r.value.rt,"onUpdate:modelValue":a[12]||(a[12]=e=>r.value.rt=e),type:"number"},null,8,["modelValue"]),(0,l.bF)(n,{dense:"",hint:"",class:"q-mt-sm col q-ml-sm",outlined:"",label:"RW",modelValue:r.value.rw,"onUpdate:modelValue":a[13]||(a[13]=e=>r.value.rw=e),type:"number"},null,8,["modelValue"])]),(0,l.bF)(n,{dense:"",hint:"Dusun, kampung, jalan, gang, nomor rumah ...",class:"q-mt-sm",outlined:"",label:"Dusun",modelValue:r.value.jl,"onUpdate:modelValue":a[14]||(a[14]=e=>r.value.jl=e),autogrow:""},null,8,["modelValue"]),(0,l.bF)(n,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Kode Pos",modelValue:r.value.kode_pos,"onUpdate:modelValue":a[15]||(a[15]=e=>r.value.kode_pos=e),rules:[e=>!e||5==e?.length&&!isNaN(e)||"5 digit angka!"],"error-color":"negative"},null,8,["modelValue","rules"])],64)}}};var y=t(76941),A=t(46395);const q=h,F=q;b()(h,"components",{QSelect:y.A,QInput:A.A})}}]);
"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[5022],{55022:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Q});l(60939),l(17008);var n=l(51347),i=l(37763),t=l(8633),s=l(20675),u=l(58094),d=l(59678),o=l(47509),c=l(34187);const r={class:"",style:{"max-width":"600px"}},m={key:0},b={key:0,class:"q-pa-md"},g={key:1},v={class:"row"},p={class:"row"},k={key:1,class:"q-my-md text-center"},f={__name:"AbsensiSetting",setup(e){const a=(0,c.KR)(""),l=(0,c.KR)([]),f=(0,c.KR)([{}]),q=(0,c.KR)([{}]),F=(0,c.KR)(!1),_=(0,c.KR)(!1),y=(0,c.KR)({});async function V(){y.value.tingkat_id=a.value.val0;const e=await(0,d.A)({endPoint:"absensi/settings",data:y.value});if(e)return y.value={},C(a.value.val0)}async function A(e){const l=await(0,s.A)({endPoint:`absensi/settings/${e}`,loading:_});if(l)return C(a.value.val0)}async function j(e){await(0,o.A)({endPoint:`absensi/settings/${e.id}`,data:{bulan:e.bulan,ujian:e.ujian,tingkat_id:e.tingkat_id},loading:_,confirm:!1}),await C(e.tingkat_id)}async function h(){const e=await(0,u.A)({endPoint:"lists/tingkat-pendidikan",loading:F});l.value=e.tingkat_pendidikan}async function w(){const e=await(0,u.A)({endPoint:"lists/bulan-hijri",loading:F});f.value=e.bulan_hijri}async function C(e){const a=await(0,u.A)({endPoint:`absensi/settings?tingkat_id=${e}`,loading:_});q.value=a.bulan_ujian}return(0,n.sV)((async()=>{await h(),await w()})),(e,s)=>{const u=(0,n.g2)("q-select"),d=(0,n.g2)("q-card-section"),o=(0,n.g2)("q-card"),c=(0,n.g2)("q-spinner-cube"),h=(0,n.g2)("q-input"),w=(0,n.g2)("q-item-section"),U=(0,n.g2)("q-btn"),x=(0,n.g2)("q-btn-group"),K=(0,n.g2)("q-item"),Q=(0,n.g2)("q-form");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(o,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{class:"q-pa-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{dense:"",outlined:"",label:"Pilih Tingkat Pendidikan",modelValue:a.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>a.value=e),s[1]||(s[1]=e=>C(e.val0))],options:l.value,"emit-value":"","map-options":"","option-label":"val1",loading:F.value,behavior:"menu"},null,8,["modelValue","options","loading"])])),_:1})])),_:1}),(0,n.bF)(o,{class:"q-mt-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{class:"bg-green-8 text-green-1 text-subtitle1 q-pa-sm"},{default:(0,n.k6)((()=>[(0,n.eW)(" Tingkat Pendidikan: "+(0,i.v_)(a.value.val1),1)])),_:1}),(0,n.bF)(d,{class:"q-pa-sm"},{default:(0,n.k6)((()=>[a.value?((0,n.uX)(),(0,n.CE)("div",m,[_.value?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.bF)(c,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,n.uX)(),(0,n.CE)("div",g,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(q.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id},[(0,n.bF)(Q,{onSubmit:(0,t.D$)((a=>j(e)),["prevent"])},{default:(0,n.k6)((()=>[(0,n.bF)(K,{class:"no-padding"},{default:(0,n.k6)((()=>[(0,n.bF)(w,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",v,[(0,n.bF)(h,{label:"Ujian Ke-?",class:"col-3 q-pr-sm",dense:"",outlined:"",modelValue:e.ujian,"onUpdate:modelValue":a=>e.ujian=a,required:"",mask:"#",rules:[e=>!!e||"Harus diisi!",e=>e>=1&&e<=3||"1, 2, atau 3!"]},null,8,["modelValue","onUpdate:modelValue","rules"]),(0,n.bF)(h,{label:"Bulan",class:"col-3 q-pr-sm",dense:"",outlined:"",modelValue:e.bulan,"onUpdate:modelValue":a=>e.bulan=a,required:"",mask:"##",rules:[e=>!!e||"Harus diisi!",e=>e>=1&&e<=12||"1 hingga 12!"]},null,8,["modelValue","onUpdate:modelValue","rules"]),(0,n.bF)(h,{class:"col-6",dense:"",outlined:"","model-value":f.value.find((a=>Number(a.val2)==Number(e.bulan)))?.val1||"",readonly:""},null,8,["model-value"])])])),_:2},1024),(0,n.bF)(w,{side:"",class:"no-padding q-ml-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(x,{push:"",class:"q-mb-lg"},{default:(0,n.k6)((()=>[(0,n.bF)(U,{color:"positive",glossy:"",icon:"save",type:"submit"}),(0,n.bF)(U,{color:"negative",glossy:"",icon:"delete",onClick:a=>A(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onSubmit"])])))),128)),(0,n.bF)(Q,{onSubmit:(0,t.D$)(V,["prevent"]),onReset:s[4]||(s[4]=e=>y.value={})},{default:(0,n.k6)((()=>[(0,n.bF)(K,{class:"no-padding",style:{"justify-content":"start"}},{default:(0,n.k6)((()=>[(0,n.bF)(w,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",p,[(0,n.bF)(h,{label:"Ujian Ke-?",class:"col-3 q-pr-sm",dense:"",outlined:"",modelValue:y.value.ujian,"onUpdate:modelValue":s[2]||(s[2]=e=>y.value.ujian=e),required:"",mask:"#",rules:[e=>!!e||"Harus diisi!",e=>e>=1&&e<=3||"1, 2, atau 3!"]},null,8,["modelValue","rules"]),(0,n.bF)(h,{label:"Bulan",class:"col-3 q-pr-sm",dense:"",outlined:"",modelValue:y.value.bulan,"onUpdate:modelValue":s[3]||(s[3]=e=>y.value.bulan=e),required:"",mask:"##",rules:[e=>!!e||"Harus diisi!",e=>e>=1&&e<=12||"1 hingga 12!"]},null,8,["modelValue","rules"]),(0,n.bF)(h,{class:"col-6",dense:"",outlined:"",readonly:"","model-value":f.value.find((e=>Number(e.val2)==Number(y.value.bulan)))?.val1||""},null,8,["model-value"])])])),_:1}),(0,n.bF)(w,{side:"",class:"no-padding q-ml-sm"},{default:(0,n.k6)((()=>[(0,n.bF)(x,{push:"",class:"q-mb-lg"},{default:(0,n.k6)((()=>[(0,n.bF)(U,{color:"positive",glossy:"",icon:"save",type:"submit"}),(0,n.bF)(U,{color:"negative",glossy:"",icon:"undo",type:"reset"})])),_:1})])),_:1})])),_:1})])),_:1})]))])):((0,n.uX)(),(0,n.CE)("div",k," Silakan pilih list tingkat pendidikan! "))])),_:1}),(0,n.bF)(d,{class:"bg-green-7 text-green-1 text-caption text-italic q-pa-sm"},{default:(0,n.k6)((()=>s[5]||(s[5]=[(0,n.eW)(" Ujian (1, 2) jika menganut sistem semester atau kuartal (mid semester) "),(0,n.Lk)("br",null,null,-1),(0,n.eW)(" Ujian (1, 2, 3) jika menganut sistem catur wulan ")]))),_:1})])),_:1})])}}};var q=l(83341),F=l(60222),_=l(76941),y=l(71402),V=l(53417),A=l(22589),j=l(14958),h=l(46395),w=l(1188),C=l(22677),U=l(272),x=l.n(U);const K=f,Q=K;x()(f,"components",{QCard:q.A,QCardSection:F.A,QSelect:_.A,QSpinnerCube:y.A,QForm:V.A,QItem:A.A,QItemSection:j.A,QInput:h.A,QBtnGroup:w.A,QBtn:C.A})}}]);
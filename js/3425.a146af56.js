"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[3425],{63425:(a,e,n)=>{n.r(e),n.d(e,{default:()=>_});var l=n(51347),s=n(34187),t=n(95455),u=n(69463),i=n(60455),d=n(58094),o=n(68708);const r={__name:"SantriKelas",setup(a){const e=(0,s.KR)(!1),n=(0,s.KR)(!1),r=(0,s.KR)({}),c=(0,s.KR)([]),v=(0,l.WQ)("santri"),{params:p}=(0,i.lq)();async function m(){const a=await(0,d.A)({endPoint:"kelas",loading:e,params:{santri_id:p.id}});a.kelas&&(c.value=a.kelas)}const _=(0,l.EW)((()=>c.value.map((a=>({"Tahun Ajaran":`${a.th_ajaran_h}  |  ${a.th_ajaran_m||""} `,Kelas:`${a.kelas} ${a.tingkat}`+(a.no_absen?` (No. ${a.no_absen})`:""),Keterangan:a.keterangan||"-",id:a.id}))).reverse()));(0,l.sV)((async()=>{await m()}));const k=()=>{r.value={santri_id:v.id,nama:v.nama},n.value=!0},h=({id:a})=>{r.value=(0,u.I$)(c,a),r.value.santri_id=v.id,r.value.nama=v.nama,n.value=!0};return(a,i)=>{const d=(0,l.g2)("q-dialog");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(t.A,{data:_.value,spinner:e.value,link:"/madrasah/kelas",onAdd:k,onEdit:h},null,8,["data","spinner"]),(0,l.bF)(d,{modelValue:n.value,"onUpdate:modelValue":i[3]||(i[3]=a=>n.value=a)},{default:(0,l.k6)((()=>[(0,l.bF)(o.A,{data:r.value,onSuccessDelete:i[0]||(i[0]=a=>(0,s.R1)(u.ST)(c.value,a)),onSuccessCreate:i[1]||(i[1]=a=>c.value.push(a)),onSuccessUpdate:i[2]||(i[2]=a=>(0,s.R1)(u.B1)(c.value,a.id,a))},null,8,["data"])])),_:1},8,["modelValue"])])}}};var c=n(30045),v=n(272),p=n.n(v);const m=r,_=m;p()(r,"components",{QDialog:c.A})}}]);
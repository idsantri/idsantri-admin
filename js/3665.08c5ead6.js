"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[3665],{33665:(a,e,l)=>{l.r(e),l.d(e,{default:()=>Q});var t=l(51347),n=l(37763),s=l(34187),r=l(58094),i=l(60455),o=l(32671),u=l(5313),d=l(90486);const c={class:"row",style:{"max-width":"1000px",width:"100%"}},b={__name:"FilterTahunAjaran",props:{startUrl:String},emits:["dataFilter"],setup(a,{emit:e}){const l=a,n=e,{params:r}=(0,i.lq)(),o=(0,i.rd)(),u=(0,s.KR)(r.thAjaranH);function b(){const a={display:u.value?"➡️ Tahun Ajaran: <strong>"+u.value+"</strong>":'<div class="text-green-13 text-italic">Tentukan filter!</div>'};n("dataFilter",a)}return(0,t.sV)((async()=>{b()})),(0,t.wB)(u,((a,e)=>{a?a==e||o.push(`${l.startUrl}/${a}`):o.push(`${l.startUrl}`)})),(a,e)=>{const l=(0,t.g2)("q-toolbar-title"),n=(0,t.g2)("q-toolbar"),s=(0,t.g2)("q-card-section"),r=(0,t.g2)("q-card");return(0,t.uX)(),(0,t.Wv)(r,null,{default:(0,t.k6)((()=>[(0,t.bF)(s,{class:"q-px-sm q-py-sm bg-green-11"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"no-padding",style:{"min-height":"0"}},{default:(0,t.k6)((()=>[(0,t.bF)(l,{class:"text-subtitle1"},{default:(0,t.k6)((()=>e[1]||(e[1]=[(0,t.Lk)("div",{class:"text-subtitle2 text-weight-bold"}," Filter Tahun Ajaran ",-1)]))),_:1}),(0,t.RG)(a.$slots,"default")])),_:3})])),_:3}),(0,t.bF)(s,{class:"no-padding"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",c,[(0,t.bF)(d.A,{class:"col-12 col-md-4 q-pa-sm",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),url:"tahun-ajaran",label:"Tahun Ajaran",sort:"desc"},null,8,["modelValue"])])])),_:1})])),_:3})}}};var m=l(83341),p=l(60222),g=l(66739),k=l(4629),h=l(272),f=l.n(h);const v=b,_=v;f()(b,"components",{QCard:m.A,QCardSection:p.A,QToolbar:g.A,QToolbarTitle:k.A});const q=["innerHTML"],x={class:""},A={class:""},F={class:""},y={__name:"PageIndex",setup(a){const e=(0,s.KR)({}),l=(0,s.KR)([]),d=(0,s.KR)(!1),{params:c}=(0,i.lq)(),b=(0,s.KR)("");async function m(){const a=await(0,r.A)({endPoint:"iuran",loading:d,params:{th_ajaran_h:c.thAjaranH}});a&&(l.value=a.iuran)}(0,t.sV)((async()=>{c.thAjaranH?await m():l.value=[]}));const p=[{name:"th_ajaran_h",label:"Tahun Ajaran",align:"left",field:"th_ajaran_h",sortable:!0},{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"item",label:"Iuran",align:"left",field:"item",sortable:!0},{name:"nominal",label:"Nominal",align:"right",field:"nominal",format:a=>`${a.toRupiah()}`,sortable:!0},{name:"lunas",label:"Lunas",align:"left",field:a=>a.lunas?(0,u.Yq)(a.lunas,"yyyy-MM-dd"):"Belum dibayar",sortable:!0},{name:"kasir",label:"Penerima",align:"left",field:"kasir",sortable:!0}];return(a,r)=>{const i=(0,t.g2)("q-space"),u=(0,t.g2)("q-btn"),c=(0,t.g2)("q-card-section"),g=(0,t.g2)("q-icon"),k=(0,t.g2)("q-input"),h=(0,t.g2)("q-table"),f=(0,t.g2)("q-card");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(_,{"start-url":"/iuran/th-ajaran",onDataFilter:r[0]||(r[0]=a=>e.value=a),bordered:"",flat:""}),(0,t.bF)(f,{class:"q-mt-sm",bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(c,{class:"bg-green-8 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",{innerHTML:e.value.display||""},null,8,q),(0,t.bF)(i),(0,t.bF)(u,{dense:"",icon:"sync",onClick:m,class:"q-px-sm q-mr-sm",flat:""}),(0,t.bF)(u,{dense:"",icon:"print",label:"Cetak","no-caps":"",color:"green-11 q-px-md",class:"text-green-10 q-mr-sm",to:"/info/download"})])),_:1}),(0,t.bF)(h,{class:"dt q-pa-sm",rows:l.value,loading:d.value,filter:b.value,columns:p,"rows-per-page-options":[10,25,50,75,100,0],"no-data-label":"Silakan tentukan filter tanggal!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"name",flat:"",onRowClick:r[2]||(r[2]=(e,l,t)=>a.$router.push(`/iuran/santri/${l.santri_id}/${l.th_ajaran_h}`))},{"top-left":(0,t.k6)((()=>r[3]||(r[3]=[(0,t.Lk)("div",{class:"text-subtitle1 text-green-10"},"Data Iuran",-1)]))),"top-right":(0,t.k6)((()=>[(0,t.bF)(k,{outlined:"",dense:"",debounce:"300",modelValue:b.value,"onUpdate:modelValue":r[1]||(r[1]=a=>b.value=a),placeholder:"Cari",type:"search"},{append:(0,t.k6)((()=>[(0,t.bF)(g,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","loading","filter"]),(0,t.bF)(c,{class:"bg-green-7 text-green-1 text-subtitle1 q-px-sm q-py-xs flex items-center justify-between"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",x,[r[4]||(r[4]=(0,t.Lk)("em",null,"Estimasi Pendapatan: ",-1)),(0,t.Lk)("strong",null,(0,n.v_)((0,s.R1)(o.CG)(l.value).toRupiah()),1)]),(0,t.Lk)("div",A,[r[5]||(r[5]=(0,t.Lk)("em",null,"Total Lunas: ",-1)),(0,t.Lk)("strong",null,(0,n.v_)((0,s.R1)(o.hF)(l.value).toRupiah()),1)]),(0,t.Lk)("div",F,[r[6]||(r[6]=(0,t.Lk)("em",null,"Total Tidak Lunas: ",-1)),(0,t.Lk)("strong",null,(0,n.v_)((0,s.R1)(o.kb)(l.value).toRupiah()),1)])])),_:1})])),_:1})],64)}}};var L=l(5873),T=l(22677),w=l(27010),j=l(46395),R=l(93933);const C=y,Q=C;f()(y,"components",{QCard:m.A,QCardSection:p.A,QSpace:L.A,QBtn:T.A,QTable:w.A,QInput:j.A,QIcon:R.A})}}]);
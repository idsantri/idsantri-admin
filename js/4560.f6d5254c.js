"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[4560],{82179:(e,a,n)=>{n.r(a),n.d(a,{default:()=>re});var l=n(51347),i=n(34187),t=n(58094),o=n(59678);const s={class:"flex justify-between items-center q-mb-sm"},d={key:0},u={key:1},r={key:0},c={key:1,class:""},b=["innerHTML"],v={key:2},p={__name:"PanelProfile",setup(e){const a=(0,i.KR)(""),n=(0,i.KR)(""),p=(0,i.KR)(!1),m=(0,i.KR)(!1);async function g(){const e=await(0,t.A)({endPoint:"config/app-wali/profile",loading:m});e&&e.profile&&(a.value=e.profile)}(0,l.sV)((async()=>{await g()}));const f=async()=>{const e=await(0,o.A)({endPoint:"config/app-wali/profile",loading:m,data:{profile:n.value}});e&&(p.value=!1,a.value=e.profile)};function k(){n.value=a.value,p.value=!p.value}return(e,i)=>{const t=(0,l.g2)("q-btn"),o=(0,l.g2)("q-editor"),g=(0,l.g2)("q-separator"),q=(0,l.g2)("q-spinner-cube");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",s,[i[1]||(i[1]=(0,l.Lk)("div",null,[(0,l.Lk)("div",{class:"text-italic text-weight-light"}," Teks untuk ditampilkan di halaman beranda Aplikasi Wali Santri ")],-1)),(0,l.bF)(t,{dense:"",class:"q-px-sm",icon:p.value?"close":"edit",outline:"",label:p.value?"Batal":"Edit","no-caps":"",onClick:k},null,8,["icon","label"])]),p.value?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(o,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=e=>n.value=e),"min-height":"20rem",disable:m.value,definitions:{save:{tip:"Save your work",icon:"save",label:"Simpan",handler:f}},toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","underline"],["undo","redo"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},"removeFormat"],["unordered","ordered","outdent","indent"],["save"]]},null,8,["modelValue","disable","definitions","toolbar"])])):((0,l.uX)(),(0,l.CE)("div",u,[(0,l.bF)(g,{class:"q-mb-sm"}),m.value?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(q,{size:"4em",class:"flex q-ma-lg q-mx-auto"})])):(0,l.Q3)("",!0),!m.value&&a.value?((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("span",{innerHTML:a.value},null,8,b)])):(0,l.Q3)("",!0),m.value||a.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",v,i[2]||(i[2]=[(0,l.Lk)("div",{class:""},"Belum diatur",-1)])))]))])}}};var m=n(22677),g=n(30),f=n(86915),k=n(71402),q=n(272),y=n.n(q);const h=p,x=h;y()(p,"components",{QBtn:m.A,QEditor:g.A,QSeparator:f.A,QSpinnerCube:k.A});var S=n(8633),F=n(37763);const A={class:"flex justify-between items-center"},C={key:0},w={key:1},Q={key:0},z={key:1},_={key:2},E={class:"text-weight-bold"},L={__name:"PanelCs",setup(e){const a=(0,i.KR)(!1),n=(0,i.KR)(""),s=(0,i.KR)(!1),d=(0,i.KR)("");async function u(){const e=await(0,t.A)({endPoint:"config/app-wali/cs",loading:s});e&&e.cs&&(d.value=e.cs)}(0,l.sV)((async()=>{await u()}));const r=async()=>{const e=await(0,o.A)({endPoint:"config/app-wali/cs",loading:s,data:{cs:n.value}});e&&(d.value=e.cs,a.value=!1)},c=()=>{n.value=d.value,a.value=!a.value};return(e,i)=>{const t=(0,l.g2)("q-input"),o=(0,l.g2)("q-btn"),u=(0,l.g2)("q-form"),b=(0,l.g2)("q-skeleton");return(0,l.uX)(),(0,l.CE)("div",A,[(0,l.Lk)("div",null,[i[2]||(i[2]=(0,l.Lk)("div",{class:"text-italic text-weight-light"}," Nomor WA Customer Service: ",-1)),a.value?((0,l.uX)(),(0,l.CE)("div",C,[(0,l.bF)(u,{onSubmit:(0,S.D$)(r,["prevent"]),class:"flex items-start q-gutter-x-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(t,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=e=>n.value=e),outlined:"",dense:"",label:"Nomor WA",disable:s.value,clearable:"",placeholder:"628xxxx",rules:[e=>!e||!isNaN(e)||"Hanya angka!"]},null,8,["modelValue","disable","rules"]),(0,l.bF)(o,{type:"submit",color:"green-10",outline:"","no-caps":"",disabled:s.value,class:"q-px-sm",loading:s.value,icon:"save",label:"Simpan"},null,8,["disabled","loading"])])),_:1})])):((0,l.uX)(),(0,l.CE)("div",w,[s.value?((0,l.uX)(),(0,l.CE)("div",Q,[(0,l.bF)(b)])):""===d.value||null===d.value?((0,l.uX)(),(0,l.CE)("div",z,i[1]||(i[1]=[(0,l.Lk)("div",{class:""},"Belum diatur",-1)]))):((0,l.uX)(),(0,l.CE)("div",_,[(0,l.Lk)("div",E,(0,F.v_)(d.value.replace(/(\d{2})(\d{3})(\d{4})(\d{4})/,"$1 $2-$3-$4")),1)]))]))]),(0,l.bF)(o,{dense:"",class:"q-px-sm",icon:a.value?"close":"edit",outline:"",label:a.value?"Batal":"Edit","no-caps":"",onClick:c},null,8,["icon","label"])])}}};var $=n(53417),X=n(46395),V=n(70981);const P=L,B=P;y()(L,"components",{QForm:$.A,QInput:X.A,QBtn:m.A,QSkeleton:V.Ay});n(60939),n(16461),n(7049);const K={class:"text-weight-bold"},R={key:0},T=["innerHTML"],N={__name:"CardBanner",props:{banner:{type:Object,default:()=>{}},index:{type:Number,default:0}},emits:["onUpdate","onDelete"],setup(e,{emit:a}){const n=a,t=(0,i.KR)(!1),o=(0,i.KR)(e.banner?.content||"");function s(){n("onUpdate",{id:e.banner.id,content:o.value})}return(a,n)=>{const i=(0,l.g2)("q-btn"),d=(0,l.g2)("q-card-section"),u=(0,l.g2)("q-editor"),r=(0,l.g2)("q-form"),c=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(c,{class:"q-mt-sm",flat:"",bordered:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"q-pa-sm bg-green-1 flex justify-between items-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",K,"Banner "+(0,F.v_)(e.index+1),1),(0,l.Lk)("div",null,[(0,l.bF)(i,{dense:"",class:"q-px-sm q-mr-sm",icon:t.value?"close":"edit",outline:"",label:t.value?"Batal":"Edit","no-caps":"",onClick:n[0]||(n[0]=e=>t.value=!t.value)},null,8,["icon","label"]),(0,l.bF)(i,{dense:"",class:"q-px-sm",icon:"delete",outline:"",label:"Hapus","no-caps":"",color:"negative",onClick:n[1]||(n[1]=n=>a.$emit("onDelete",e.banner.id))})])])),_:1}),(0,l.bF)(d,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[t.value?((0,l.uX)(),(0,l.CE)("div",R,[(0,l.bF)(r,{onSubmit:(0,S.D$)(s,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(u,{modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=e=>o.value=e),"min-height":"20rem",definitions:{save:{tip:"Save your work",icon:"save",label:"Simpan",handler:s}},toolbar:[[{label:a.$q.lang.editor.align,icon:a.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","underline"],["undo","redo"],[{label:a.$q.lang.editor.formatting,icon:a.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6"]},{label:a.$q.lang.editor.fontSize,icon:a.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},"removeFormat"],["unordered","ordered","outdent","indent"],["save"]]},null,8,["modelValue","definitions","toolbar"])])),_:1})])):((0,l.uX)(),(0,l.CE)("div",{key:1,innerHTML:e.banner?.content},null,8,T))])),_:1})])),_:1})}}};var U=n(83341),O=n(60222);const W=N,j=W;y()(N,"components",{QCard:U.A,QCardSection:O.A,QBtn:m.A,QForm:$.A,QEditor:g.A});const D={class:"flex justify-between items-center q-mb-sm"},H={key:0},I={key:1},J={key:0},M={key:1},G={key:2},Y={__name:"PanelBanner",setup(e){const a=(0,i.KR)(""),n=(0,i.KR)(!1),s=(0,i.KR)([]),d=(0,i.KR)(!1),u=(0,i.KR)(!1);async function r(e){const a=JSON.parse(JSON.stringify(s.value)),l=a.filter((a=>a.id!==e)),i=await(0,o.A)({endPoint:"config/app-wali/banners",loading:n,data:{banners:l},notify:!0,message:"Hapus banner?"});i&&(s.value=l)}async function c(e){const a=JSON.parse(JSON.stringify(s.value)),l=a.map((a=>a.id===e.id?{...a,content:e.content}:a)),i=await(0,o.A)({endPoint:"config/app-wali/banners",loading:n,data:{banners:l}});i&&(s.value=l)}async function b(){const e=await(0,t.A)({endPoint:"config/app-wali/banners",loading:n});e&&e.banners&&(s.value=e.banners)}async function v(){const e=JSON.parse(JSON.stringify(s.value)),l=[...e,{id:(new Date).getTime(),content:a.value}],i=await(0,o.A)({endPoint:"config/app-wali/banners",loading:n,data:{banners:l}});i&&(s.value=l,d.value=!1,a.value="")}return(0,l.sV)((async()=>{await b()})),(e,i)=>{const t=(0,l.g2)("q-btn"),o=(0,l.g2)("q-editor"),b=(0,l.g2)("q-form"),p=(0,l.g2)("q-separator"),m=(0,l.g2)("q-spinner-cube");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",D,[i[2]||(i[2]=(0,l.Lk)("div",null,[(0,l.Lk)("div",{class:"text-italic text-weight-light"}," Banner Pengumuman ")],-1)),(0,l.bF)(t,{dense:"",class:"q-px-sm",icon:d.value?"close":"add",outline:"",label:d.value?"Batal":"Baru","no-caps":"",onClick:i[0]||(i[0]=e=>d.value=!d.value)},null,8,["icon","label"])]),d.value?((0,l.uX)(),(0,l.CE)("div",H,[(0,l.bF)(b,{onSubmit:(0,S.D$)(v,["prevent"])},{default:(0,l.k6)((()=>[(0,l.bF)(o,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=e=>a.value=e),"min-height":"10rem",disable:n.value,definitions:{save:{tip:"Save your work",icon:"save",label:"Simpan",handler:v}},toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","underline"],["undo","redo"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},"removeFormat"],["unordered","ordered","outdent","indent"],["save"]]},null,8,["modelValue","disable","definitions","toolbar"])])),_:1})])):(0,l.Q3)("",!0),d.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",I,[n.value?((0,l.uX)(),(0,l.CE)("div",J,[(0,l.bF)(p,{class:"q-my-sm"}),(0,l.bF)(m,{size:"4em",class:"flex q-ma-lg q-mx-auto"})])):n.value||0!==s.value.length?!n.value&&s.value.length>0?((0,l.uX)(),(0,l.CE)("div",G,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,((e,a)=>((0,l.uX)(),(0,l.Wv)(j,{key:e.id,banner:e,index:a,onOnUpdate:c,onOnDelete:r,errorUpdate:u.value},null,8,["banner","index","errorUpdate"])))),128))])):(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",M,i[3]||(i[3]=[(0,l.Lk)("div",{class:"text-center text-italic q-pa-lg text-negative"},[(0,l.eW)(" Tidak ada data "),(0,l.Lk)("br"),(0,l.eW)("Silakan tambahkan banner baru ")],-1)])))]))])}}},Z=Y,ee=Z;y()(Y,"components",{QBtn:m.A,QForm:$.A,QEditor:g.A,QSeparator:f.A,QSpinnerCube:k.A});var ae=n(78306);const ne={__name:"IndexPage",setup(e){const a=(0,i.KR)("banner");return(e,n)=>{const i=(0,l.g2)("q-tab"),t=(0,l.g2)("q-tabs"),o=(0,l.g2)("q-tab-panel"),s=(0,l.g2)("q-tab-panels"),d=(0,l.g2)("q-card-section"),u=(0,l.g2)("q-card"),r=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(r,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(ae.A,{title:"Pengaturan Aplikasi Wali Santri",showReload:!1}),(0,l.bF)(d,{class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(t,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),"inline-label":"","outside-arrows":"","mobile-arrows":"","indicator-color":"green-13","active-color":"green-11",align:"left",class:"bg-green-7 text-green-3 q-mb-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{name:"banner",label:"Banner","no-caps":""}),(0,l.bF)(i,{name:"cs",label:"Nomor CS","no-caps":""}),(0,l.bF)(i,{name:"profil",label:"Profil","no-caps":""})])),_:1},8,["modelValue"]),(0,l.bF)(s,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e),animated:"",class:"rounded-borders q-card--bordered"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{name:"banner",class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(ee)])),_:1}),(0,l.bF)(o,{name:"cs",class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(B)])),_:1}),(0,l.bF)(o,{name:"profil",class:"q-pa-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(x)])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}}};var le=n(75013),ie=n(38805),te=n(58750),oe=n(5873),se=n(30990),de=n(89851);const ue=ne,re=ue;y()(ne,"components",{QPage:le.A,QCard:U.A,QCardSection:O.A,QTabs:ie.A,QTab:te.A,QSpace:oe.A,QBtn:m.A,QTabPanels:se.A,QTabPanel:de.A})}}]);
"use strict";(globalThis["webpackChunkidsantri_app"]=globalThis["webpackChunkidsantri_app"]||[]).push([[2022],{52022:(a,l,e)=>{e.r(l),e.d(l,{default:()=>S});var t=e(51347),s=e(37763),n=e(34187),u=e(60455),i=e(58094),d=e(47509),o=e(58850),r=e(68708);const c=(0,t.Lk)("div",{class:"flex items-center"},[(0,t.Lk)("div",{class:"text-subtitle1"},"Data Murid")],-1),k={class:"row",style:{"max-width":"1400px"}},b={class:"col-12 col-md-6 q-pa-sm"},v={key:0,class:"q-pa-md"},g={key:1},m=(0,t.Lk)("td",{class:"text-italic"}," Tahun Ajaran ",-1),p=(0,t.Lk)("td",{class:"text-italic"}," Tingkat ",-1),f=(0,t.Lk)("td",{class:"text-italic"}," Kelas ",-1),_=(0,t.Lk)("td",{class:"text-italic"}," Nomor Absen ",-1),q=(0,t.Lk)("td",{class:"text-italic"}," Aktif ",-1),L=(0,t.Lk)("td",{class:"text-italic"}," Keterangan ",-1),F={class:"col-12 col-md-6 q-pa-sm"},A={__name:"KelasIndex",setup(a){const l=(0,n.KR)(0),e=(0,u.lq)(),A=e.params.id,x=(0,n.KR)({}),h=(0,n.KR)(!1),w=(0,n.KR)(!1),y=(0,n.KR)({});async function Q(a){const l=1==a,e=1==a?0:1,t=await(0,d.A)({endPoint:`kelas/${A}/set-active`,data:{aktif:l},confirm:!1});t||(x.value.aktif=e)}async function T(){const a=await(0,i.A)({endPoint:`kelas/${A}`,loading:h});a.kelas&&(x.value=a.kelas,l.value++)}return(0,t.Gt)("santri",y),(0,t.sV)((async()=>{await T()})),(a,e)=>{const n=(0,t.g2)("q-card-section"),u=(0,t.g2)("q-card"),i=(0,t.g2)("q-toolbar-title"),d=(0,t.g2)("q-btn"),A=(0,t.g2)("q-toolbar"),C=(0,t.g2)("q-spinner-cube"),K=(0,t.g2)("q-toggle"),V=(0,t.g2)("q-markup-table"),R=(0,t.g2)("q-route-tab"),$=(0,t.g2)("q-tabs"),X=(0,t.g2)("router-view"),z=(0,t.g2)("q-dialog"),D=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(D,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{class:""},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:(0,t.k6)((()=>[c])),_:1}),(0,t.bF)(n,{class:"no-padding"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",k,[(0,t.Lk)("div",b,[(0,t.bF)(u,{bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(o.A,{id:x.value.santri_id,onLoaded:e[0]||(e[0]=a=>y.value=a)},null,8,["id"])])),_:1}),(0,t.bF)(u,{class:"q-mt-sm",bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[(0,t.bF)(A,{class:"bg-green-1"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{class:"text-subtitle1"},{default:(0,t.k6)((()=>[(0,t.eW)(" Data Kelas ")])),_:1}),(0,t.bF)(d,{class:"q-px-sm q-mr-sm",outline:"",dense:"",onClick:T,icon:"sync","no-caps":""}),(0,t.bF)(d,{class:"q-px-md",outline:"",dense:"","icon-right":"edit",onClick:e[1]||(e[1]=a=>w.value=!0),label:"Edit","no-caps":""})])),_:1}),h.value?((0,t.uX)(),(0,t.CE)("div",v,[(0,t.bF)(C,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):((0,t.uX)(),(0,t.CE)("div",g,[(0,t.bF)(V,{flat:""},{default:(0,t.k6)((()=>[(0,t.Lk)("tbody",null,[(0,t.Lk)("tr",null,[m,(0,t.Lk)("td",null,(0,s.v_)(x.value.th_ajaran_h+" | "+x.value.th_ajaran_m),1)]),(0,t.Lk)("tr",null,[p,(0,t.Lk)("td",null,(0,s.v_)(x.value.tingkat),1)]),(0,t.Lk)("tr",null,[f,(0,t.Lk)("td",null,(0,s.v_)(x.value.kelas),1)]),(0,t.Lk)("tr",null,[_,(0,t.Lk)("td",null,(0,s.v_)(x.value.no_absen),1)]),(0,t.Lk)("tr",null,[q,(0,t.Lk)("td",null,[(0,t.bF)(K,{modelValue:x.value.aktif,"onUpdate:modelValue":[e[2]||(e[2]=a=>x.value.aktif=a),Q],color:"green","true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])])]),(0,t.Lk)("tr",null,[L,(0,t.Lk)("td",null,(0,s.v_)(x.value.keterangan),1)])])])),_:1})]))])),_:1})])),_:1})]),(0,t.Lk)("div",F,[(0,t.bF)(u,{bordered:"",flat:""},{default:(0,t.k6)((()=>[(0,t.bF)($,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-7 text-green-3","indicator-color":"green-11","active-color":"green-11"},{default:(0,t.k6)((()=>[(0,t.bF)(R,{name:"riwayat",label:"Riwayat",to:`/madrasah/kelas/${x.value.id}/riwayat`},null,8,["to"]),(0,t.bF)(R,{name:"izin",label:"Izin",to:`/madrasah/kelas/${x.value.id}/izin`},null,8,["to"]),(0,t.bF)(R,{name:"nilai",label:"Nilai Mapel",to:`/madrasah/kelas/${x.value.id}/nilai-mapel`},null,8,["to"])])),_:1}),((0,t.uX)(),(0,t.Wv)(n,{class:"q-pa-sm",key:l.value},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.Wv)(X,{key:a.$route.fullPath}))])),_:1}))])),_:1})])])])),_:1})])),_:1}),(0,t.bF)(z,{modelValue:w.value,"onUpdate:modelValue":e[5]||(e[5]=a=>w.value=a)},{default:(0,t.k6)((()=>[(0,t.bF)(r.A,{data:x.value,onSuccessUpdate:e[3]||(e[3]=a=>{x.value=a,l.value++}),onSuccessDelete:e[4]||(e[4]=l=>a.$router.go(-1))},null,8,["data"])])),_:1},8,["modelValue"])])),_:1})}}};var x=e(75013),h=e(83341),w=e(60222),y=e(66739),Q=e(4629),T=e(22677),C=e(71402),K=e(94362),V=e(55725),R=e(38805),$=e(96641),X=e(30045),z=e(272),D=e.n(z);const P=A,S=P;D()(A,"components",{QPage:x.A,QCard:h.A,QCardSection:w.A,QToolbar:y.A,QToolbarTitle:Q.A,QBtn:T.A,QSpinnerCube:C.A,QMarkupTable:K.A,QToggle:V.A,QTabs:R.A,QRouteTab:$.A,QDialog:X.A})}}]);
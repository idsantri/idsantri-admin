import{c as O,b as f,h as b,e as J,u as Y,g as _,a as ee,G as T,aZ as ae,R as H,H as te,S as ne,p as D,U as X,a_ as le,aX as oe,a$ as ie,f as ue,o as Z,w as x,i as m,n as W,l as se,q as re,v as h,aa as ce,r as de,k as G,a4 as R,F as ve}from"./index-Cju_WcQt.js";import{u as me,a as ge,b as fe,c as pe}from"./use-panel-BQ-ZonDQ.js";import{u as be,a as ke,b as ye}from"./use-fullscreen-BVouRRhr.js";import{Q as Ce}from"./QBtnGroup-oymYJuDk.js";import{Q as U}from"./QSelect-D99lhOsm.js";import{a as we}from"./alamat-store-BH48sB2G.js";import{a as F}from"./api-get-C-ZFMqL_.js";import{Q as qe}from"./QBtnDropdown-69YMJW9Q.js";import{C as M}from"./ClosePopup-POBKOZoS.js";import{_ as Se}from"./_plugin-vue_export-helper-DlAUqK2U.js";const je=O({name:"QCarouselSlide",props:{...me,imgSrc:String},setup(a,{slots:u}){const v=f(()=>a.imgSrc?{backgroundImage:`url("${a.imgSrc}")`}:{});return()=>b("div",{class:"q-carousel__slide",style:v.value},J(u.default))}}),he=["top","right","bottom","left"],Pe=["regular","flat","outline","push","unelevated"],Ne=O({name:"QCarousel",props:{...Y,...fe,...ke,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:a=>Pe.includes(a),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:a=>he.includes(a)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...be,...ge],setup(a,{slots:u}){const{proxy:{$q:v}}=_(),I=ee(a,v);let i=null,t;const{updatePanelsList:k,getPanelContent:C,panelDirectives:w,goToPanel:y,previousPanel:d,nextPanel:P,getEnabledPanels:c,panelIndex:s}=pe(),{inFullscreen:g}=ye(),q=f(()=>g.value!==!0&&a.height!==void 0?{height:a.height}:{}),V=f(()=>a.vertical===!0?"vertical":"horizontal"),r=f(()=>a.navigationPosition||(a.vertical===!0?"right":"bottom")),B=f(()=>`q-carousel q-panel-parent q-carousel--with${a.padding===!0?"":"out"}-padding`+(g.value===!0?" fullscreen":"")+(I.value===!0?" q-carousel--dark q-dark":"")+(a.arrows===!0?` q-carousel--arrows-${V.value}`:"")+(a.navigation===!0?` q-carousel--navigation-${r.value}`:"")),K=f(()=>{const o=[a.prevIcon||v.iconSet.carousel[a.vertical===!0?"up":"left"],a.nextIcon||v.iconSet.carousel[a.vertical===!0?"down":"right"]];return a.vertical===!1&&v.lang.rtl===!0?o.reverse():o}),Q=f(()=>a.navigationIcon||v.iconSet.carousel.navigationIcon),A=f(()=>a.navigationActiveIcon||Q.value),$=f(()=>({color:a.controlColor,textColor:a.controlTextColor,round:!0,[a.controlType]:!0,dense:!0}));T(()=>a.modelValue,()=>{a.autoplay&&n()}),T(()=>a.autoplay,o=>{o?n():i!==null&&(clearTimeout(i),i=null)});function n(){const o=ae(a.autoplay)===!0?Math.abs(a.autoplay):5e3;i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,o>=0?P():d()},o)}H(()=>{a.autoplay&&n()}),te(()=>{i!==null&&clearTimeout(i)});function e(o,S){return b("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${o} q-carousel__navigation--${r.value}`+(a.controlColor!==void 0?` text-${a.controlColor}`:"")},[b("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},c().map(S))])}function l(){const o=[];if(a.navigation===!0){const S=u["navigation-icon"]!==void 0?u["navigation-icon"]:p=>b(D,{key:"nav"+p.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${p.active===!0?"":"in"}active`,...p.btnProps,onClick:p.onClick}),N=t-1;o.push(e("buttons",(p,z)=>{const E=p.props.name,L=s.value===z;return S({index:z,maxIndex:N,name:E,active:L,btnProps:{icon:L===!0?A.value:Q.value,size:"sm",...$.value},onClick:()=>{y(E)}})}))}else if(a.thumbnails===!0){const S=a.controlColor!==void 0?` text-${a.controlColor}`:"";o.push(e("thumbnails",N=>{const p=N.props;return b("img",{key:"tmb#"+p.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${p.name===a.modelValue?"":"in"}active`+S,src:p.imgSrc||p["img-src"],onClick:()=>{y(p.name)}})}))}return a.arrows===!0&&s.value>=0&&((a.infinite===!0||s.value>0)&&o.push(b("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${V.value} absolute flex flex-center`},[b(D,{icon:K.value[0],...$.value,onClick:d})])),(a.infinite===!0||s.value<t-1)&&o.push(b("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${V.value} absolute flex flex-center`},[b(D,{icon:K.value[1],...$.value,onClick:P})]))),X(u.control,o)}return()=>(t=k(u),b("div",{class:B.value,style:q.value},[ne("div",{class:"q-carousel__slides-container"},C(),"sl-cont",a.swipeable,()=>w.value)].concat(l())))}}),Oe=O({name:"QBtnToggle",props:{...le,modelValue:{required:!0},options:{type:Array,required:!0,validator:a=>a.every(u=>("label"in u||"icon"in u||"slot"in u)&&"value"in u)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(a,{slots:u,emit:v}){const I=f(()=>a.options.find(c=>c.value===a.modelValue)!==void 0),i=f(()=>({type:"hidden",name:a.name,value:a.modelValue})),t=ie(i),k=f(()=>oe(a)),C=f(()=>({rounded:a.rounded,dense:a.dense,...k.value})),w=f(()=>a.options.map((c,s)=>{const{attrs:g,value:q,slot:V,...r}=c;return{slot:V,props:{key:s,"aria-pressed":q===a.modelValue?"true":"false",...g,...r,...C.value,disable:a.disable===!0||r.disable===!0,color:q===a.modelValue?d(r,"toggleColor"):d(r,"color"),textColor:q===a.modelValue?d(r,"toggleTextColor"):d(r,"textColor"),noCaps:d(r,"noCaps")===!0,noWrap:d(r,"noWrap")===!0,size:d(r,"size"),padding:d(r,"padding"),ripple:d(r,"ripple"),stack:d(r,"stack")===!0,stretch:d(r,"stretch")===!0,onClick(B){y(q,c,B)}}}}));function y(c,s,g){a.readonly!==!0&&(a.modelValue===c?a.clearable===!0&&(v("update:modelValue",null,null),v("clear")):v("update:modelValue",c,s),v("click",g))}function d(c,s){return c[s]===void 0?a[s]:c[s]}function P(){const c=w.value.map(s=>b(D,s.props,s.slot!==void 0?u[s.slot]:void 0));return a.name!==void 0&&a.disable!==!0&&I.value===!0&&t(c,"push"),X(u.default,c)}return()=>b(Ce,{class:"q-btn-toggle",...k.value,rounded:a.rounded,stretch:a.stretch,glossy:a.glossy,spread:a.spread},P)}}),Ve={};function Be(a,u){return Z(),ue(re,{flat:"",bordered:""},{default:x(()=>[m(qe,{flat:"","dropdown-icon":"more_vert",class:"q-px-sm",color:""},{default:x(()=>[W(m(D,{"no-caps":"",label:"Reload",flat:"",icon:"sync",class:"block",onClick:u[0]||(u[0]=v=>a.$emit("syncClick"))},null,512),[[M]]),m(se),W(m(D,{"no-caps":"",label:"Setting",flat:"",icon:"toc",to:"/settings/alamat",class:"block",onClick:u[1]||(u[1]=v=>a.$emit("routeClick"))},null,512),[[M]])]),_:1})]),_:1})}const j=Se(Ve,[["render",Be]]),$e={class:"row"},ze={__name:"CarouselAlamat",props:{data:{type:Object}},emits:["emitInput","emitRoute"],setup(a,{emit:u}){const v=a,I=u,i=we(),t=h({}),k=h([]),C=h([]),w=h([]),y=h([]),d=h(!1),P=h(!1),c=h(!1),s=h(!1);H(async()=>{Object.assign(t.value,v.data),await V(),t.value.provinsi&&await B(t.value.provinsi),t.value.provinsi&&t.value.kabupaten&&await Q(t.value.provinsi,t.value.kabupaten),t.value.provinsi&&t.value.kabupaten&&t.value.kecamatan&&await $(t.value.provinsi,t.value.kabupaten,t.value.kecamatan)});function g(n,e){return!Array.isArray(n)||!e?[]:n.map(o=>o[e]).sort((o,S)=>o.toLowerCase().localeCompare(S.toLowerCase()))}async function q(){k.value=[];const n=await F({endPoint:"alamat",loading:d});if(n){i.setProvinsi(n.provinsi);const e=i.getProvinsi();k.value=g(e,"provinsi")}}async function V(){k.value=[];const n=i.getProvinsi();n?.length>0?k.value=g(n,"provinsi"):await q()}async function r(n){if(C.value=[],!n)return;const e=await F({endPoint:"alamat",loading:P,params:{provinsi:n}});if(e){i.setKabupaten(e.kabupaten,{provinsi_name:n});const l=i.getKabupaten({provinsi_name:n});C.value=g(l,"kabupaten")}}async function B(n){if(C.value=[],!n)return;const e=i.getKabupaten({provinsi_name:n});e?.length>0?C.value=g(e,"kabupaten"):await r(n)}async function K(n,e){if(w.value=[],!n||!e)return;const l=await F({endPoint:"alamat",loading:c,params:{provinsi:n,kabupaten:e}});if(l){i.setKecamatan(l.kecamatan,{provinsi_name:n,kabupaten_name:e});const o=i.getKecamatan({provinsi_name:n,kabupaten_name:e});w.value=g(o,"kecamatan")}}async function Q(n,e){if(w.value=[],!n||!e)return;const l=i.getKecamatan({provinsi_name:n,kabupaten_name:e});l?.length>0?w.value=g(l,"kecamatan"):await K(n,e)}async function A(n,e,l){if(y.value=[],!n||!e||!l)return;const o=await F({endPoint:"alamat",loading:s,params:{provinsi:n,kabupaten:e,kecamatan:l}});if(o){i.setDesa(o.desa,{provinsi_name:n,kabupaten_name:e,kecamatan_name:l});const S=i.getDesa({provinsi_name:n,kabupaten_name:e,kecamatan_name:l});y.value=g(S,"desa")}}async function $(n,e,l){if(y.value=[],!n||!e||!l)return;const o=i.getDesa({provinsi_name:n,kabupaten_name:e,kecamatan_name:l});o?.length>0?y.value=g(o,"desa"):await A(n,e,l)}return ce(()=>{I("emitInput",t.value)}),T(()=>t.value.provinsi,async(n,e)=>{n!=e&&typeof e<"u"&&(t.value.kabupaten="",t.value.kecamatan="",t.value.desa="",await B(n))}),T(()=>t.value.kabupaten,async(n,e)=>{n!=e&&typeof e<"u"&&(t.value.kecamatan="",t.value.desa="",await Q(t.value.provinsi,n))}),T(()=>t.value.kecamatan,async(n,e)=>{n!=e&&typeof e<"u"&&(t.value.desa="",await $(t.value.provinsi,t.value.kabupaten,n))}),(n,e)=>(Z(),de(ve,null,[e[16]||(e[16]=G("div",{class:"text-subtitle2"},"Alamat",-1)),m(U,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Provinsi","emit-value":"","map-options":"",modelValue:t.value.provinsi,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.provinsi=l),options:k.value,loading:d.value,behavior:"menu",clearable:""},{after:x(()=>[m(j,{onSyncClick:e[0]||(e[0]=l=>q()),onRouteClick:e[1]||(e[1]=l=>n.$emit("emitRoute"))})]),_:1},8,["modelValue","options","loading"]),m(U,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Kabupaten/Kota","emit-value":"","map-options":"",modelValue:t.value.kabupaten,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.kabupaten=l),options:C.value,loading:P.value,behavior:"menu",clearable:""},{after:x(()=>[m(j,{onSyncClick:e[3]||(e[3]=l=>r(t.value.provinsi)),onRouteClick:e[4]||(e[4]=l=>n.$emit("emitRoute"))})]),_:1},8,["modelValue","options","loading"]),m(U,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Kecamatan","emit-value":"","map-options":"",modelValue:t.value.kecamatan,"onUpdate:modelValue":e[8]||(e[8]=l=>t.value.kecamatan=l),options:w.value,loading:c.value,behavior:"menu",clearable:""},{after:x(()=>[m(j,{onSyncClick:e[6]||(e[6]=l=>K(t.value.provinsi,t.value.kabupaten)),onRouteClick:e[7]||(e[7]=l=>n.$emit("emitRoute"))})]),_:1},8,["modelValue","options","loading"]),m(U,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Desa/Keluarahan","emit-value":"","map-options":"",modelValue:t.value.desa,"onUpdate:modelValue":e[11]||(e[11]=l=>t.value.desa=l),options:y.value,loading:s.value,"use-input":"","new-value-mode":"add",behavior:"menu",clearable:""},{after:x(()=>[m(j,{onSyncClick:e[9]||(e[9]=l=>A(t.value.provinsi,t.value.kabupaten,t.value.kecamatan)),onRouteClick:e[10]||(e[10]=l=>n.$emit("emitRoute"))})]),_:1},8,["modelValue","options","loading"]),G("div",$e,[m(R,{dense:"",hint:"",class:"q-mt-sm col q-mr-sm",outlined:"",label:"RT",modelValue:t.value.rt,"onUpdate:modelValue":e[12]||(e[12]=l=>t.value.rt=l),type:"number"},null,8,["modelValue"]),m(R,{dense:"",hint:"",class:"q-mt-sm col q-ml-sm",outlined:"",label:"RW",modelValue:t.value.rw,"onUpdate:modelValue":e[13]||(e[13]=l=>t.value.rw=l),type:"number"},null,8,["modelValue"])]),m(R,{dense:"",hint:"Dusun, kampung, jalan, gang, nomor rumah ...",class:"q-mt-sm",outlined:"",label:"Dusun",modelValue:t.value.jl,"onUpdate:modelValue":e[14]||(e[14]=l=>t.value.jl=l),autogrow:""},null,8,["modelValue"]),m(R,{dense:"",hint:"",class:"q-mt-sm",outlined:"",label:"Kode Pos",modelValue:t.value.kode_pos,"onUpdate:modelValue":e[15]||(e[15]=l=>t.value.kode_pos=l),rules:[l=>!l||l?.length==5&&!isNaN(l)||"5 digit angka!"],"error-color":"negative"},null,8,["modelValue","rules"])],64))}};export{Ne as Q,ze as _,je as a,Oe as b};

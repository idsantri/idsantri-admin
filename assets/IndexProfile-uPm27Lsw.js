import{q as p,s as c,E as g,c as w,o as f,w as t,g as a,Q as u,af as C,l as r,v as m,a9 as s,b as U,F as y,D as P,n as x,p as A,t as T,m as D,e as I}from"./index-CEqRNMKa.js";import{Q as L}from"./QSpace-rI7O3oMi.js";import{Q as N,a as v}from"./QItem-CE7Gw7UR.js";import{Q as B}from"./QItemLabel-DHWqC7wC.js";import{Q as _}from"./QList-BwIiBKrg.js";import{Q as F}from"./QBtnDropdown-xGuuc5eh.js";import{Q as K}from"./QForm-BLkSNr4R.js";import{C as M}from"./ClosePopup-CfU5FfYf.js";import{C as b}from"./ConfigApp-C9d8bMvC.js";import"./QBtnGroup-BeWlmbWW.js";import"./QMenu-CIUGaSD_.js";import"./selection-Dn82c7hT.js";import"./Api-BLJ5CcMO.js";import"./index-DMQSfvx3.js";import"./index-DUDauND2.js";import"./apiPost-D18tN-j-.js";const oa={__name:"IndexProfile",setup(O){const n=p(!1),o=p({pesantren:[],madrasah:[],alamat:[],personalia:{}});async function i(){try{n.value=!0;const d=await b.getProfile();o.value=d.profiles}catch(d){console.error("ðŸš€ ~ loadData ~ error:",d)}finally{n.value=!1}}c(async()=>{await i()});async function V(){const d=JSON.parse(JSON.stringify(o.value));try{n.value=!0,await b.setProfile(d)}catch(l){console.error("ðŸš€ ~ onSubmit ~ error:",l)}finally{n.value=!1}}const q=[{to:"/settings/profile/upload/stempel",icon:"approval",label:"Stempel"},{to:"/settings/profile/upload/tt-pengasuh",icon:"draw",label:"Tanda Tangan Pengasuh"},{to:"/settings/profile/upload/tt-ketua",icon:"draw",label:"Tanda Tangan Ketua"},{to:"/settings/profile/upload/tt-sekretaris",icon:"draw",label:"Tanda Tangan Sekretaris"}];return(d,l)=>{const Q=g("CardHeader"),k=g("CardPage");return f(),w(k,null,{default:t(()=>[a(Q,{title:"Pengaturan Profil Lembaga",onOnReload:i}),a(u,{class:"q-pa-sm"},{default:t(()=>[a(K,{onSubmit:C(V,["prevent"])},{default:t(()=>[a(r,{style:{"max-width":"600px"},flat:"",bordered:""},{default:t(()=>[a(u,{class:"q-pa-sm"},{default:t(()=>[a(r,null,{default:t(()=>[a(u,{class:"q-pa-sm bg-green-1 text-weight-medium"},{default:t(()=>[...l[12]||(l[12]=[m(" Pesantren ",-1)])]),_:1}),a(u,{class:"q-pa-sm"},{default:t(()=>[a(s,{dense:"",class:"",outlined:"",label:"Lembaga",modelValue:o.value.pesantren[0],"onUpdate:modelValue":l[0]||(l[0]=e=>o.value.pesantren[0]=e),loading:n.value},null,8,["modelValue","loading"]),a(s,{dense:"",class:"q-mt-sm",outlined:"",label:"Nama",modelValue:o.value.pesantren[1],"onUpdate:modelValue":l[1]||(l[1]=e=>o.value.pesantren[1]=e),loading:n.value},null,8,["modelValue","loading"]),a(s,{dense:"",class:"q-mt-sm",outlined:"",label:"Akronim/Singkatan",modelValue:o.value.pesantren[2],"onUpdate:modelValue":l[2]||(l[2]=e=>o.value.pesantren[2]=e),loading:n.value},null,8,["modelValue","loading"])]),_:1})]),_:1}),a(r,{class:"q-mt-sm"},{default:t(()=>[a(u,{class:"q-pa-sm bg-green-1"},{default:t(()=>[...l[13]||(l[13]=[m(" Madrasah ",-1)])]),_:1}),a(u,{class:"q-pa-sm"},{default:t(()=>[a(s,{dense:"",class:"",outlined:"",label:"Lembaga",modelValue:o.value.madrasah[0],"onUpdate:modelValue":l[3]||(l[3]=e=>o.value.madrasah[0]=e),loading:n.value},null,8,["modelValue","loading"]),a(s,{dense:"",class:"q-mt-sm",outlined:"",label:"Nama",modelValue:o.value.madrasah[1],"onUpdate:modelValue":l[4]||(l[4]=e=>o.value.madrasah[1]=e),loading:n.value},null,8,["modelValue","loading"]),a(s,{dense:"",class:"q-mt-sm",outlined:"",label:"Akronim/Singkatan",modelValue:o.value.madrasah[2],"onUpdate:modelValue":l[5]||(l[5]=e=>o.value.madrasah[2]=e),loading:n.value},null,8,["modelValue","loading"])]),_:1})]),_:1}),a(r,{class:"q-mt-sm"},{default:t(()=>[a(u,{class:"q-pa-sm bg-green-1"},{default:t(()=>[...l[14]||(l[14]=[m(" Alamat ",-1)])]),_:1}),a(u,{class:"q-pa-sm"},{default:t(()=>[a(s,{dense:"",class:"",outlined:"",label:"Alamat (baris-1)",modelValue:o.value.alamat[0],"onUpdate:modelValue":l[6]||(l[6]=e=>o.value.alamat[0]=e),loading:n.value},null,8,["modelValue","loading"]),a(s,{dense:"",class:"q-mt-sm",outlined:"",label:"Alamat (baris-2)",modelValue:o.value.alamat[1],"onUpdate:modelValue":l[7]||(l[7]=e=>o.value.alamat[1]=e),loading:n.value},null,8,["modelValue","loading"]),a(s,{dense:"",class:"q-mt-sm",outlined:"",label:"Kota (Surat)",modelValue:o.value.alamat[2],"onUpdate:modelValue":l[8]||(l[8]=e=>o.value.alamat[2]=e),loading:n.value},null,8,["modelValue","loading"])]),_:1})]),_:1}),a(r,{class:"q-mt-sm"},{default:t(()=>[a(u,{class:"q-pa-sm bg-green-1 flex"},{default:t(()=>[l[15]||(l[15]=m(" Personalia ",-1)),a(L),a(F,{label:"Upload",outline:"","no-caps":"",icon:"upload"},{default:t(()=>[a(_,null,{default:t(()=>[(f(),U(y,null,P(q,(e,S)=>x(a(N,{key:S,clickable:"",to:e.to},{default:t(()=>[a(v,{avatar:""},{default:t(()=>[a(A,{name:e.icon},null,8,["name"])]),_:2},1024),a(v,null,{default:t(()=>[a(B,null,{default:t(()=>[m(T(e.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]),[[M]])),64))]),_:1})]),_:1})]),_:1}),a(u,{class:"q-pa-sm"},{default:t(()=>[a(s,{dense:"",class:"",outlined:"",label:"Pengasuh",modelValue:o.value.personalia.pengasuh,"onUpdate:modelValue":l[9]||(l[9]=e=>o.value.personalia.pengasuh=e),loading:n.value},null,8,["modelValue","loading"]),a(s,{dense:"",class:"q-mt-sm",outlined:"",label:"Ketua",modelValue:o.value.personalia.ketua,"onUpdate:modelValue":l[10]||(l[10]=e=>o.value.personalia.ketua=e),loading:n.value},null,8,["modelValue","loading"]),a(s,{dense:"",class:"q-mt-sm",outlined:"",label:"Sekretaris",modelValue:o.value.personalia.sekretaris,"onUpdate:modelValue":l[11]||(l[11]=e=>o.value.personalia.sekretaris=e),loading:n.value},null,8,["modelValue","loading"])]),_:1})]),_:1})]),_:1}),a(D,{align:"right",class:"bg-green-7"},{default:t(()=>[a(I,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{oa as default};

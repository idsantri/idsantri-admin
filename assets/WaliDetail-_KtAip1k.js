import{ae as k,ad as C,aa as h,q as d,A as $,s as W,E as m,c as q,o as x,w as s,g as t,e as y,Q as D,a as r}from"./index-lfsacdTL.js";import{f as B}from"./format-date-DBaFa2rd.js";import{_ as I}from"./CardSantriLists-DnjwAX5E.js";import{w as o}from"./wali-store-BAN4e5pw.js";import{f as A}from"./format-text-DnCGEu2I.js";import{d as N}from"./dialog-store-DIH767Ga.js";import{W as R}from"./Wali-Jv2_VNrG.js";import{C as S}from"./CardListTabel-Dg8lhjpe.js";import"./id-BuNGTsqN.js";import"./QSpace-DMx1parf.js";import"./QImg-B8oJH5er.js";import"./QItem-D2V1ywYc.js";import"./QItemLabel-DetB28No.js";import"./QList-DPyI_zsk.js";import"./ApiCrud-FTDmQjbi.js";import"./Api-DXhapTLT.js";import"./index-BjANHOw7.js";import"./index-D3OjluQT.js";import"./apiPost-61dWqKCW.js";import"./QMarkupTable-Bz2fobx8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"row",style:{"max-width":"1024px"}},E={class:"col-12 col-md-6 q-pa-sm"},K={class:"col-12 col-md-6 q-pa-sm"},na={__name:"WaliDetail",setup(P){const{wali:a}=k(o()),c=C().params.id,p=N(),{searchWali:v,crudWali:f}=h(p),i=d([]),l=d(!1);async function n(){o().$reset();try{l.value=!0;const e=await R.getById({id:c});e&&(o().setWali(e.wali),i.value=a.value.santri)}catch{}finally{l.value=!1}}const _=$(()=>[{label:"ID",value:a.value.id},{label:"Nama",value:`${a.value?.nama||""} (${a.value?.sex?.toUpperCase()??""})`},{label:"NIK",value:a.value?.nik||"-"},{label:"Alamat",value:A(a.value.jl,a.value.rt,a.value.rw,a.value.desa,a.value.kecamatan,a.value.kabupaten,a.value.provinsi,a.value.kode_pos)},{label:"Kelahiran",value:`${a.value?.tmp_lahir||""}, ${B(a.value?.tgl_lahir)}`},{label:"Pekerjaan",value:a.value?.pekerjaan||"-"},{label:"Kontak",value:`${a.value?.telepon||""}; ${a.value?.email||""}`}]);W(async()=>{await n()});function g(){o().setEdit(),f.value=!0}return(e,u)=>{const b=m("CardHeader"),w=m("CardPage");return x(),q(w,null,{default:s(()=>[t(b,{title:"Data Wali",onOnReload:n,"show-edit":!0,onOnEdit:g},{buttons:s(()=>[t(y,{label:e.$q.screen.lt.sm?"":"Cari",onClick:u[0]||(u[0]=H=>v.value=!0),color:"green-2","no-caps":"",dense:"",class:"q-px-sm text-green-10",icon:"search"},null,8,["label"])]),_:1}),t(D,{class:"no-padding"},{default:s(()=>[r("div",j,[r("div",E,[t(S,{data:_.value,loading:l.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"])]),r("div",K,[t(I,{data:i.value,loading:l.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})}}};export{na as default};

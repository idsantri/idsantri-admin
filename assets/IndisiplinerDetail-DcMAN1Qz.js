import{q as b,ad as $,s as T,au as P,E as y,c as w,o as c,w as n,g as t,a,Q as u,e as k,v as f,b as z,F as E,D as K,aj as F,G as i,t as r,J as V,l as S}from"./index-B_fOp8I2.js";import{Q as j,a as B}from"./QToolbar-CUgTqRRC.js";import{Q as L}from"./QSpace-DcIMlGPs.js";import{Q as M}from"./QRating-C3D1e30H.js";import{a as N,f as Q}from"./format-date-DBaFa2rd.js";import{f as U,m as C,b as D}from"./hijri-CTUg_lXm.js";import{Q as A,a as I}from"./QItem-BIr2qAQs.js";import{Q as G}from"./QList-Bhy1FtzV.js";import{_ as R}from"./IndisiplinerForm-DyqxvQns.js";import{I as H}from"./Indisipliner-BPN3HASI.js";import{_ as J}from"./CardSantriSimple-TxiBfjhH.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-CJebrXOQ.js";import"./id-BuNGTsqN.js";import"./format-number-B34ySHL_.js";import"./QSelect-udWnZaoN.js";import"./QChip-5TM6hDLU.js";import"./QItemLabel-Dzv1rcUf.js";import"./QMenu-BsVEoqbp.js";import"./selection-CtPAXORa.js";import"./rtl-DFPa-2ov.js";import"./QForm-XW60lmKZ.js";import"./InputSelectSantriId-CQa7IIQ3.js";import"./Santri-W-_fqG8z.js";import"./ApiCrud-DVH4XNNQ.js";import"./Api-BNo_L0HG.js";import"./index-Bv8s4jzG.js";import"./index-BF457XYG.js";import"./apiPost-TFI76I_W.js";import"./lists-store-CD0Hggyp.js";import"./ArrayCrud-CByp4EUn.js";import"./Lists-CqahsUVd.js";import"./lists-data-CZ3z29xr.js";import"./DropDownAfter-CV4tl_Qw.js";import"./QBtnDropdown-CfBCVMge.js";import"./QBtnGroup-DMJJVPpn.js";import"./ClosePopup-OWfInyoi.js";import"./InputSelectArray-CnP1463e.js";import"./useCrudForm-DYJRtmbD.js";import"./QSkeleton-DcawcrFc.js";import"./QImg-C4XQLp2C.js";import"./santri-store-D0uKEmX1.js";const W={class:"relative-position"},X={class:"flex"},Y={__name:"IndisiplinerRiwayat",props:{santri_id:{required:!0}},setup(x){const m=x,s=b([]),p=b(!1),g=b(!1),{params:v}=$();T(async()=>{m.santri_id?await d(m.santri_id):s.value=[]}),P(async()=>{m.santri_id?await d(m.santri_id):s.value=[]});async function d(l){try{p.value=!0;const e=await H.getAll({params:{santri_id:l}});s.value=e.indisipliner}catch(e){console.log("ðŸš€ ~ getRiwayat ~ error:",e)}finally{p.value=!1}}return(l,e)=>{const q=y("CardLoading");return c(),w(S,{flat:"",bordered:"",class:""},{default:n(()=>[t(u,{class:"bg-green-7 no-padding"},{default:n(()=>[t(j,{class:"no-padding no-margin"},{default:n(()=>[t(k,{icon:"sync","no-caps":"",onClick:e[0]||(e[0]=o=>d(x.santri_id)),flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),t(B,{class:"text-subtitle1 text-green-11 q-px-none"},{default:n(()=>[...e[4]||(e[4]=[f(" Riwayat Indisipliner ",-1)])]),_:1}),t(k,{color:"green-11",outline:"",dense:"","no-caps":"",icon:"add",label:"Tambah",class:"q-mr-sm q-px-md",onClick:e[1]||(e[1]=o=>g.value=!0)})]),_:1})]),_:1}),a("div",W,[s.value?.length?(c(),w(u,{key:1,class:"q-pa-sm"},{default:n(()=>[t(G,{separator:"",bordered:""},{default:n(()=>[(c(!0),z(E,null,K(s.value,(o,_)=>(c(),w(A,{key:_,class:F([o.id==i(v).id?"bg-green-1":"","q-pa-sm"])},{default:n(()=>[t(I,null,{default:n(()=>[a("table",null,[a("tbody",null,[a("tr",null,[e[6]||(e[6]=a("td",{class:"label"},"Tanggal Sidang:",-1)),a("td",X,[f(r(i(N)(o.tgl_sidang)+" | "+i(U)(i(C)(o.tgl_sidang)))+" ",1),t(L),f(" "+r(o.th_ajaran_h),1)])]),a("tr",null,[e[7]||(e[7]=a("td",{class:"label"},"Pasal",-1)),a("td",null,r(o.no_pasal),1)]),a("tr",null,[e[8]||(e[8]=a("td",{class:"label"},"Kategori",-1)),a("td",null,r(o.kategori_text),1)]),a("tr",null,[e[9]||(e[9]=a("td",{class:"label"},"Sanksi",-1)),a("td",null,r(o.takzir),1)])])])]),_:2},1024),t(I,{side:"",class:"no-padding"},{default:n(()=>[t(k,{disable:o.id==i(v).id,icon:"info",glossy:"",dense:"",round:"",outline:"",color:"green",to:`/keamanan/indisipliner/${o.id}`},null,8,["disable","to"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})):(c(),w(u,{key:0,class:"text-italic text-center q-pa-lg"},{default:n(()=>[...e[5]||(e[5]=[f(" Tidak ada untuk ditampilkan ",-1)])]),_:1})),t(q,{showing:p.value},null,8,["showing"])]),t(V,{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=o=>g.value=o)},{default:n(()=>[t(R,{data:{santri_id:x.santri_id,nama:s.value[0]?.nama,data_akhir:s.value[0]?.data_akhir},onSuccessDelete:o=>null,onSuccessSubmit:e[2]||(e[2]=o=>l.$router.push(`/keamanan/indisipliner/${o.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Z={class:"tw:w-full"},h={__name:"IndisiplinerDetail",setup(x){const m=$(),s=b({}),p=b(!1),g=b(!1);async function v(){try{p.value=!0;const d=await H.getById({id:m.params.id});s.value=d.indisipliner}catch(d){console.log("ðŸš€ ~ loadData ~ error:",d)}finally{p.value=!1}}return T(async()=>{m.params.id&&await v()}),(d,l)=>{const e=y("CardHeader"),q=y("CardLoading"),o=y("CardPage");return c(),w(o,null,{default:n(()=>[t(e,{title:"Detail Santri Indisipliner","show-reload":!1}),t(u,{class:"tw:flex tw:flex-col tw:sm:flex-row tw:sm:justify-between tw:gap-2 q-pa-sm",style:{"max-width":"1200px"}},{default:n(()=>[t(S,{class:"tw:w-full",flat:"",bordered:""},{default:n(()=>[t(u,{class:"bg-green-7 no-padding"},{default:n(()=>[t(j,{class:"no-padding no-margin"},{default:n(()=>[t(k,{icon:"sync","no-caps":"",onClick:v,flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),t(B,{class:"text-subtitle1 text-green-11 q-px-none"},{default:n(()=>[...l[3]||(l[3]=[f(" Data Santri Indisipliner ",-1)])]),_:1}),t(k,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Cetak","no-caps":"",icon:"print",color:"green-11",disable:""}),t(k,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Edit","no-caps":"",icon:"edit",color:"green-2",onClick:l[0]||(l[0]=_=>g.value=!0)})]),_:1})]),_:1}),t(u,{class:"q-pa-sm"},{default:n(()=>[t(J,{id:s.value.santri_id},null,8,["id"]),t(S,{bordered:"",flat:"",class:"q-mt-sm"},{default:n(()=>[t(u,{class:"q-pa-sm text-subtitle1 bg-green-11 flex"},{default:n(()=>[l[4]||(l[4]=f(" Data Pelanggaran ",-1)),t(L)]),_:1}),t(u,{class:"q-pa-sm"},{default:n(()=>[a("table",null,[a("tbody",null,[a("tr",null,[l[5]||(l[5]=a("td",{class:""},"Kategori:",-1)),a("td",null,[f(r(s.value.kategori_text)+" â€” ",1),t(M,{name:"kategori","model-value":s.value.kategori||0,max:"5",color:"red",icon:"thumb_down","icon-selected":"thumb_down",readonly:""},null,8,["model-value"])])]),a("tr",null,[l[6]||(l[6]=a("td",{class:""},"Kasus",-1)),a("td",null,r(i(Q)(s.value.tgl_kasus)+" | "+i(D)(i(C)(s.value.tgl_kasus))),1)]),a("tr",null,[l[7]||(l[7]=a("td",{class:""},"Sidang:",-1)),a("td",null,r(i(Q)(s.value.tgl_sidang)+" | "+i(D)(i(C)(s.value.tgl_sidang))),1)]),a("tr",null,[l[8]||(l[8]=a("td",{class:""},"Pasal:",-1)),a("td",null,r(s.value.pasal),1)]),a("tr",null,[l[9]||(l[9]=a("td",{class:""},"Deskripsi:",-1)),a("td",null,r(s.value.deskripsi),1)]),a("tr",null,[l[10]||(l[10]=a("td",{class:""},"Eksekutor:",-1)),a("td",null,r(s.value.eksekutor),1)]),a("tr",null,[l[11]||(l[11]=a("td",{class:""},"Saksi:",-1)),a("td",null,r(s.value.saksi),1)]),a("tr",null,[l[12]||(l[12]=a("td",{class:""},"Takzir:",-1)),a("td",null,r(s.value.takzir),1)]),a("tr",null,[l[13]||(l[13]=a("td",{class:""},"Keterangan:",-1)),a("td",null,r(s.value.keterangan),1)])])]),t(q,{showing:p.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})]),_:1}),a("div",Z,[t(Y,{santri_id:s.value.santri_id},null,8,["santri_id"])])]),_:1}),t(V,{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=_=>g.value=_)},{default:n(()=>[t(R,{data:s.value,onSuccessDelete:l[1]||(l[1]=_=>d.$router.go(-1)),onSuccessSubmit:v},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Ma=O(h,[["__scopeId","data-v-8b08603a"]]);export{Ma as default};

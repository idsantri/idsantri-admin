import{B as r,X as w,C as i,c as x,o as d,w as l,g as e,Q as m,l as b,a as p,b as f,F as y,A as B,bG as Q,m as q,e as S}from"./index-BxW-Zl0Y.js";import{a as V}from"./api-get-Voz9MJxZ.js";import{n as E}from"./index-BSCwVkgJ.js";import{S as P}from"./Status-BEY7Uvau.js";import"./index-BVb4nAdI.js";import"./api-error-CztaqWte.js";import"./ApiCrud-B-1sH64C.js";import"./Api-ZbNEZgR7.js";const L={class:"row"},R={__name:"ExportPage",setup(U){const o=r([]),n=r([]),s=r(!1);async function u(){try{o.value=[],s.value=!0;const t=await P.lists();o.value=t.status}catch{console.log("error get list status")}finally{s.value=!1}}w(async()=>{await u()});async function g(){const t=await V({endPoint:"export/santri",loading:s,params:{status:n.value}});if(!t)return;if(!t.url)return E("Url tidak ditemukan");const a=document.createElement("a");a.href=t.url,a.click(),a.remove()}return(t,a)=>{const _=i("CardHeader"),v=i("CardLoading"),C=i("CardPage");return d(),x(C,null,{default:l(()=>[e(_,{title:"Ekspor Data Santri",onOnReload:u}),e(m,{class:"q-pa-sm"},{default:l(()=>[e(b,{flat:"",bordered:"",class:"relative-position",style:{"max-width":"600px"}},{default:l(()=>[e(m,{class:"q-pa-sm",style:{"min-height":"200px"}},{default:l(()=>[a[1]||(a[1]=p("h2",{class:"text-subtitle1 text-italic q-pl-md"}," Tentukan status akhir santri yang ingin didownload ",-1)),p("div",L,[(d(!0),f(y,null,B(o.value,(c,k)=>(d(),f("div",{key:k,class:"col-6"},[e(Q,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=h=>n.value=h),val:c,label:c},null,8,["modelValue","val","label"])]))),128))])]),_:1}),e(q,{align:"right",class:"bg-green-6 q-pa-sm"},{default:l(()=>[e(S,{disable:!n.value.length||s.value,label:"Unduh","no-caps":"",class:"q-px-md",outline:"",color:"green-11",icon:"file_download",onClick:g},null,8,["disable"])]),_:1}),e(v,{showing:s.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})}}};export{R as default};

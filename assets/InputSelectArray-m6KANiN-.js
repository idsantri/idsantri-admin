import{Q as g}from"./QSelect-DG0UTNMZ.js";import{l as v}from"./lists-store-MtkfrqvS.js";import{_ as S}from"./DropDownAfter-fp8kMr4A.js";import{L as h}from"./Lists-Cka2Qv50.js";import{bi as V,a8 as _,q as f,ap as w,s as B,c as m,o as p,w as b,f as k}from"./index-BjwPH8FF.js";const L={__name:"InputSelectArray",props:V({url:{type:String,require:!0},sort:{type:String,default:"asc"},btnSetting:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(o,{expose:d}){const n=_(o,"modelValue"),a=o,s=f(!1),r=f([]),u=v(),l=a.url.replace(/-/g,"_"),t=w("selectRef");d({focus:()=>{t.value&&t.value.focus()},showPopup:()=>{t.value&&t.value.showPopup()}}),B(async()=>{const e=u.getStateByKey_Arr(l,a.sort);e.length?r.value=e:(await i(),r.value=u.getStateByKey_Arr(l,a.sort))});async function i(){try{s.value=!0;const e=await h.getByKey(a.url);u.$patch({[l]:e[l]})}catch(e){console.log("error get list ",e)}finally{s.value=!1}}return(e,c)=>(p(),m(g,{dense:"",outlined:"","emit-value":"","map-options":"",options:r.value,loading:s.value,behavior:"menu",clearable:"",modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=y=>n.value=y),ref_key:"selectRef",ref:t},{after:b(()=>[o.btnSetting?(p(),m(S,{key:0,"route-to":o.url,onReload:i},null,8,["route-to"])):k("",!0)]),_:1},8,["options","loading","modelValue"]))}};export{L as _};

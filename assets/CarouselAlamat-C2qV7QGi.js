import{c as N,b as g,h as b,e as J,u as X,g as Y,a as ee,G as Q,a$ as ae,R as W,H as ne,S as te,p as D,U as G,b0 as le,aZ as oe,b1 as ie,f as se,o as H,w as _,i as d,n as M,l as ue,q as re,a2 as ce,v as S,r as ve,k as E,a3 as A,F as de}from"./index-BOc7y3E3.js";import{u as me,a as ge,b as fe,c as pe}from"./use-panel-CBHOJepn.js";import{u as be,a as ke,b as ye}from"./use-fullscreen-DZQzNGwS.js";import{Q as Ce}from"./QBtnGroup-CNPGzkQV.js";import{Q as T}from"./QSelect-Br9kkI5Z.js";import{a as he}from"./alamat-store-CEPg1MMV.js";import{A as R}from"./Alamat-SjWGUTQw.js";import{Q as we}from"./QBtnDropdown-BmLRcAl8.js";import{C as L}from"./ClosePopup-CcGROVC7.js";import{_ as qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Fe=N({name:"QCarouselSlide",props:{...me,imgSrc:String},setup(e,{slots:o}){const n=g(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>b("div",{class:"q-carousel__slide",style:n.value},J(o.default))}}),Ve=["top","right","bottom","left"],Se=["regular","flat","outline","push","unelevated"],Ne=N({name:"QCarousel",props:{...X,...fe,...ke,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Se.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ve.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...be,...ge],setup(e,{slots:o}){const{proxy:{$q:n}}=Y(),C=ee(e,n);let c=null,k;const{updatePanelsList:y,getPanelContent:B,panelDirectives:P,goToPanel:q,previousPanel:s,nextPanel:f,getEnabledPanels:u,panelIndex:r}=pe(),{inFullscreen:h}=ye(),w=g(()=>h.value!==!0&&e.height!==void 0?{height:e.height}:{}),V=g(()=>e.vertical===!0?"vertical":"horizontal"),i=g(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),$=g(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(h.value===!0?" fullscreen":"")+(C.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${V.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${i.value}`:"")),I=g(()=>{const m=[e.prevIcon||n.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||n.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&n.lang.rtl===!0?m.reverse():m}),t=g(()=>e.navigationIcon||n.iconSet.carousel.navigationIcon),a=g(()=>e.navigationActiveIcon||t.value),l=g(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));Q(()=>e.modelValue,()=>{e.autoplay&&v()}),Q(()=>e.autoplay,m=>{m?v():c!==null&&(clearTimeout(c),c=null)});function v(){const m=ae(e.autoplay)===!0?Math.abs(e.autoplay):5e3;c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,m>=0?f():s()},m)}W(()=>{e.autoplay&&v()}),ne(()=>{c!==null&&clearTimeout(c)});function x(m,K){return b("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${m} q-carousel__navigation--${i.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[b("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},u().map(K))])}function Z(){const m=[];if(e.navigation===!0){const K=o["navigation-icon"]!==void 0?o["navigation-icon"]:p=>b(D,{key:"nav"+p.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${p.active===!0?"":"in"}active`,...p.btnProps,onClick:p.onClick}),F=k-1;m.push(x("buttons",(p,j)=>{const O=p.props.name,z=r.value===j;return K({index:j,maxIndex:F,name:O,active:z,btnProps:{icon:z===!0?a.value:t.value,size:"sm",...l.value},onClick:()=>{q(O)}})}))}else if(e.thumbnails===!0){const K=e.controlColor!==void 0?` text-${e.controlColor}`:"";m.push(x("thumbnails",F=>{const p=F.props;return b("img",{key:"tmb#"+p.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${p.name===e.modelValue?"":"in"}active`+K,src:p.imgSrc||p["img-src"],onClick:()=>{q(p.name)}})}))}return e.arrows===!0&&r.value>=0&&((e.infinite===!0||r.value>0)&&m.push(b("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${V.value} absolute flex flex-center`},[b(D,{icon:I.value[0],...l.value,onClick:s})])),(e.infinite===!0||r.value<k-1)&&m.push(b("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${V.value} absolute flex flex-center`},[b(D,{icon:I.value[1],...l.value,onClick:f})]))),G(o.control,m)}return()=>(k=y(o),b("div",{class:$.value,style:w.value},[te("div",{class:"q-carousel__slides-container"},B(),"sl-cont",e.swipeable,()=>P.value)].concat(Z())))}}),je=N({name:"QBtnToggle",props:{...le,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(o=>("label"in o||"icon"in o||"slot"in o)&&"value"in o)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:o,emit:n}){const C=g(()=>e.options.find(u=>u.value===e.modelValue)!==void 0),c=g(()=>({type:"hidden",name:e.name,value:e.modelValue})),k=ie(c),y=g(()=>oe(e)),B=g(()=>({rounded:e.rounded,dense:e.dense,...y.value})),P=g(()=>e.options.map((u,r)=>{const{attrs:h,value:w,slot:V,...i}=u;return{slot:V,props:{key:r,"aria-pressed":w===e.modelValue?"true":"false",...h,...i,...B.value,disable:e.disable===!0||i.disable===!0,color:w===e.modelValue?s(i,"toggleColor"):s(i,"color"),textColor:w===e.modelValue?s(i,"toggleTextColor"):s(i,"textColor"),noCaps:s(i,"noCaps")===!0,noWrap:s(i,"noWrap")===!0,size:s(i,"size"),padding:s(i,"padding"),ripple:s(i,"ripple"),stack:s(i,"stack")===!0,stretch:s(i,"stretch")===!0,onClick($){q(w,u,$)}}}}));function q(u,r,h){e.readonly!==!0&&(e.modelValue===u?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",u,r),n("click",h))}function s(u,r){return u[r]===void 0?e[r]:u[r]}function f(){const u=P.value.map(r=>b(D,r.props,r.slot!==void 0?o[r.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&C.value===!0&&k(u,"push"),G(o.default,u)}return()=>b(Ce,{class:"q-btn-toggle",...y.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},f)}}),Be={};function Pe(e,o){return H(),se(re,{flat:"",bordered:""},{default:_(()=>[d(we,{flat:"","dropdown-icon":"more_vert",class:"q-px-sm",color:""},{default:_(()=>[M(d(D,{"no-caps":"",label:"Reload",flat:"",icon:"sync",class:"block",onClick:o[0]||(o[0]=n=>e.$emit("syncClick"))},null,512),[[L]]),d(ue),M(d(D,{"no-caps":"",label:"Setting",flat:"",icon:"toc",to:"/settings/alamat",class:"block",onClick:o[1]||(o[1]=n=>e.$emit("routeClick"))},null,512),[[L]])]),_:1})]),_:1})}const U=qe(Be,[["render",Pe]]),$e={class:"row"},Oe={__name:"CarouselAlamat",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=he(),n=ce(e,"modelValue"),C=S([]),c=S([]),k=S([]),y=S([]),B=S(!1),P=S(!1),q=S(!1),s=S(!1);W(async()=>{await r(),n.value.provinsi&&await w(n.value.provinsi),n.value.provinsi&&n.value.kabupaten&&await i(n.value.provinsi,n.value.kabupaten),n.value.provinsi&&n.value.kabupaten&&n.value.kecamatan&&await I(n.value.provinsi,n.value.kabupaten,n.value.kecamatan)});function f(t,a){return!Array.isArray(t)||!a?[]:t.map(v=>v[a]).sort((v,x)=>v.toLowerCase().localeCompare(x.toLowerCase()))}async function u(){C.value=[];try{B.value=!0;const t=await R.searchByParams();if(t){o.setProvinsi(t.provinsi);const a=o.getProvinsi();C.value=f(a,"provinsi")}}catch(t){console.log("error get provinsi ",t)}finally{B.value=!1}}async function r(){C.value=[];const t=o.getProvinsi();t?.length>0?C.value=f(t,"provinsi"):await u()}async function h(){c.value=[];const t=n.value.provinsi;if(t)try{P.value=!0;const a=await R.searchByParams({provinsi:t});if(a){o.setKabupaten(a.kabupaten,{provinsi_name:t});const l=o.getKabupaten({provinsi_name:t});c.value=f(l,"kabupaten")}}catch(a){console.log("error get kabupaten ",a)}finally{P.value=!1}}async function w(t){if(c.value=[],!t)return;const a=o.getKabupaten({provinsi_name:t});a?.length>0?c.value=f(a,"kabupaten"):await h()}async function V(){k.value=[];const t=n.value.provinsi,a=n.value.kabupaten;if(!(!t||!a))try{q.value=!0;const l=await R.searchByParams({provinsi:t,kabupaten:a});if(l){o.setKecamatan(l.kecamatan,{provinsi_name:t,kabupaten_name:a});const v=o.getKecamatan({provinsi_name:t,kabupaten_name:a});k.value=f(v,"kecamatan")}}catch(l){console.log("error get kecamatan ",l)}finally{q.value=!1}}async function i(t,a){if(k.value=[],!t||!a)return;const l=o.getKecamatan({provinsi_name:t,kabupaten_name:a});l?.length>0?k.value=f(l,"kecamatan"):await V()}async function $(){y.value=[];const t=n.value.provinsi,a=n.value.kabupaten,l=n.value.kecamatan;if(!(!t||!a||!l))try{s.value=!0;const v=await R.searchByParams({provinsi:t,kabupaten:a,kecamatan:l});if(v){o.setDesa(v.desa,{provinsi_name:t,kabupaten_name:a,kecamatan_name:l});const x=o.getDesa({provinsi_name:t,kabupaten_name:a,kecamatan_name:l});y.value=f(x,"desa")}}catch(v){console.log("error get desa ",v)}finally{s.value=!1}}async function I(t,a,l){if(y.value=[],!t||!a||!l)return;const v=o.getDesa({provinsi_name:t,kabupaten_name:a,kecamatan_name:l});v?.length>0?y.value=f(v,"desa"):await $()}return Q(()=>n.value.provinsi,async(t,a)=>{t!=a&&(n.value.kabupaten="",n.value.kecamatan="",n.value.desa="",await w(t))}),Q(()=>n.value.kabupaten,async(t,a)=>{console.log("watch kab"),t!=a&&(n.value.kecamatan="",n.value.desa="",await i(n.value.provinsi,t))}),Q(()=>n.value.kecamatan,async(t,a)=>{t!=a&&(n.value.desa="",await I(n.value.provinsi,n.value.kabupaten,t))}),(t,a)=>(H(),ve(de,null,[a[16]||(a[16]=E("div",{class:"text-subtitle2"},"Data Alamat",-1)),d(T,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Provinsi","emit-value":"","map-options":"",modelValue:n.value.provinsi,"onUpdate:modelValue":a[2]||(a[2]=l=>n.value.provinsi=l),options:C.value,loading:B.value,behavior:"menu",clearable:""},{after:_(()=>[d(U,{onSyncClick:a[0]||(a[0]=l=>u()),onRouteClick:a[1]||(a[1]=l=>t.$emit("emitRoute"))})]),_:1},8,["modelValue","options","loading"]),d(T,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Kabupaten/Kota","emit-value":"","map-options":"",modelValue:n.value.kabupaten,"onUpdate:modelValue":a[5]||(a[5]=l=>n.value.kabupaten=l),options:c.value,loading:P.value,behavior:"menu",clearable:""},{after:_(()=>[d(U,{onSyncClick:a[3]||(a[3]=l=>h()),onRouteClick:a[4]||(a[4]=l=>t.$emit("emitRoute"))})]),_:1},8,["modelValue","options","loading"]),d(T,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Kecamatan","emit-value":"","map-options":"",modelValue:n.value.kecamatan,"onUpdate:modelValue":a[8]||(a[8]=l=>n.value.kecamatan=l),options:k.value,loading:q.value,behavior:"menu",clearable:""},{after:_(()=>[d(U,{onSyncClick:a[6]||(a[6]=l=>V()),onRouteClick:a[7]||(a[7]=l=>t.$emit("emitRoute"))})]),_:1},8,["modelValue","options","loading"]),d(T,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Desa/Keluarahan","emit-value":"","map-options":"",modelValue:n.value.desa,"onUpdate:modelValue":a[11]||(a[11]=l=>n.value.desa=l),options:y.value,loading:s.value,"use-input":"","new-value-mode":"add",behavior:"menu",clearable:""},{after:_(()=>[d(U,{onSyncClick:a[9]||(a[9]=l=>$()),onRouteClick:a[10]||(a[10]=l=>t.$emit("emitRoute"))})]),_:1},8,["modelValue","options","loading"]),E("div",$e,[d(A,{dense:"",hint:"",class:"q-my-sm col q-mr-sm",outlined:"",label:"RT",modelValue:n.value.rt,"onUpdate:modelValue":a[12]||(a[12]=l=>n.value.rt=l),type:"number"},null,8,["modelValue"]),d(A,{dense:"",hint:"",class:"q-my-sm col q-ml-sm",outlined:"",label:"RW",modelValue:n.value.rw,"onUpdate:modelValue":a[13]||(a[13]=l=>n.value.rw=l),type:"number"},null,8,["modelValue"])]),d(A,{dense:"",hint:"Dusun, kampung, jalan, gang, nomor rumah ...",class:"q-my-sm",outlined:"",label:"Dusun",modelValue:n.value.jl,"onUpdate:modelValue":a[14]||(a[14]=l=>n.value.jl=l),autogrow:""},null,8,["modelValue"]),d(A,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Kode Pos",modelValue:n.value.kode_pos,"onUpdate:modelValue":a[15]||(a[15]=l=>n.value.kode_pos=l),rules:[l=>!l||l?.length==5&&!isNaN(l)||"5 digit angka!"],"error-color":"negative"},null,8,["modelValue","rules"])],64))}};export{Ne as Q,Oe as _,Fe as a,je as b};

import{q as p,c as k,o as b,w as d,g as t,b as N,f as $,bG as M,F as L,D as T,v as K,t as z,e as V,E as D,ae as C,G as A,Q as S,a8 as x,l as q,s as J,J as U,N as j}from"./index-BD0rPuwI.js";import{Q as H}from"./QSpace-5xN-RTD3.js";import{a as O}from"./alamat-store-BVMbspkO.js";import{a as I,Q as R}from"./QTable-24OscB3R.js";import{Q as Z}from"./QTr-rsyRVD3E.js";import{Q as G}from"./QTd-D24X_zEk.js";import{Q as P}from"./QForm-Bxs8j-wD.js";import{A as h}from"./Alamat-DvKt8sTP.js";import{u as Q}from"./useCrudForm-DmdwiqlE.js";import{n as B}from"./index-Bt3cYzg4.js";import"./QList-BEPgv0aR.js";import"./QMarkupTable-DP4P_6d8.js";import"./QSelect-CYTXzFFA.js";import"./QChip-CZ2DfYuE.js";import"./QItemSection-IwpTB_GG.js";import"./QItemLabel-D6C2_kLw.js";import"./QMenu-Bb-0PlhQ.js";import"./selection-D1mjVW1G.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-D6Rd3ynI.js";import"./Api-CkWZCpKy.js";import"./index-n6Dqaau9.js";import"./api-error-DI2-xNds.js";import"./ApiCrud-C6ys5aHm.js";const W={key:0,class:"text-center"},E={__name:"TableAlamat",props:{rows:{type:Array},columns:{type:Array},loading:{type:Boolean,default:()=>!1},noCheckBox:{type:Boolean,default:()=>!1}},setup(v){const r=p([]);return(s,i)=>(b(),k(R,{flat:"",bordered:"",rows:v.rows,columns:v.columns,"row-key":"id",selection:"single",selected:r.value,"onUpdate:selected":i[1]||(i[1]=n=>r.value=n),"rows-per-page-options":[0],"virtual-scroll":"",style:{height:"75vh"},loading:v.loading},{header:d(n=>[t(Z,{props:n},{default:d(()=>[v.noCheckBox?$("",!0):(b(),k(I,{key:0,class:"text-center"},{default:d(()=>[...i[2]||(i[2]=[K("!",-1)])]),_:1})),(b(!0),N(L,null,T(n.cols,o=>(b(),k(I,{key:o.name,props:n},{default:d(()=>[K(z(o.label),1)]),_:2},1032,["props"]))),128)),t(I,{class:"text-center"},{default:d(()=>[...i[3]||(i[3]=[K("!",-1)])]),_:1})]),_:2},1032,["props"])]),body:d(n=>[t(Z,{props:n},{default:d(()=>[v.noCheckBox?$("",!0):(b(),N("td",W,[t(M,{modelValue:n.selected,"onUpdate:modelValue":[o=>n.selected=o,i[0]||(i[0]=o=>s.$emit("onSelect",r.value[0]))],dense:"","checked-icon":"sym_o_check_circle","unchecked-icon":"sym_o_radio_button_unchecked"},null,8,["modelValue","onUpdate:modelValue"])])),(b(!0),N(L,null,T(n.cols,o=>(b(),k(G,{key:o.name,props:n},{default:d(()=>[K(z(o.value),1)]),_:2},1032,["props"]))),128)),t(G,{class:"text-center"},{default:d(()=>[t(V,{icon:"edit",dense:"",color:"green-10",outline:"",onClick:o=>s.$emit("onEdit",n.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","selected","loading"]))}},X={__name:"AlamatProvinsiForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(v,{emit:r}){const s=v,i=r,n=p({...s.data}),o=!s.data?.id,{handleDelete:f,handleCreate:c,handleUpdate:w,loading:_}=Q(h.Provinsi,{emit:i,responseKey:"provinsi"}),g=async a=>{const e=new FormData(a.target),u=Object.fromEntries(e.entries());return o?await c(u,!0):await w(s.data.id,u,!0)},m=async()=>await f(s.data.id);return(a,e)=>{const u=D("FormHeader"),y=D("FormLoading"),F=D("FormActions");return b(),k(q,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[t(P,{onSubmit:C(g,["prevent"])},{default:d(()=>[t(u,{title:"Input Provinsi","is-new":o}),A(_)?(b(),k(y,{key:0})):$("",!0),t(S,null,{default:d(()=>[t(x,{modelValue:n.value.id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.id=l),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Provinsi",rules:[l=>!!l||"Harus diisi!",l=>/^[a-zA-Z0-9]+$/.test(l)||"Harus berisi huruf atau angka!"]},null,8,["modelValue","rules"]),t(x,{modelValue:n.value.provinsi,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.provinsi=l),name:"provinsi",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Provinsi",rules:[l=>!!l||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),t(F,{"btn-delete":!o,onOnDelete:m},null,8,["btn-delete"])]),_:1})]),_:1})}}},Y={__name:"DataProvinsi",setup(v){const r=p([]),s=p(!1),i=p({}),n=p(!1),o=O();async function f(){r.value=[];const m=o.getProvinsi();m?.length>0?r.value=m:await c()}async function c(){try{s.value=!0;const m=await h.Provinsi.getAll();m&&m.provinsi&&(o.setProvinsi(m.provinsi),r.value=o.getProvinsi())}catch{console.log("error get provinsi")}finally{s.value=!1}}function w(){i.value={},n.value=!0}function _(m){i.value=m,n.value=!0}J(async()=>{await f()});const g=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0},{name:"provinsi",align:"left",label:"Provinsi",field:"provinsi",sortable:!0}];return(m,a)=>(b(),k(q,null,{default:d(()=>[t(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:d(()=>[a[2]||(a[2]=K(" Provinsi ",-1)),t(H),t(V,{onClick:c,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),t(V,{onClick:w,icon:"add",round:"",dense:"",flat:""})]),_:1}),t(E,{rows:r.value,columns:g,loading:s.value,onOnSelect:a[0]||(a[0]=e=>m.$emit("onSelect",e)),onOnEdit:_},null,8,["rows","loading"]),t(U,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e)},{default:d(()=>[t(X,{data:i.value,onSuccessDelete:c,onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},ee={__name:"AlamatKabupatenForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(v,{emit:r}){const s=v,i=r,n=p({...s.data}),o=!s.data?.id,{handleDelete:f,handleCreate:c,handleUpdate:w,loading:_}=Q(h.Kabupaten,{emit:i,responseKey:"kabupaten"}),g=async a=>{const e=new FormData(a.target),u=Object.fromEntries(e.entries());return o?await c(u,!0):await w(s.data.id,u,!0)},m=async()=>await f(s.data.id);return(a,e)=>{const u=D("FormHeader"),y=D("FormLoading"),F=D("FormActions");return b(),k(q,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[t(P,{onSubmit:C(g,["prevent"])},{default:d(()=>[t(u,{title:"Input Kabupaten/Kota","is-new":o}),A(_)?(b(),k(y,{key:0})):$("",!0),t(S,null,{default:d(()=>[t(x,{modelValue:n.value.provinsi_id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.provinsi_id=l),name:"provinsi_id",dense:"",class:"",outlined:"",required:"",label:"Kode Provinsi",rules:[l=>!!l||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),t(x,{modelValue:n.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.id=l),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kabupaten/Kota",rules:[l=>!!l||"Harus diisi!",l=>/^[a-zA-Z0-9]+$/.test(l)||"Harus berisi huruf atau angka!"]},null,8,["modelValue","rules"]),t(x,{modelValue:n.value.kabupaten,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.kabupaten=l),name:"kabupaten",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Kabupaten/Kota",rules:[l=>!!l||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),t(F,{"btn-delete":!o,onOnDelete:m},null,8,["btn-delete"])]),_:1})]),_:1})}}},ae={__name:"DataKabupaten",props:{provinsi_id:{type:String,required:!0,default:""}},setup(v){const r=v,s=p([]),i=p(!1),n=p({}),o=p(!1),f=O();async function c(){s.value=[];const{provinsi_id:a}=r;if(a)try{i.value=!0;const e=await h.Kabupaten.getAll({params:{provinsi_id:a}});e&&e.kabupaten&&(f.setKabupaten(e.kabupaten,{provinsi_id:a}),s.value=f.getKabupaten({provinsi_id:a}))}catch{console.log("error get kabupaten")}finally{i.value=!1}}async function w(){s.value=[];const{provinsi_id:a}=r;if(!a)return;const e=f.getKabupaten({provinsi_id:a});e?.length>0?s.value=e:c()}function _(){const{provinsi_id:a}=r;if(!a)return B("Pilih provinsi terlebih dahulu!");n.value={provinsi_id:a},o.value=!0}function g(a){n.value=a,o.value=!0}j(()=>r.provinsi_id,async a=>{await w()});const m=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:a=>`${a.replace(/(\w{2})(\w{2})/,"$1.$2")}`},{name:"kabupaten",align:"left",label:"Kabupaten",field:"kabupaten",sortable:!0}];return(a,e)=>(b(),k(q,null,{default:d(()=>[t(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:d(()=>[e[2]||(e[2]=K(" Kabupaten/Kota ",-1)),t(H),t(V,{onClick:c,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),t(V,{onClick:_,icon:"add",round:"",dense:"",flat:""})]),_:1}),t(E,{rows:s.value,columns:m,loading:i.value,onOnSelect:e[0]||(e[0]=u=>a.$emit("onSelect",u)),onOnEdit:g},null,8,["rows","loading"]),t(U,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=u=>o.value=u)},{default:d(()=>[t(ee,{data:n.value,onSuccessDelete:c,onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},te={__name:"AlamatKecamatanForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(v,{emit:r}){const s=v,i=r,n=p({...s.data}),o=!s.data?.id,{handleDelete:f,handleCreate:c,handleUpdate:w,loading:_}=Q(h.Kecamatan,{emit:i,responseKey:"kecamatan"}),g=async a=>{const e=new FormData(a.target),u=Object.fromEntries(e.entries());return o?await c(u,!0):await w(s.data.id,u,!0)},m=async()=>await f(s.data.id);return(a,e)=>{const u=D("FormHeader"),y=D("FormLoading"),F=D("FormActions");return b(),k(q,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[t(P,{onSubmit:C(g,["prevent"])},{default:d(()=>[t(u,{title:"Input Kecamatan/Distrik","is-new":o}),A(_)?(b(),k(y,{key:0})):$("",!0),t(S,null,{default:d(()=>[t(x,{modelValue:n.value.kabupaten_id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.kabupaten_id=l),name:"kabupaten_id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kabupaten/Kota",rules:[l=>!!l||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),t(x,{modelValue:n.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.id=l),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kecamatan/Distrik",rules:[l=>!!l||"Harus diisi!",l=>/^[a-zA-Z0-9]+$/.test(l)||"Harus berisi huruf atau angka!"]},null,8,["modelValue","rules"]),t(x,{modelValue:n.value.kecamatan,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.kecamatan=l),name:"kecamatan",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Kecamatan/Distrik",rules:[l=>!!l||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),t(F,{"btn-delete":!o,onOnDelete:m},null,8,["btn-delete"])]),_:1})]),_:1})}}},ne={__name:"DataKecamatan",props:{provinsi_id:{type:String,required:!0,default:""},kabupaten_id:{type:String,required:!0,default:""}},setup(v){const r=v,s=p([]),i=p(!1),n=p({}),o=p(!1),f=O();async function c(){s.value=[];const{provinsi_id:a,kabupaten_id:e}=r;if(!(!e||!a))try{i.value=!0;const u=await h.Kecamatan.getAll({params:{kabupaten_id:e}});u&&u.kecamatan&&(f.setKecamatan(u.kecamatan,{provinsi_id:a,kabupaten_id:e}),s.value=f.getKecamatan({provinsi_id:a,kabupaten_id:e}))}catch{console.log("error get kecamatan")}finally{i.value=!1}}async function w(){s.value=[];const{provinsi_id:a,kabupaten_id:e}=r;if(!e||!a)return;const u=f.getKecamatan({provinsi_id:a,kabupaten_id:e});u?.length>0?s.value=u:await c()}function _(){const{kabupaten_id:a}=r;if(!a)return B("Pilih kabupaten terlebih dahulu!");n.value={kabupaten_id:a},o.value=!0}function g(a){n.value=a,o.value=!0}j(()=>r.kabupaten_id,async a=>{await w()});const m=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:a=>`${a.replace(/(\w{2})(\w{2})(\w{2})/,"$1.$2.$3")}`},{name:"kecamatan",align:"left",label:"Kecamatan",field:"kecamatan",sortable:!0}];return(a,e)=>(b(),k(q,null,{default:d(()=>[t(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:d(()=>[e[2]||(e[2]=K(" Kecamatan/Distrik ",-1)),t(H),t(V,{onClick:c,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),t(V,{onClick:_,icon:"add",round:"",dense:"",flat:""})]),_:1}),t(E,{rows:s.value,columns:m,loading:i.value,onOnSelect:e[0]||(e[0]=u=>a.$emit("onSelect",u)),onOnEdit:g},null,8,["rows","loading"]),t(U,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=u=>o.value=u)},{default:d(()=>[t(te,{data:n.value,onSuccessDelete:c,onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},le={__name:"AlamatDesaForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(v,{emit:r}){const s=v,i=r,n=p({...s.data}),o=!s.data?.id,{handleDelete:f,handleCreate:c,handleUpdate:w,loading:_}=Q(h.Desa,{emit:i,responseKey:"desa"}),g=async a=>{const e=new FormData(a.target),u=Object.fromEntries(e.entries());return o?await c(u,!0):await w(s.data.id,u,!0)},m=async()=>await f(s.data.id);return(a,e)=>{const u=D("FormHeader"),y=D("FormLoading"),F=D("FormActions");return b(),k(q,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[t(P,{onSubmit:C(g,["prevent"])},{default:d(()=>[t(u,{title:"Input Desa/Kelurahan","is-new":o}),A(_)?(b(),k(y,{key:0})):$("",!0),t(S,null,{default:d(()=>[t(x,{modelValue:n.value.kecamatan_id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.kecamatan_id=l),name:"kecamatan_id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kecamatan/Distrik",rules:[l=>!!l||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),t(x,{modelValue:n.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.id=l),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Desa/Kelurahan",rules:[l=>!!l||"Harus diisi!",l=>/^[a-zA-Z0-9]+$/.test(l)||"Harus berisi huruf atau angka!"]},null,8,["modelValue","rules"]),t(x,{modelValue:n.value.desa,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.desa=l),name:"desa",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Desa/Kelurahan",rules:[l=>!!l||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),t(F,{"btn-delete":!o,onOnDelete:m},null,8,["btn-delete"])]),_:1})]),_:1})}}},se={__name:"DataDesa",props:{provinsi_id:{type:String,required:!0,default:""},kabupaten_id:{type:String,required:!0,default:""},kecamatan_id:{type:String,required:!0,default:""}},setup(v){const r=v,s=p([]),i=p(!1),n=p({}),o=p(!1),f=O();async function c(){s.value=[];const{provinsi_id:a,kabupaten_id:e,kecamatan_id:u}=r;if(!(!e||!a||!u))try{i.value=!0;const y=await h.Desa.getAll({params:{kecamatan_id:u}});y&&y.desa&&(f.setDesa(y.desa,{provinsi_id:a,kabupaten_id:e,kecamatan_id:u}),s.value=f.getDesa({provinsi_id:a,kabupaten_id:e,kecamatan_id:u}))}catch{console.log("error get desa")}finally{i.value=!1}}async function w(){s.value=[];const{provinsi_id:a,kabupaten_id:e,kecamatan_id:u}=r;if(!e||!a||!u)return;const y=f.getDesa({provinsi_id:a,kabupaten_id:e,kecamatan_id:u});y?.length>0?s.value=y:await c()}function _(){const{kecamatan_id:a}=r;if(!a)return B("Pilih kecamatan terlebih dahulu!");n.value={kecamatan_id:a},o.value=!0}function g(a){n.value=a,o.value=!0}j(()=>r.kecamatan_id,async a=>{await w()});const m=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:a=>`${a.replace(/(\w{2})(\w{2})(\w{2})(\w{4})/,"$1.$2.$3.$4")}`},{name:"desa",align:"left",label:"Desa",field:"desa",sortable:!0}];return(a,e)=>(b(),k(q,null,{default:d(()=>[t(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:d(()=>[e[1]||(e[1]=K(" Desa/Kelurahan ",-1)),t(H),t(V,{onClick:c,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),t(V,{onClick:_,icon:"add",round:"",dense:"",flat:""})]),_:1}),t(E,{rows:s.value,columns:m,loading:i.value,onOnSelect:u=>null,"no-check-box":!0,onOnEdit:g},null,8,["rows","loading"]),t(U,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=u=>o.value=u)},{default:d(()=>[t(le,{data:n.value,onSuccessDelete:c,onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},Ce={__name:"IndexAlamat",setup(v){const r=p(""),s=p(""),i=p("");function n(c){r.value=c?.id??"",s.value="",i.value=""}function o(c){s.value=c?.id??"",i.value=""}function f(c){i.value=c?.id??""}return(c,w)=>{const _=D("CardHeader"),g=D("CardPage");return b(),k(g,null,{default:d(()=>[t(_,{title:"Pengaturan Alamat",showReload:!1}),t(S,{class:"no-padding full-width row no-wrap justify-start items-start content-start scroll"},{default:d(()=>[t(Y,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:n}),t(ae,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:o,provinsi_id:r.value},null,8,["provinsi_id"]),t(ne,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:f,provinsi_id:r.value,kabupaten_id:s.value},null,8,["provinsi_id","kabupaten_id"]),t(se,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},provinsi_id:r.value,kabupaten_id:s.value,kecamatan_id:i.value},null,8,["provinsi_id","kabupaten_id","kecamatan_id"])]),_:1})]),_:1})}}};export{Ce as default};

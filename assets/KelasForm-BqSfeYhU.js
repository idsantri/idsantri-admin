import{A as F,B as u,c as i,o as p,w as r,b as s,ab as q,e as x,C as K,Q as U,a5 as d,x as h}from"./index-DwrbA0R8.js";import{Q as A}from"./QForm-DCEv1Ikv.js";import{_ as Q}from"./InputSelectArray-DFe88pva.js";import{_ as j}from"./InputSelectTingkatPendidikan-QegHHTOV.js";import{A as H}from"./ApiCrud-KwrbSuI8.js";import{u as N}from"./useCrudForm-DF0rM6hG.js";import{_ as D}from"./InputSelectTahunAjaran-AqTIf2if.js";class S extends H{constructor(){super("kelas")}}const $=new S,G={__name:"KelasForm",props:{data:{type:Object,required:!0}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(m,{emit:_}){const t=m,c=_,e=F({...t.data}),n=!t.data?.id,{handleDelete:v,handleCreate:f,handleUpdate:b,loading:k}=N($,{emit:c,responseKey:"kelas"}),V=async()=>{const o={santri_id:e.value.santri_id,th_ajaran_h:e.value.th_ajaran_h,tingkat_id:e.value.tingkat_id,kelas:e.value.kelas,no_absen:e.value.no_absen,keterangan:e.value.keterangan};return n?await f(o,!0):await b(t.data.id,o,!0)},g=async()=>await v(t.data.id);return(o,l)=>{const y=u("FormHeader"),w=u("FormLoading"),C=u("FormActions");return p(),i(h,{class:"full-width",style:{"max-width":"425px"}},{default:r(()=>[s(A,{onSubmit:q(V,["prevent"])},{default:r(()=>[s(y,{title:"Input Kelas","is-new":n}),K(k)?(p(),i(w,{key:0})):x("",!0),s(U,null,{default:r(()=>[s(d,{dense:"",outlined:"",label:"Nama","model-value":e.value?.nama+" ("+e.value?.santri_id+")",disable:"",filled:"",class:"q-my-sm"},null,8,["model-value"]),s(D,{modelValue:e.value.th_ajaran_h,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.th_ajaran_h=a),rules:[a=>!!a||"Harus diisi!"],class:"q-my-sm"},null,8,["modelValue","rules"]),s(j,{modelValue:e.value.tingkat_id,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.tingkat_id=a),class:"q-my-sm",rules:[a=>!!a||"Harus diisi!"]},null,8,["modelValue","rules"]),s(Q,{modelValue:e.value.kelas,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.kelas=a),url:"kelas",label:"Kelas *",rules:[a=>!!a||"Harus diisi!"],class:"q-my-sm"},null,8,["modelValue","rules"]),s(d,{dense:"",class:"q-my-sm",outlined:"",label:"Nomor Absen",modelValue:e.value.no_absen,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.no_absen=a),type:"number"},null,8,["modelValue"]),s(d,{dense:"",class:"q-my-sm",outlined:"",label:"Keterangan",modelValue:e.value.keterangan,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.keterangan=a),autogrow:""},null,8,["modelValue"])]),_:1}),s(C,{"btn-delete":!n,onOnDelete:g},null,8,["btn-delete"])]),_:1})]),_:1})}}};export{G as _};

import{Q as v}from"./QSpace-DJeipgZa.js";import{x as r,R as Q,c as x,o as y,w as s,b as t,s as k,a9 as V,n as c,p as C,f,q,Q as w}from"./index-Bf-p91mW.js";import{Q as S}from"./QSelect-Co09SqkM.js";import{Q as P}from"./QEditor-BF239IiB.js";import{Q as j}from"./QForm-OmDQHoiq.js";import{Q as B}from"./QPage-DbeGPrD5.js";import{a as O}from"./api-get-CiRdORW1.js";import{a as R}from"./api-post-CHcQycZS.js";import{s as T,a as K}from"./format-text-BhuG3ucy.js";import"./QChip-DeZPZCXp.js";import"./QItemSection-Bl4rOme3.js";import"./QItemLabel-sjS6zLD0.js";import"./QMenu-BvL1IfNl.js";import"./selection-CE9S_xiH.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./QBtnDropdown-Br6y2eVM.js";import"./QBtnGroup-BDP931ZD.js";import"./QTooltip-Dxr4-hOy.js";import"./use-fullscreen-CrpeCgX1.js";import"./index-D7WC_quC.js";import"./index-BtaF3-6r.js";import"./api-error-C0HjZ2a3.js";const se={__name:"IndexReport",setup(N){const p=r({}),l=r(!1),m=r([]),i=r(""),n=r("");function b(a){n.value=a?p.value[a]?.footnote:""}async function g(){const a={footnote:n.value};await R({endPoint:`config/reports/${K(i.value)}`,data:a,loading:l})&&await d()}async function d(){const a=await O({endPoint:"config/reports",loading:l});Object.assign(p.value,a.reports);const o=Object.keys(a.reports).map(u=>({label:T(u),value:u}));m.value=o}return Q(async()=>{d()}),(a,e)=>(y(),x(B,{class:"q-pa-sm"},{default:s(()=>[t(k,{style:{"max-width":"600px"}},{default:s(()=>[t(j,{onSubmit:V(g,["prevent"])},{default:s(()=>[t(c,{class:"q-pa-sm bg-green-8 text-green-11 text-subtitle1 flex"},{default:s(()=>[e[3]||(e[3]=C(" Report (Print Out) ",-1)),t(v),t(f,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:e[0]||(e[0]=o=>a.$router.go(-1))})]),_:1}),t(c,{class:"q-pa-sm"},{default:s(()=>[t(S,{modelValue:i.value,"onUpdate:modelValue":[e[1]||(e[1]=o=>i.value=o),b],dense:"",class:"",outlined:"",label:"Report","emit-value":"","map-options":"",options:m.value,loading:l.value,"use-input":"",clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"]),e[4]||(e[4]=q("div",{class:"text-caption q-mt-md"},"Catatan Kaki",-1)),t(P,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=o=>n.value=o),"min-height":"5rem",class:"q-mt-sm","paragraph-tag":"p",toolbar:[["left","center","right","justify"],["bold","italic","underline"],["hr"],["unordered","ordered","outdent","indent"],["undo","redo"]]},null,8,["modelValue"])]),_:1}),t(w,{align:"right",class:"bg-green-7"},{default:s(()=>[t(f,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{se as default};

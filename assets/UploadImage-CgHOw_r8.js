import{Q as _}from"./QImg-Bs0fh872.js";import{a7 as h,a6 as w,A as v,v as d,b as U,f as x,o as Q,w as t,i as e,q as $,z as r,Q as n,k as s,p as S,l as y,t as q}from"./index-BOc7y3E3.js";import{Q as C}from"./QPage-BVhxSLxX.js";import{_ as T}from"./ImageUploader-DU5TThtT.js";import{a as B}from"./index-CHOBZr16.js";import{_ as P}from"./CardHeader-B086-4Fs.js";import{d as D}from"./index-CdkvXyXH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QSpace-CoisEuyS.js";const L={style:{width:"200px"}},N={class:"text-subtitle1"},p="png",M={__name:"UploadImage",setup(R){const{params:m}=h(),c=w();let a=null;switch(m?.image?.toLocaleLowerCase()){case"stempel":a={label:"Stempel Lembaga",url:"stempel"};break;case"tt-pengasuh":a={label:"Tanda Tangan Pengasuh",url:"tt-pengasuh"};break;case"tt-ketua":a={label:"Tanda Tangan Ketua",url:"tt-ketua"};break;case"tt-sekretaris":a={label:"Tanda Tangan Sekretaris",url:"tt-sekretaris"};break;default:D("Halaman tidak ditemukan"),a={label:"Halaman tidak ditemukan",url:"not-found"},c.push("/settings/profile");break}const f=B.defaults.baseURL.replace(v.END_API,"/assets/"),u=d(Date.now()),l=d(!1),b=i=>l.value=i,g=U(()=>`${f}${a.url}.${p}?timestamp=${u.value}`);async function k(){l.value=!1,u.value=Date.now()}return(i,o)=>(Q(),x(C,{class:"q-pa-sm"},{default:t(()=>[e($,{style:{"max-width":"600px"}},{default:t(()=>[e(P,{title:`Upload ${r(a).label}`,showReload:!1,showBack:!0},null,8,["title"]),e(n,{horizontal:""},{default:t(()=>[e(n,{class:"q-pa-sm"},{default:t(()=>[s("div",L,[e(_,{src:g.value,ratio:1,alt:"user","img-style":{border:"1px",borderColor:"green",borderStyle:"solid"}},null,8,["src"]),e(S,{icon:"upload",label:"Upload","no-caps":"",dense:"",outline:"",class:"full-width q-mt-md",onClick:o[0]||(o[0]=z=>l.value=!0)})])]),_:1}),e(y,{vertical:""}),e(n,{class:"q-pa-sm"},{default:t(()=>[s("div",N,q(r(a).label),1),o[1]||(o[1]=s("ul",{class:"text-italic q-mt-sm"},[s("li",null,"Pastikan gambar sudah transparan"),s("li",null,"Gunakan file dengan ekstensi PNG")],-1))]),_:1})]),_:1})]),_:1}),e(T,{"show-uploader":l.value,url:`/config/profiles/upload/${r(a).url}`,width:200,height:200,"img-format":p,onUpdateUploader:b,onSuccessUpload:k},null,8,["show-uploader","url"])]),_:1}))}};export{M as default};

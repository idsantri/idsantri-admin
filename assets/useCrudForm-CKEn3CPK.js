import{q as y}from"./index-BZpYNzr9.js";function D(c,f={}){const{closeButtonId:h="btn-close-form",autoClose:u=!0,responseKey:i=null,emit:s=()=>{}}=f,a=y(!1),o=()=>{const e=document.getElementById(h);e&&e.click()},d=e=>e?i?e[i]:e:null;return{loading:a,handleCreate:async(e,n)=>{try{a.value=!0;const t=await c.create({data:e,confirm:n});if(t){const r=d(t);return u&&o(),s("successSubmit",r),s("successCreate",r),r}}catch(t){throw console.error("Error creating data:",t),t}finally{a.value=!1}},handleUpdate:async(e,n,t)=>{try{a.value=!0;const r=await c.update({id:e,data:n,confirm:t});if(r){const l=d(r);return u&&o(),s("successSubmit",l),s("successUpdate",l),l}}catch(r){throw console.error("Error updating data:",r),r}finally{a.value=!1}},handleDelete:async(e,n)=>{try{a.value=!0;const t=await c.remove({id:e,message:n});if(t)return o(),s("successDelete",e),t}catch(t){throw console.error("Error deleting data:",t),t}finally{a.value=!1}},closeForm:o}}export{D as u};

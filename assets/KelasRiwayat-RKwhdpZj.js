import{Q as w}from"./QSpinnerCube-CRIto8Mg.js";import{x as n,a7 as C,G as q,g as l,o as i,b as t,q as B,w as o,F as V,t as $,c as N,ae as j,z as b,f as c,p as d,v as s,r as z,B as D,s as L}from"./index-Bf-p91mW.js";import{Q as F,a as k}from"./QItemSection-Bl4rOme3.js";import{Q as G}from"./QSpace-DJeipgZa.js";import{Q as f}from"./QItemLabel-sjS6zLD0.js";import{Q as I}from"./QList-51Eu5HNp.js";import{a as K}from"./api-get-CiRdORW1.js";import{_ as R}from"./KelasForm-OmOkgvms.js";import"./index-D7WC_quC.js";import"./index-BtaF3-6r.js";import"./api-error-C0HjZ2a3.js";import"./QForm-OmDQHoiq.js";import"./lists-store-F5P_xNBX.js";import"./lists-data-mcTvx2m2.js";import"./api-post-CHcQycZS.js";import"./api-update-BYe6B3v5.js";import"./api-delete-BVHfd1pG.js";import"./InputSelectArray-Jz4ksDX6.js";import"./QSelect-Co09SqkM.js";import"./QChip-DeZPZCXp.js";import"./QMenu-BvL1IfNl.js";import"./selection-CE9S_xiH.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./DropDownAfter-wYSCUu7Z.js";import"./QBtnDropdown-Br6y2eVM.js";import"./QBtnGroup-BDP931ZD.js";import"./ClosePopup-HTVnKVBl.js";import"./Lists-DSwT9YX9.js";import"./ApiCrud-SVFtkNw7.js";import"./InputSelectTingkatPendidikan-C_EqL8ok.js";const T={key:0},E={key:1,class:"text-italic text-center q-pa-lg"},O={key:2},P={class:"absolute-bottom-right q-ma-sm"},xa={__name:"KelasRiwayat",props:{santri_id:{type:[String,Number]}},setup(_){const x=_,u=n(!1),{params:g}=C(),v=n(!1),y=n({}),m=n([]),p=n({});function h(){y.value={nama:p.value.nama||"",santri_id:p.value.id||""},u.value=!0}async function Q(r){const e=await K({endPoint:`kelas/santri/${r}`,loading:v});e.kelas&&(m.value=e.kelas,p.value=e.santri)}return q(()=>x.santri_id,r=>{r?Q(r):m.value=[]},{immediate:!0}),(r,e)=>(i(),l("div",null,[t(L,{bordered:"",flat:""},{default:o(()=>[v.value?(i(),l("div",T,[t(w,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):m.value?.length?(i(),l("div",O,[(i(!0),l(V,null,$(m.value,(a,S)=>(i(),N(I,{key:S},{default:o(()=>[t(F,{class:j(a.id==b(g).id?"bg-green-1":"")},{default:o(()=>[t(k,{side:""},{default:o(()=>[t(c,{round:"",dense:"",glossy:"",color:"green-6",icon:"play_arrow",to:`/madrasah/kelas/${a.id}/riwayat`,disable:a.id==b(g).id},null,8,["to","disable"])]),_:2},1024),t(k,null,{default:o(()=>[t(f,{overline:"",class:"flex"},{default:o(()=>[d(s(a.th_ajaran_h)+" | "+s(a.th_ajaran_m)+" ",1),t(G),d(" "+s(a.id),1)]),_:2},1024),t(f,null,{default:o(()=>[d(s(a.tingkat)+" â€” "+s(a.kelas)+" "+s(a.no_absen?"("+("0"+a.no_absen).slice(-2)+")":""),1)]),_:2},1024),t(f,{caption:"",class:"text-italic"},{default:o(()=>[d(s(a.keterangan?a.keterangan:"-"),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]),t(z)]),_:2},1024))),128))])):(i(),l("div",E," Tidak ada untuk ditampilkan ")),t(D,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a)},{default:o(()=>[t(R,{data:y.value,onSuccessCreate:e[0]||(e[0]=a=>r.$router.push(`/madrasah/kelas/${a.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}),B("div",P,[t(c,{style:{},icon:"sync",round:"",dense:"",outline:"",color:"green-10",glossy:"",class:"q-mr-sm",onClick:e[2]||(e[2]=a=>Q(_.santri_id))}),t(c,{style:{opacity:"0.8"},icon:"add",round:"",dense:"",color:"green-10",glossy:"",class:"text-green-11",onClick:h})])]))}};export{xa as default};

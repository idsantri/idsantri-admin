import{Q as I}from"./QSpace-e5nOhYJp.js";import{v as p,a7 as R,a6 as B,R as N,f as d,o as r,w as s,i as l,q as T,Q as y,k as t,p as Q,r as m,y as c,j as v,t as f,a9 as g,F as D,s as K,z as L,m as j}from"./index-Cju_WcQt.js";import{Q as z}from"./QSpinnerCube-BbU3LkI7.js";import{Q as A}from"./QImg-CKBOod0X.js";import{Q as i}from"./QItemLabel-97msGuv9.js";import{Q as b,a as _}from"./QItemSection-CL0X_XCy.js";import{Q as E}from"./QList-DJ6I4Xhf.js";import{Q as F}from"./QPage-B1tTC_E4.js";import{a as k}from"./api-get-C-ZFMqL_.js";import{a as q}from"./api-update-Dm-9pXju.js";import{a as G}from"./api-delete-BEmNpbPy.js";import{k as H}from"./format-text-BhuG3ucy.js";import"./index-DgCvXGx8.js";import"./index-pFkrbuLE.js";import"./api-error-BS7WyEhR.js";const M={class:"flex items-center"},J={key:0},O={key:1},W={style:{"max-width":"150px"},class:"q-mx-auto"},X={class:"row"},Y={class:"col-md-6 col-sm-12"},Z={class:"col-md-6 col-sm-12"},h={class:"fit row wrap justify-start items-start content-start"},be={__name:"UserId",setup(ee){const a=p({}),x=p(!1),w=p(!1),{params:U}=R(),C=B();async function V(o,e){a.value.roles[o]=!e;const n={role:o,value:!e};if(!await q({endPoint:`users/${a.value.id}/roles`,data:n,confirm:!1}))return a.value.roles[o]=e}async function P(o){a.value.confirmed_at=!a.value.confirmed_at;const e={confirm:o};if(!await q({endPoint:`users/${a.value.id}/confirm`,data:e,confirm:!1}))return a.value.confirmed_at=!a.value.confirmed_at}async function $(){const o=await k({endPoint:`users/${U.id}`,loading:x});if(a.value=o.user,a.value?.id){const e=await k({endPoint:`images/users/${a.value.id}`,loading:w});a.value.image=e.image_url||"/user-default.png"}}async function S(){await G({endPoint:`users/${a.value.id}`})&&C.go(-1)}return N(async()=>{await $()}),(o,e)=>(r(),d(F,{class:"q-pa-sm"},{default:s(()=>[l(T,{class:"",style:{"max-width":"600px"}},{default:s(()=>[l(y,{class:"bg-green-7 text-green-11 q-pa-sm"},{default:s(()=>[t("div",M,[e[1]||(e[1]=t("div",{class:"text-subtitle2"},"Profil Pengguna",-1)),l(I),l(Q,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:e[0]||(e[0]=n=>o.$router.go(-1))})])]),_:1}),l(y,{class:"q-pa-sm"},{default:s(()=>[x.value?(r(),m("div",J,[l(z,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):(r(),m("div",O,[t("div",null,[t("div",W,[l(A,{src:a.value?a.value.image:"/user-default.png",ratio:1,alt:"user","img-style":{borderRadius:"50%",border:"3px",borderColor:"green",borderStyle:"solid"}},null,8,["src"])])]),l(E,{bordered:"",separator:"",class:"q-mt-sm"},{default:s(()=>[l(b,{class:"q-pa-sm"},{default:s(()=>[l(_,null,{default:s(()=>[l(i,{overline:""},{default:s(()=>[...e[2]||(e[2]=[v("User",-1)])]),_:1}),a.value?(r(),d(i,{key:0},{default:s(()=>[t("table",null,[t("tbody",null,[t("tr",null,[e[3]||(e[3]=t("td",{class:"text-italic text-caption q-pr-sm"}," Nama ",-1)),t("td",null,f(a.value.name),1)]),t("tr",null,[e[4]||(e[4]=t("td",{class:"text-italic text-caption q-pr-sm"}," Email ",-1)),t("td",null,f(a.value.email),1)]),t("tr",null,[e[5]||(e[5]=t("td",{class:"text-italic text-caption q-pr-sm"}," Username ",-1)),t("td",null,f(a.value.username),1)]),t("tr",null,[e[6]||(e[6]=t("td",{class:"text-italic text-caption q-pr-sm"}," Telepon ",-1)),t("td",null,f(a.value.phone||"-"),1)])])])]),_:1})):c("",!0)]),_:1})]),_:1}),l(b,{class:"q-pa-sm"},{default:s(()=>[l(_,null,{default:s(()=>[l(i,{overline:""},{default:s(()=>[...e[7]||(e[7]=[v(" User Status",-1)])]),_:1}),a.value?(r(),d(i,{key:0},{default:s(()=>[t("div",X,[t("div",Y,[l(g,{"model-value":!!a.value.email_verified_at,label:"Verifikasi",disable:"",color:"green"},null,8,["model-value"]),e[8]||(e[8]=t("div",{class:"q-pl-md text-caption"}," Verifikasi akun hanya bisa dilakukan oleh user yang bersangkutan. ",-1))]),t("div",Z,[l(g,{"model-value":!!a.value.confirmed_at,label:"Konfirmasi",color:"green","onUpdate:modelValue":P},null,8,["model-value","onUpdate:modelValue"]),e[9]||(e[9]=t("div",{class:"q-pl-md text-caption"}," Konfimasi bahwa Anda mengenal user ini. ",-1))])])]),_:1})):c("",!0)]),_:1})]),_:1}),l(b,{class:"q-pa-sm"},{default:s(()=>[l(_,null,{default:s(()=>[l(i,{overline:""},{default:s(()=>[...e[10]||(e[10]=[v(" User Group (Role) ",-1)])]),_:1}),a.value?(r(),d(i,{key:0},{default:s(()=>[t("div",h,[(r(!0),m(D,null,K(a.value.roles,(n,u)=>(r(),m("div",{key:u,class:"col-6"},[l(g,{"model-value":n,color:"green",label:L(H)(u),"onUpdate:modelValue":ae=>V(u,n),"true-value":!0,"false-value":!1},null,8,["model-value","label","onUpdate:modelValue"])]))),128))])]),_:1})):c("",!0)]),_:1})]),_:1})]),_:1})]))]),_:1}),l(j,{class:"bg-green-7 q-pa-sm"},{default:s(()=>[l(Q,{label:"Hapus",color:"negative","no-caps":"",onClick:S,disable:!a.value?.id},null,8,["disable"])]),_:1})]),_:1})]),_:1}))}};export{be as default};

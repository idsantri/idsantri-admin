import{Q as q}from"./QSpace-CR7bsMEl.js";import{Q as I}from"./QItemLabel-BCrbjFPh.js";import{Q as T,a as x}from"./QItemSection-CDMonx4a.js";import{v as g,a7 as D,a5 as O,R as $,f as p,o as u,w as a,i as e,q as L,Q as w,k as v,n as P,j as n,_ as U,z as f,r as j,t as S,p as V}from"./index-1h6WQa8x.js";import{Q as J}from"./QList-DG4NG05A.js";import{Q as K}from"./QBtnDropdown-BuGH-2yX.js";import{Q as z}from"./QSkeleton-BA_8lTLb.js";import{Q as d}from"./QTd-BlPrQyD1.js";import{Q as o}from"./QTooltip-BbOK7-KT.js";import{Q as b}from"./QRating-CJ_368Bf.js";import{Q as C}from"./QTr-D2KcGm-_.js";import{Q as M}from"./QTable-gGDItY7R.js";import{Q as R}from"./QPage-B_WVg178.js";import{C as F}from"./ClosePopup-DlITPM1C.js";import{a as A}from"./api-get-BY6mtHh6.js";import{a as H}from"./api-post-C74Y7wCj.js";import{_ as E}from"./FilterKelas-CQcIF6Wt.js";import"./QBtnGroup-GiM85D-N.js";import"./QMenu-C8eKSCkY.js";import"./selection-Bkxc-DqK.js";import"./format-CJebrXOQ.js";import"./QMarkupTable-CljO3Fff.js";import"./QSelect-DyXiAk3o.js";import"./QChip-DJ1cSnO8.js";import"./rtl-DFPa-2ov.js";import"./use-fullscreen-DRV899F_.js";import"./index-CpzetzrR.js";import"./index-_Ec9HkD1.js";import"./api-error-B2Y93K9w.js";import"./QToolbarTitle-DdD-fGk3.js";import"./QToolbar-vKMNabI2.js";import"./lists-madrasah-store-C0k6j_EP.js";import"./api-get-lists-BZgeu587.js";const G=["innerHTML"],W={key:0},X={key:1},Ta={__name:"IndexPage",setup(Y){const Q=g(""),{params:s}=D(),y=g(!1),m=g([{sopan:0,disiplin:0,rapi:0}]),_=O([{}]);async function N(){const i=await A({endPoint:"nilai-ahwal",params:{th_ajaran_h:s.th_ajaran_h,tingkat_id:s.tingkat_id,kelas:s.kelas,ujian_ke:s.ujian_ke},loading:y});m.value=i.ahwal,Object.assign(_,JSON.parse(JSON.stringify(i.ahwal)))}async function k(i,t){await H({endPoint:"nilai-ahwal",data:{kelas_id:t.kelas_id,hal:i,ujian_ke:s.ujian_ke,skor:t[i]}})?Object.assign(_,JSON.parse(JSON.stringify(m.value))):m.value=JSON.parse(JSON.stringify(_))}$(async()=>{s.th_ajaran_h&&s.tingkat_id&&s.kelas&&s.ujian_ke&&await N()});const B=[{name:"no_absen",label:"No",align:"center",field:i=>i.no_absen,format:i=>`${i||""}`,sortable:!0},{name:"kelas_id",label:"ID Kelas",align:"center",field:i=>i.kelas_id,format:i=>`${i}`,sortable:!0},{name:"santri_id",label:"ID Santri",align:"center",field:i=>i.santri_id,sortable:!0},{name:"nama",label:"Nama",align:"left",field:i=>i.nama,sortable:!0},{name:"sopan",label:"Kesopanan",align:"center",field:i=>i.sopan,sortable:!0},{name:"disiplin",label:"Kedisiplinan",align:"center",field:"disiplin",sortable:!0},{name:"rapi",label:"Kerapian",align:"center",field:"rapi",sortable:!0}];return(i,t)=>(u(),p(R,{class:"q-pa-sm"},{default:a(()=>[e(E,{"start-url":"/madrasah/nilai-ahwal",onDataFilter:t[0]||(t[0]=l=>Q.value=l),title:"Filter Data: <span class='text-weight-medium'>Nilai Ahwal (Kepribadian)</span>","show-ujian-ke":!0}),e(L,{class:"q-mt-sm"},{default:a(()=>[e(w,{class:"bg-green-8 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:a(()=>[v("span",{innerHTML:Q.value},null,8,G),e(q),e(K,{outline:"","no-caps":"",class:"text-green-11 q-px-md",size:"",dense:"","dropdown-icon":"more_vert"},{default:a(()=>[e(J,null,{default:a(()=>[P((u(),p(T,{to:"/madrasah/nilai-mapel"},{default:a(()=>[e(x,null,{default:a(()=>[e(I,null,{default:a(()=>[...t[1]||(t[1]=[n("Nilai Mapel",-1)])]),_:1})]),_:1}),e(x,{avatar:""},{default:a(()=>[e(U,{name:"show_chart"})]),_:1})]),_:1})),[[F]])]),_:1})]),_:1})]),_:1}),!f(s).th_ajaran_h||!f(s).tingkat_id||!f(s).kelas||!f(s).ujian_ke?(u(),p(w,{key:0,class:"q-pa-sm"},{default:a(()=>[...t[2]||(t[2]=[v("div",{class:"text-center q-pa-lg text-negative text-italic"}," Tentukan Tahun Ajaran, Tingkat Pendidikan, Kelas, dan Ujian! ",-1)])]),_:1})):(u(),p(w,{key:1,class:"q-pa-sm"},{default:a(()=>[y.value?(u(),j("div",W,[e(z,{type:"text",height:"4rem"})])):(u(),j("div",X,[e(M,{flat:"",rows:m.value,columns:B,"row-key":"kelas_id","rows-per-page-options":[10,25,50,100,0]},{body:a(l=>[e(C,{props:l},{default:a(()=>[e(d,{key:"no_absen",props:l},{default:a(()=>[n(S(l.row.no_absen),1)]),_:2},1032,["props"]),e(d,{key:"kelas_id",props:l},{default:a(()=>[e(V,{outline:"",label:l.row.kelas_id,color:"green-10",dense:"",class:"q-px-md",to:`/madrasah/kelas/${l.row.kelas_id}`},null,8,["label","to"])]),_:2},1032,["props"]),e(d,{key:"santri_id",props:l},{default:a(()=>[e(V,{outline:"",label:l.row.santri_id,color:"green-10",dense:"",class:"q-px-md",to:`/santri/${l.row.santri_id}`},null,8,["label","to"])]),_:2},1032,["props"]),e(d,{key:"nama",props:l},{default:a(()=>[n(S(l.row.nama),1)]),_:2},1032,["props"]),e(d,{key:"sopan",props:l},{default:a(()=>[e(b,{modelValue:l.row.sopan,"onUpdate:modelValue":[r=>l.row.sopan=r,r=>k("sopan",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[3]||(t[3]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[4]||(t[4]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[5]||(t[5]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[6]||(t[6]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[7]||(t[7]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),e(d,{key:"disiplin",props:l},{default:a(()=>[e(b,{modelValue:l.row.disiplin,"onUpdate:modelValue":[r=>l.row.disiplin=r,r=>k("disiplin",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[8]||(t[8]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[9]||(t[9]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[10]||(t[10]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[11]||(t[11]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[12]||(t[12]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),e(d,{key:"rapi",props:l},{default:a(()=>[e(b,{modelValue:l.row.rapi,"onUpdate:modelValue":[r=>l.row.rapi=r,r=>k("rapi",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[13]||(t[13]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[14]||(t[14]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[15]||(t[15]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[16]||(t[16]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[17]||(t[17]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]))]),_:1}))]),_:1})]),_:1}))}};export{Ta as default};

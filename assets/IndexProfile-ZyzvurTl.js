import{x as p,R as Q,c as q,o as g,w as o,b as a,a9 as k,s as u,n as d,p as m,a3 as n,g as S,F as w,t as U,e as P,_ as x,v as c,Q as y,f as T}from"./index-Bf-p91mW.js";import{Q as A}from"./QSpace-DJeipgZa.js";import{Q as C,a as f}from"./QItemSection-Bl4rOme3.js";import{Q as I}from"./QItemLabel-sjS6zLD0.js";import{Q as L}from"./QList-51Eu5HNp.js";import{Q as N}from"./QBtnDropdown-Br6y2eVM.js";import{Q as B}from"./QForm-OmDQHoiq.js";import{Q as D}from"./QPage-DbeGPrD5.js";import{C as O}from"./ClosePopup-HTVnKVBl.js";import{a as F}from"./api-get-CiRdORW1.js";import{a as K}from"./api-post-CHcQycZS.js";import{_ as M}from"./CardHeader-AnL1K4iE.js";import"./QBtnGroup-BDP931ZD.js";import"./QMenu-BvL1IfNl.js";import"./selection-CE9S_xiH.js";import"./index-D7WC_quC.js";import"./index-BtaF3-6r.js";import"./api-error-C0HjZ2a3.js";const ta={__name:"IndexProfile",setup(R){const t=p(!1),s=p({pesantren:[],madrasah:[],alamat:[],personalia:{}});async function r(){const i=await F({endPoint:"config/profiles",loading:t});Object.assign(s.value,i.profiles)}Q(async()=>{await r()});async function v(){const i=JSON.parse(JSON.stringify(s.value));await K({endPoint:"config/profiles",data:i,loading:t})||await r()}const V=[{to:"/settings/profile/upload/stempel",icon:"approval",label:"Stempel"},{to:"/settings/profile/upload/tt-pengasuh",icon:"draw",label:"Tanda Tangan Pengasuh"},{to:"/settings/profile/upload/tt-ketua",icon:"draw",label:"Tanda Tangan Ketua"},{to:"/settings/profile/upload/tt-sekretaris",icon:"draw",label:"Tanda Tangan Sekretaris"}];return(i,l)=>(g(),q(D,{class:"q-pa-sm"},{default:o(()=>[a(B,{onSubmit:k(v,["prevent"])},{default:o(()=>[a(u,{style:{"max-width":"600px"}},{default:o(()=>[a(M,{title:"Profil Lembaga",onOnReload:r}),a(d,{class:"q-pa-sm"},{default:o(()=>[a(u,null,{default:o(()=>[a(d,{class:"q-pa-sm bg-green-1 text-weight-medium"},{default:o(()=>[...l[12]||(l[12]=[m(" Pesantren ",-1)])]),_:1}),a(d,{class:"q-pa-sm"},{default:o(()=>[a(n,{dense:"",class:"",outlined:"",label:"Lembaga",modelValue:s.value.pesantren[0],"onUpdate:modelValue":l[0]||(l[0]=e=>s.value.pesantren[0]=e),loading:t.value},null,8,["modelValue","loading"]),a(n,{dense:"",class:"q-mt-sm",outlined:"",label:"Nama",modelValue:s.value.pesantren[1],"onUpdate:modelValue":l[1]||(l[1]=e=>s.value.pesantren[1]=e),loading:t.value},null,8,["modelValue","loading"]),a(n,{dense:"",class:"q-mt-sm",outlined:"",label:"Akronim/Singkatan",modelValue:s.value.pesantren[2],"onUpdate:modelValue":l[2]||(l[2]=e=>s.value.pesantren[2]=e),loading:t.value},null,8,["modelValue","loading"])]),_:1})]),_:1}),a(u,{class:"q-mt-sm"},{default:o(()=>[a(d,{class:"q-pa-sm bg-green-1"},{default:o(()=>[...l[13]||(l[13]=[m(" Madrasah ",-1)])]),_:1}),a(d,{class:"q-pa-sm"},{default:o(()=>[a(n,{dense:"",class:"",outlined:"",label:"Lembaga",modelValue:s.value.madrasah[0],"onUpdate:modelValue":l[3]||(l[3]=e=>s.value.madrasah[0]=e),loading:t.value},null,8,["modelValue","loading"]),a(n,{dense:"",class:"q-mt-sm",outlined:"",label:"Nama",modelValue:s.value.madrasah[1],"onUpdate:modelValue":l[4]||(l[4]=e=>s.value.madrasah[1]=e),loading:t.value},null,8,["modelValue","loading"]),a(n,{dense:"",class:"q-mt-sm",outlined:"",label:"Akronim/Singkatan",modelValue:s.value.madrasah[2],"onUpdate:modelValue":l[5]||(l[5]=e=>s.value.madrasah[2]=e),loading:t.value},null,8,["modelValue","loading"])]),_:1})]),_:1}),a(u,{class:"q-mt-sm"},{default:o(()=>[a(d,{class:"q-pa-sm bg-green-1"},{default:o(()=>[...l[14]||(l[14]=[m(" Alamat ",-1)])]),_:1}),a(d,{class:"q-pa-sm"},{default:o(()=>[a(n,{dense:"",class:"",outlined:"",label:"Alamat (baris-1)",modelValue:s.value.alamat[0],"onUpdate:modelValue":l[6]||(l[6]=e=>s.value.alamat[0]=e),loading:t.value},null,8,["modelValue","loading"]),a(n,{dense:"",class:"q-mt-sm",outlined:"",label:"Alamat (baris-2)",modelValue:s.value.alamat[1],"onUpdate:modelValue":l[7]||(l[7]=e=>s.value.alamat[1]=e),loading:t.value},null,8,["modelValue","loading"]),a(n,{dense:"",class:"q-mt-sm",outlined:"",label:"Kota (Surat)",modelValue:s.value.alamat[2],"onUpdate:modelValue":l[8]||(l[8]=e=>s.value.alamat[2]=e),loading:t.value},null,8,["modelValue","loading"])]),_:1})]),_:1}),a(u,{class:"q-mt-sm"},{default:o(()=>[a(d,{class:"q-pa-sm bg-green-1 flex"},{default:o(()=>[l[15]||(l[15]=m(" Personalia ",-1)),a(A),a(N,{label:"Upload",outline:"","no-caps":"",icon:"upload"},{default:o(()=>[a(L,null,{default:o(()=>[(g(),S(w,null,U(V,(e,b)=>P(a(C,{key:b,clickable:"",to:e.to},{default:o(()=>[a(f,{avatar:""},{default:o(()=>[a(x,{name:e.icon},null,8,["name"])]),_:2},1024),a(f,null,{default:o(()=>[a(I,null,{default:o(()=>[m(c(e.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]),[[O]])),64))]),_:1})]),_:1})]),_:1}),a(d,{class:"q-pa-sm"},{default:o(()=>[a(n,{dense:"",class:"",outlined:"",label:"Pengasuh",modelValue:s.value.personalia.pengasuh,"onUpdate:modelValue":l[9]||(l[9]=e=>s.value.personalia.pengasuh=e),loading:t.value},null,8,["modelValue","loading"]),a(n,{dense:"",class:"q-mt-sm",outlined:"",label:"Ketua",modelValue:s.value.personalia.ketua,"onUpdate:modelValue":l[10]||(l[10]=e=>s.value.personalia.ketua=e),loading:t.value},null,8,["modelValue","loading"]),a(n,{dense:"",class:"q-mt-sm",outlined:"",label:"Sekretaris",modelValue:s.value.personalia.sekretaris,"onUpdate:modelValue":l[11]||(l[11]=e=>s.value.personalia.sekretaris=e),loading:t.value},null,8,["modelValue","loading"])]),_:1})]),_:1})]),_:1}),a(y,{align:"right",class:"bg-green-7"},{default:o(()=>[a(T,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ta as default};

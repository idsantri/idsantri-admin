import{q as u,ad as v,s as w,b as o,o as i,g as r,G as c,w as l,Q as g,a as t,v as S,t as e,f as A,F as j,D as T,e as h,l as q}from"./index-CWye4qEt.js";import{Q as I}from"./QSkeleton-DLMoGvuq.js";import{Q}from"./QMarkupTable-DScY86sK.js";import{A as b,_ as C}from"./FilterKelas-CqmfZmUI.js";import{t as N}from"./format-text-DnCGEu2I.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QToolbar-Crs-7xKU.js";import"./QSpace-1wK7Letz.js";import"./lists-madrasah-store-B3TXRHTE.js";import"./QSelect-OBW8mv95.js";import"./QField-CLkTaNN-.js";import"./QChip-DGFrlPeh.js";import"./QItem-DjxGL6QP.js";import"./QItemLabel-DIxNYPMO.js";import"./QMenu-CJnqWC7S.js";import"./selection-BsuJAJtW.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./Kelas-BpK0NAWy.js";import"./ApiCrud-Ci_9uIPb.js";import"./Api-BIpJW0ob.js";import"./index-7spX8Hom.js";import"./index-D42nOBhm.js";import"./apiPost-CPSAjzkH.js";import"./AbsensiSetting-CtY5isRH.js";const D={class:"text-subtitle1"},L=["innerHTML"],M={key:0},B={key:1},F={colspan:"50"},R={key:2},V={class:"text-center"},$={class:"text-center"},H={class:"text-center"},z={class:"text-left td-nama"},E={class:"bg-grey-1"},G={class:"bg-grey-1"},K={class:"bg-grey-1"},J={class:"bg-grey-1"},O={class:"bg-green-1"},P={class:"bg-green-1"},W={class:"bg-green-1"},X={class:"bg-green-1"},Y={class:"bg-grey-1"},Z={class:"bg-grey-1"},tt={class:"bg-grey-1"},st={class:"bg-grey-1"},et={class:"bg-green-2"},at={class:"bg-green-2"},nt={class:"bg-green-2"},rt={class:"bg-green-2"},lt={__name:"AbsensiRekapUjian",setup(ot){const _=u(!1),x=v(),{params:a}=x,p=u([]),m=u(""),f=a.absensi?.toLowerCase()==="sekolah"?b.Sekolah:a.absensi?.toLowerCase()==="musyawarah"?b.Musyawarah:null;async function y(){try{_.value=!0;const d=await f.getRekapUjian({th_ajaran_h:a.th_ajaran_h,tingkat_id:a.tingkat_id,kelas:a.kelas});p.value=d["absensi_"+a.absensi]}catch(d){console.error("ðŸš€ ~ getAbsensi ~ error:",d)}finally{_.value=!1}}return w(async()=>{a.th_ajaran_h&&a.tingkat_id&&a.kelas&&await y()}),(d,n)=>(i(),o("div",null,[r(C,{"show-ujian-ke":!1,"start-url":`/madrasah/absensi/rekap-ujian/${c(a).absensi}`,onDataFilter:n[0]||(n[0]=s=>m.value=s)},null,8,["start-url"]),r(q,{class:"q-mt-sm",flat:"",bordered:""},{default:l(()=>[r(g,{class:"bg-green-7 text-green-1 text-subtitle1 q-px-sm q-py-xs"},{default:l(()=>[t("div",D,[n[1]||(n[1]=S(" âž¡ï¸ ",-1)),t("strong",null," Absensi "+e(c(N)(c(a).absensi)),1)])]),_:1}),r(g,{class:"bg-green-3 text-green-10 text-subtitle1 q-pa-sm"},{default:l(()=>[t("div",null,[t("span",{innerHTML:m.value||"Tentukan filter!"},null,8,L)])]),_:1}),r(g,{class:"no-padding"},{default:l(()=>[r(Q,{flat:""},{default:l(()=>[n[3]||(n[3]=t("thead",null,[t("tr",null,[t("th",{rowspan:"2",class:"text-center"},"No."),t("th",{rowspan:"2",class:"text-center"},"ID Santri"),t("th",{rowspan:"2",class:"text-center"},"ID Kelas"),t("th",{rowspan:"2",class:"text-left"},"Nama"),t("th",{colspan:"4",class:"bg-grey-1"},"Ujian-1"),t("th",{colspan:"4",class:"bg-green-1"},"Ujian-2"),t("th",{colspan:"4",class:"bg-grey-1"},"Ujian-3"),t("th",{colspan:"4",class:"bg-green-2"},"Setahun")]),t("tr",null,[t("th",{class:"bg-grey-1"},"S"),t("th",{class:"bg-grey-1"},"I"),t("th",{class:"bg-grey-1"},"A"),t("th",{class:"bg-grey-1"},"T"),t("th",{class:"bg-green-1"},"S"),t("th",{class:"bg-green-1"},"I"),t("th",{class:"bg-green-1"},"A"),t("th",{class:"bg-green-1"},"T"),t("th",{class:"bg-grey-1"},"S"),t("th",{class:"bg-grey-1"},"I"),t("th",{class:"bg-grey-1"},"A"),t("th",{class:"bg-grey-1"},"T"),t("th",{class:"bg-green-2"},"S"),t("th",{class:"bg-green-2"},"I"),t("th",{class:"bg-green-2"},"A"),t("th",{class:"bg-green-2"},"T")])],-1)),!c(a).th_ajaran_h||!c(a).tingkat_id||!c(a).kelas?(i(),o("tbody",M,[...n[2]||(n[2]=[t("tr",null,[t("td",{colspan:"50"},[t("div",{class:"text-center text-negative text-body1 text-italic bg-red-1 q-pa-md"}," Tentukan filter! ")])],-1)])])):A("",!0),_.value?(i(),o("tbody",B,[t("tr",null,[t("td",F,[r(I,{height:"50px"})])])])):(i(),o("tbody",R,[(i(!0),o(j,null,T(p.value,(s,k)=>(i(),o("tr",{key:k},[t("td",V,e(s.no_absen?s.no_absen.toString().padStart(2,0):""),1),t("td",$,[r(h,{flat:"",dense:"","no-caps":"",class:"text-green-10 bg-green-11 q-px-sm",style:{"min-width":"50px"},to:`/santri/${s.santri_id}`},{default:l(()=>[t("small",null,e(s.santri_id),1)]),_:2},1032,["to"])]),t("td",H,[r(h,{flat:"",dense:"","no-caps":"",class:"text-green-10 bg-green-11 q-px-sm",style:{"min-width":"50px"},to:`/madrasah/kelas/${s.kelas_id}`},{default:l(()=>[t("small",null,e(s.kelas_id),1)]),_:2},1032,["to"])]),t("td",z,e(s.nama),1),t("td",E,e(s.u1s),1),t("td",G,e(s.u1i),1),t("td",K,e(s.u1a),1),t("td",J,e(s.u1t),1),t("td",O,e(s.u2s),1),t("td",P,e(s.u2i),1),t("td",W,e(s.u2a),1),t("td",X,e(s.u2t),1),t("td",Y,e(s.u3s),1),t("td",Z,e(s.u3i),1),t("td",tt,e(s.u3a),1),t("td",st,e(s.u3t),1),t("td",et,e(s.sum_s),1),t("td",at,e(s.sum_i),1),t("td",nt,e(s.sum_a),1),t("td",rt,e(s.sum_t),1)]))),128))])),n[4]||(n[4]=t("tfoot",null,null,-1))]),_:1})]),_:1}),r(g,{class:"bg-green-6 text-green-11 text-subtitle1 q-pa-sm flex flex-center"},{default:l(()=>[...n[5]||(n[5]=[t("div",{class:"text-caption text-italic text-center"},"S=Sakit; I=Izin; A=Alpa; T=Terlambat",-1)])]),_:1})]),_:1})]))}},Ut=U(lt,[["__scopeId","data-v-1de1c05e"]]);export{Ut as default};

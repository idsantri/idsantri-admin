import{Q as f}from"./QSelect-CrgZ1FsI.js";import{l as y}from"./lists-store-Cp7AZ7Mr.js";import{_ as g}from"./DropDownAfter-D2Wgui76.js";import{L as v}from"./Lists-g9uME9Wy.js";import{b5 as S,a4 as V,A as c,U as B,c as m,o as d,w as _,e as b}from"./index-DwrbA0R8.js";const x={__name:"InputSelectArray",props:S({url:{type:String,require:!0},sort:{type:String,default:"asc"},btnSetting:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const n=V(t,"modelValue"),o=t,l=c(!1),r=c([]),s=y(),a=o.url.replace(/-/g,"_");B(async()=>{const e=s.getStateByKey_Arr(a,o.sort);e.length?r.value=e:(await u(),r.value=s.getStateByKey_Arr(a,o.sort))});async function u(){try{l.value=!0;const e=await v.getByKey(o.url);s.$patch({[a]:e[a]})}catch(e){console.log("error get list ",e)}finally{l.value=!1}}return(e,i)=>(d(),m(f,{dense:"",outlined:"","emit-value":"","map-options":"",options:r.value,loading:l.value,behavior:"menu",clearable:"",modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=p=>n.value=p)},{after:_(()=>[t.btnSetting?(d(),m(g,{key:0,"route-to":t.url,onReload:u},null,8,["route-to"])):b("",!0)]),_:1},8,["options","loading","modelValue"]))}};export{x as _};

import{a4 as b,x as d,R as v,c as w,o,w as s,b as e,s as _,n as u,p as Q,q as c,g as m,F as q,t as y,bG as C,Q as V,f as B}from"./index-Bf-p91mW.js";import{Q as h}from"./QPage-DbeGPrD5.js";import{a as p}from"./api-get-CiRdORW1.js";import{l as E}from"./loading-store-BlK5tqaZ.js";import{n as P}from"./index-BtaF3-6r.js";import"./index-D7WC_quC.js";import"./api-error-C0HjZ2a3.js";const S={class:"row"},A={__name:"ExportPage",setup(N){const{loadingMain:l}=b(E()),r=d([]),n=d([]);async function f(){const t=await p({endPoint:"status/lists",loading:l});r.value=t.status}v(async()=>{await f()});async function g(){const t=await p({endPoint:"export/santri",loading:l,params:{status:n.value}});if(!t)return;if(!t.url)return P("Url tidak ditemukan");const a=document.createElement("a");a.href=t.url,a.click(),a.remove()}return(t,a)=>(o(),w(h,{class:"q-pa-sm"},{default:s(()=>[e(_,{style:{"max-width":"600px"}},{default:s(()=>[e(u,{class:"bg-green-8 text-green-11 text-subtitle1 q-pa-sm"},{default:s(()=>[...a[1]||(a[1]=[Q(" Ekspor Data Santri ",-1)])]),_:1}),e(u,{class:"q-pa-sm"},{default:s(()=>[a[2]||(a[2]=c("h2",{class:"text-subtitle1 text-italic q-pl-md"}," Tentukan status akhir santri yang ingin didownload ",-1)),c("div",S,[(o(!0),m(q,null,y(r.value,(i,x)=>(o(),m("div",{key:x,class:"col-6"},[e(C,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=k=>n.value=k),val:i,label:i},null,8,["modelValue","val","label"])]))),128))])]),_:1}),e(V,{align:"right",class:"bg-green-6 q-pa-sm"},{default:s(()=>[e(B,{label:"Unduh","no-caps":"",class:"q-px-md",outline:"",color:"green-11",icon:"file_download",onClick:g})]),_:1})]),_:1})]),_:1}))}};export{A as default};

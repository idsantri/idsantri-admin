import{q as u,A as _,s as Q,E as p,c as x,o as V,w as o,g as a,Q as m,l as k,v as w,af as h,a as R,m as q,e as S}from"./index-B_fOp8I2.js";import{Q as O}from"./QSelect-udWnZaoN.js";import{Q as j}from"./QEditor-7D9cuQ8p.js";import{Q as B}from"./QForm-XW60lmKZ.js";import{s as P,a as T}from"./format-text-DnCGEu2I.js";import{C as f}from"./ConfigApp-DKkq3sjy.js";import"./QChip-5TM6hDLU.js";import"./QItem-BIr2qAQs.js";import"./QItemLabel-Dzv1rcUf.js";import"./QMenu-BsVEoqbp.js";import"./selection-CtPAXORa.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./QBtnDropdown-CfBCVMge.js";import"./QBtnGroup-DMJJVPpn.js";import"./QTooltip-BD6X83MT.js";import"./use-fullscreen-B54qEUBN.js";import"./Api-BNo_L0HG.js";import"./index-Bv8s4jzG.js";import"./index-BF457XYG.js";import"./apiPost-TFI76I_W.js";const oe={__name:"IndexReport",setup(A){const l=u({}),r=u(!1),s=u(""),n=u("");function v(e){n.value=e?l.value[e]?.footnote:""}async function g(){try{r.value=!0;const e={footnote:n.value};await f.setReport(e,T(s.value)),l.value[s.value].footnote=n.value}catch(e){console.error("ðŸš€ ~ onSubmit ~ error:",e)}finally{r.value=!1}}async function c(){try{r.value=!0;const e=await f.getReport();l.value=e.reports}catch(e){console.error("ðŸš€ ~ loadData ~ error:",e)}finally{r.value=!1}}const b=_(()=>Object.keys(l.value).map(i=>({label:P(i),value:i})));return Q(async()=>{c()}),(e,t)=>{const i=p("CardHeader"),C=p("CardLoading"),y=p("CardPage");return V(),x(y,null,{default:o(()=>[a(i,{title:"Pengaturan Report (Print Out)",onOnReload:c}),a(m,{class:"q-pa-sm"},{default:o(()=>[a(k,{style:{"max-width":"600px"},flat:"",bordered:""},{default:o(()=>[a(m,{class:"q-pa-sm bg-green-7 text-green-1"},{default:o(()=>[...t[2]||(t[2]=[w(" Input Footnote Report",-1)])]),_:1}),a(B,{onSubmit:h(g,["prevent"])},{default:o(()=>[a(m,{class:"q-pa-sm"},{default:o(()=>[a(O,{modelValue:s.value,"onUpdate:modelValue":[t[0]||(t[0]=d=>s.value=d),v],dense:"",class:"",outlined:"",label:"Report","emit-value":"","map-options":"",options:b.value,loading:r.value,"use-input":"",clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"]),t[3]||(t[3]=R("div",{class:"text-caption q-mt-md"},"Catatan Kaki",-1)),a(j,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=d=>n.value=d),"min-height":"5rem",class:"q-mt-sm","paragraph-tag":"p",toolbar:[["left","center","right","justify"],["bold","italic","underline"],["hr"],["unordered","ordered","outdent","indent"],["undo","redo"]]},null,8,["modelValue"])]),_:1}),a(q,{align:"right",class:"bg-green-7"},{default:o(()=>[a(S,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1}),a(C,{showing:r.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{oe as default};

import{Q as h}from"./QImg--g9yT0uK.js";import{a9 as w,a8 as v,D as x,A as d,q as C,B as U,c as Q,o as S,w as t,b as e,x as $,C as r,Q as n,a as s,g as y,v as q,z as B}from"./index-DwrbA0R8.js";import{Q as T}from"./QPage-BU8r9xHl.js";import{_ as D}from"./ImageUploader-DWxxELTC.js";import{a as P}from"./index-B6LiMDVO.js";import{d as H}from"./index-BlZcD66n.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={style:{width:"200px"}},N={class:"text-subtitle1"},p="png",J={__name:"UploadImage",setup(R){const{params:c}=w(),m=v();let a=null;switch(c?.image?.toLocaleLowerCase()){case"stempel":a={label:"Stempel Lembaga",url:"stempel"};break;case"tt-pengasuh":a={label:"Tanda Tangan Pengasuh",url:"tt-pengasuh"};break;case"tt-ketua":a={label:"Tanda Tangan Ketua",url:"tt-ketua"};break;case"tt-sekretaris":a={label:"Tanda Tangan Sekretaris",url:"tt-sekretaris"};break;default:H("Halaman tidak ditemukan"),a={label:"Halaman tidak ditemukan",url:"not-found"},m.push("/settings/profile");break}const f=P.defaults.baseURL.replace(x.END_API,"/assets/"),u=d(Date.now()),l=d(!1),g=i=>l.value=i,b=C(()=>`${f}${a.url}.${p}?timestamp=${u.value}`);async function k(){l.value=!1,u.value=Date.now()}return(i,o)=>{const _=U("CardHeader");return S(),Q(T,{class:"q-pa-sm"},{default:t(()=>[e($,{style:{"max-width":"600px"}},{default:t(()=>[e(_,{title:`Upload ${r(a).label}`,showReload:!1,showBack:!0},null,8,["title"]),e(n,{horizontal:""},{default:t(()=>[e(n,{class:"q-pa-sm"},{default:t(()=>[s("div",L,[e(h,{src:b.value,ratio:1,alt:"user","img-style":{border:"1px",borderColor:"green",borderStyle:"solid"}},null,8,["src"]),e(y,{icon:"upload",label:"Upload","no-caps":"",dense:"",outline:"",class:"full-width q-mt-md",onClick:o[0]||(o[0]=z=>l.value=!0)})])]),_:1}),e(q,{vertical:""}),e(n,{class:"q-pa-sm"},{default:t(()=>[s("div",N,B(r(a).label),1),o[1]||(o[1]=s("ul",{class:"text-italic q-mt-sm"},[s("li",null,"Pastikan gambar sudah transparan"),s("li",null,"Gunakan file dengan ekstensi PNG")],-1))]),_:1})]),_:1})]),_:1}),e(D,{"show-uploader":l.value,url:`/config/profiles/upload/${r(a).url}`,width:200,height:200,"img-format":p,onUpdateUploader:g,onSuccessUpload:k},null,8,["show-uploader","url"])]),_:1})}}};export{J as default};

import{Q as U}from"./QSpace-KzQMWHZt.js";import{q as k,E as D,c as m,o as c,w as l,g as t,ae as N,f as _,G as f,Q as q,a8 as E,l as A,v as w,t as b,e as C,ac as O,s as J,b as B,J as K}from"./index-FlJm5x9Y.js";import{Q as H}from"./QForm-C6qJDVDC.js";import{k as j}from"./format-text-DnCGEu2I.js";import{L as F}from"./Lists-CQoXpyW_.js";import{u as G}from"./useCrudForm-CBkk1Yl0.js";import{Q as v}from"./QTd-B1yx8bcI.js";import{Q as T}from"./QTr-B9SPpCZE.js";import{Q as I}from"./QTable-bwA_lwpk.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as M}from"./lists-store-YqjZcZdz.js";import"./ApiCrud-DNsr8hCV.js";import"./Api-BAtX-Yl2.js";import"./index-C2kK86wh.js";import"./index-DQ6FBOo_.js";import"./api-error-Bzz-X3Hz.js";import"./QList-Dcg8ef0O.js";import"./QMarkupTable-BsWt6TUx.js";import"./QSelect-CT6LGHVZ.js";import"./QChip-BRisEBxx.js";import"./QItem-DpLjSmAj.js";import"./QItemLabel-C84jr6p3.js";import"./QMenu-BFjvccLP.js";import"./selection-DAgYgrjx.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-B2NWqo-h.js";import"./ArrayCrud-CkcA-ixF.js";const R={__name:"ListsForm",props:{data:{type:Object,required:!0},showInput:{type:Object,required:!0}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(d,{emit:u}){const i=d,s=u,o=k({...i.data}),a=!i.data?.id,{handleDelete:y,handleCreate:e,handleUpdate:Q,loading:n}=G(F,{emit:s,responseKey:"list"});async function h(){const g=JSON.parse(JSON.stringify(o.value));return delete g.id,a?await e(g,!0):await Q(i.data.id,g,!0)}async function L(){return await y(i.data.id)}return(g,p)=>{const r=D("FormHeader"),x=D("FormLoading"),V=D("FormActions");return c(),m(A,{class:"full-width",style:{"max-width":"425px"}},{default:l(()=>[t(H,{onSubmit:N(h,["prevent"])},{default:l(()=>[t(r,{title:"Input List "+f(j)(d.data?.key||""),"is-new":a},null,8,["title"]),f(n)?(c(),m(x,{key:0})):_("",!0),t(q,{class:"q-pa-sm"},{default:l(()=>[d.showInput.val0?(c(),m(E,{key:0,label:"text1",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val0,"onUpdate:modelValue":p[0]||(p[0]=S=>o.value.val0=S),autogrow:"",loading:f(n)},null,8,["modelValue","loading"])):_("",!0),d.showInput.val1?(c(),m(E,{key:1,label:"text2",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val1,"onUpdate:modelValue":p[1]||(p[1]=S=>o.value.val1=S),autogrow:"",loading:f(n)},null,8,["modelValue","loading"])):_("",!0),d.showInput.val2?(c(),m(E,{key:2,label:"text3",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val2,"onUpdate:modelValue":p[2]||(p[2]=S=>o.value.val2=S),autogrow:"",loading:f(n)},null,8,["modelValue","loading"])):_("",!0)]),_:1}),t(V,{"btn-delete":!a,onOnDelete:L},null,8,["btn-delete"])]),_:1})]),_:1})}}},z={__name:"ListsStyleSingle",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(d,{emit:u}){const i=u,s=d,o=[{name:"val0",label:"Lists",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,y)=>(c(),m(I,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(T,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[w(b(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(C,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>i("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},P=$(z,[["__scopeId","data-v-439992d8"]]),W={__name:"ListsStyleDouble",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(d,{emit:u}){const i=u,s=d,o=[{name:"val0",label:"Text 1",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"val1",label:"Text 2",align:"left",field:a=>`${a.val1}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,y)=>(c(),m(I,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(T,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[w(b(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val1"},{default:l(()=>[w(b(e.row.val1),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(C,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>i("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},X=$(W,[["__scopeId","data-v-0913ab4d"]]),Y={__name:"ListsStyleTriple",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(d,{emit:u}){const i=u,s=d,o=[{name:"val0",label:"Text 1",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"val1",label:"Text 2",align:"left",field:a=>`${a.val1}`,sortable:!0},{name:"val2",label:"Text 3",align:"left",field:a=>`${a.val2}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,y)=>(c(),m(I,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(T,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[w(b(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val1"},{default:l(()=>[w(b(e.row.val1),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val2"},{default:l(()=>[w(b(e.row.val2),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(C,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>i("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},Z=$(Y,[["__scopeId","data-v-1e70939d"]]),ee={key:2},De={__name:"ListsByKey",setup(d){const u=k(!1),{params:i}=O(),s=k(!1),o=k([]),a=k({}),y=k({}),e=M(),{listData:Q}=e;J(async()=>{await h()});const n=Q.find(({url:r})=>r==i.listKey);async function h(){try{s.value=!0;const r=await F.getByKey(n.url);o.value=r[n.key],e.checkState(n.key)&&e.$patch({[n.key]:r[n.key]})}catch(r){console.log("error get list ",r)}finally{s.value=!1}}function L(){if(n.column==1)return{val0:!0,val1:!1,val2:!1};if(n.column==2)return{val0:!0,val1:!0,val2:!1};if(n.column==3)return{val0:!0,val1:!0,val2:!0}}function g(){y.value=L(),a.value={},a.value.key=i.listKey,u.value=!0}function p(r){y.value=L(),a.value=JSON.parse(JSON.stringify(r)),u.value=!0}return(r,x)=>(c(),B("div",null,[t(q,{class:"bg-green-7 text-green-11 text-subtitle1 q-pa-sm flex flex-center"},{default:l(()=>[w(b(f(n)?.label||"List")+" ",1),t(U),t(C,{icon:"add",label:"Baru","no-caps":"",dense:"",class:"q-px-md",outline:"",onClick:g})]),_:1}),t(q,{class:"q-pa-sm"},{default:l(()=>[f(n).style=="single"?(c(),m(P,{key:0,data:o.value,loading:s.value,onHandleEdit:p},null,8,["data","loading"])):_("",!0),f(n).style=="double"?(c(),m(X,{key:1,data:o.value,loading:s.value,onHandleEdit:p},null,8,["data","loading"])):_("",!0),f(n).style=="triple"?(c(),B("div",ee,[t(Z,{data:o.value,onUpdateList:r.handleUpdate,onDeleteList:r.handleDelete,onAddList:g},null,8,["data","onUpdateList","onDeleteList"])])):_("",!0)]),_:1}),t(K,{modelValue:u.value,"onUpdate:modelValue":x[0]||(x[0]=V=>u.value=V)},{default:l(()=>[t(R,{data:a.value,"show-input":y.value,onSuccessDelete:h,onSuccessSubmit:h},null,8,["data","show-input"])]),_:1},8,["modelValue"])]))}};export{De as default};

import{ae as w,ad as $,aa as h,q as m,A as q,s as x,E as d,c as W,o as y,w as s,g as l,e as c,Q as D,a as r}from"./index-D90ocF1D.js";import{f as B}from"./format-date-OVhbBx9F.js";import{_ as I}from"./CardSantriLists-OJQMl2jm.js";import{w as o}from"./wali-store-UTb-kzhf.js";import{f as A}from"./format-text-DnCGEu2I.js";import{d as N}from"./dialog-store-6IS35KtN.js";import{W as R}from"./Wali-D8oFKptO.js";import{C as S}from"./CardListTabel-5_F1MVRW.js";import"./id-BuNGTsqN.js";import"./QSpace-Bnj7tHdw.js";import"./QImg-DexeeIpr.js";import"./QItem-D68KFekb.js";import"./QItemLabel-B1ScV3U0.js";import"./QList-DEOYyLCD.js";import"./ApiCrud-DtzlNG9K.js";import"./Api-BPweku69.js";import"./index-Be_dPAgR.js";import"./index-Bi0oEnE7.js";import"./api-error-CAe2zLvt.js";import"./QMarkupTable-BpASZURf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"row",style:{"max-width":"1024px"}},E={class:"col-12 col-md-6 q-pa-sm"},K={class:"col-12 col-md-6 q-pa-sm"},na={__name:"WaliDetail",setup(P){const{wali:a}=w(o()),p=$().params.id,v=N(),{searchWali:f,crudWali:_}=h(v),i=m([]),t=m(!1);async function n(){o().$reset();try{t.value=!0;const e=await R.getById({id:p});e&&(o().setWali(e.wali),i.value=a.value.santri)}catch{}finally{t.value=!1}}const g=q(()=>[{label:"ID",value:a.value.id},{label:"Nama",value:`${a.value?.nama||""} (${a.value?.sex?.toUpperCase()??""})`},{label:"NIK",value:a.value?.nik||"-"},{label:"Alamat",value:A(a.value.jl,a.value.rt,a.value.rw,a.value.desa,a.value.kecamatan,a.value.kabupaten,a.value.provinsi,a.value.kode_pos)},{label:"Kelahiran",value:`${a.value?.tmp_lahir||""}, ${B(a.value?.tgl_lahir)}`},{label:"Pekerjaan",value:a.value?.pekerjaan||"-"},{label:"Kontak",value:`${a.value?.telepon||""}; ${a.value?.email||""}`}]);x(async()=>{await n()});function b(){o().setEdit(),_.value=!0}return(e,u)=>{const k=d("CardHeader"),C=d("CardPage");return y(),W(C,null,{default:s(()=>[l(k,{title:"Data Wali",onOnReload:n},{buttons:s(()=>[l(c,{label:e.$q.screen.lt.sm?"":"Cari",onClick:u[0]||(u[0]=H=>f.value=!0),color:"green-2","no-caps":"",dense:"",class:"q-px-sm text-green-10",icon:"search"},null,8,["label"]),l(c,{"no-caps":"",color:"green-2",dense:"",class:"q-px-sm text-green-10",icon:"edit",label:e.$q.screen.lt.sm?"":"Edit",onClick:b},null,8,["label"])]),_:1}),l(D,{class:"no-padding"},{default:s(()=>[r("div",j,[r("div",E,[l(S,{data:g.value,loading:t.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"])]),r("div",K,[l(I,{data:i.value,loading:t.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})}}};export{na as default};

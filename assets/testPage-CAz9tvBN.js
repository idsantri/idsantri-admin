import{v as p,f,o as d,w as i,r as g,y as w,i as c,k as v,p as l,j as u,t as B}from"./index-1h6WQa8x.js";import{Q as $}from"./QPage-B_WVg178.js";import{c as o}from"./index-_Ec9HkD1.js";import{a as A}from"./api-error-B2Y93K9w.js";import{a as k}from"./index-CpzetzrR.js";class h{constructor(a){this.path=a,this.api=k}handleError(a){return A(a),!1}async getAll(a={},t=!0){try{const{data:r}=await this.api.get(this.path,{params:{...a}});return t&&t(r.message),r||!0}catch(r){return this.handleError(r)}}async getById(a,t={}){try{const{data:r}=await this.api.get(`${this.path}/${a}`,{params:{...t}});return o(r.message),r||!0}catch(r){return this.handleError(r)}}async create(a){try{const{data:t}=await this.api.post(this.path,a);return o(t.message),t||!0}catch(t){return this.handleError(t)}}async update(a,t){try{const{data:r}=await this.api.put(`${this.path}/${a}`,t);return o(r.message),r||!0}catch(r){return this.handleError(r)}}async remove(a,t={}){try{const{data:r}=await this.api.delete(`${this.path}/${a}`,{params:{...t}});return o(r.message),r||!0}catch(r){return this.handleError(r)}}}class E extends h{constructor(){super("santri")}}const _=new E;class x extends h{constructor(){super("alamat")}async searchByParams(a={}){return this.getAll(a,!1)}async searchKabKota(a){try{const{data:t}=await this.api.get(`${this.path}/kabupaten-kota`,{params:{...a}});return t||!0}catch(t){return this.handleError(t)}}}const C=new x;class K extends h{constructor(){super("lists")}async getByKey(a){try{const{data:t}=await this.api.get(`${this.path}/${a}`);return t||!0}catch(t){return this.handleError(t)}}}const N=new K,P={key:0},L={__name:"testPage",setup(n){const a=p([]),t=p(!1),r=async()=>{try{a.value=[],t.value=!0;const{data:e}=await _.getById(8e3);a.value=e.santri}catch{}finally{t.value=!1}},y=async()=>{try{t.value=!0;const{data:e}=await N.getByKey("tahun-ajaran");console.log(e)}finally{t.value=!1}},m=async()=>{try{t.value=!0;const{data:e}=await C.searchByParams({provinsi:"jawa timur"});console.log(e)}finally{t.value=!1}};return(e,s)=>(d(),f($,null,{default:i(()=>[t.value?(d(),g("h1",P,"loading ...")):w("",!0),c(l,{onClick:r},{default:i(()=>[...s[0]||(s[0]=[u("Fetch by id",-1)])]),_:1}),v("pre",null,B(a.value),1),c(l,{onClick:m},{default:i(()=>[...s[1]||(s[1]=[u("Test",-1)])]),_:1}),c(l,{onClick:y},{default:i(()=>[...s[2]||(s[2]=[u("Test",-1)])]),_:1})]),_:1}))}};export{L as default};

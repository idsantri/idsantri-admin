import{q as i,ad as S,N as V,E as B,b as d,o as n,g as t,a as K,w as o,F as L,D as N,c as $,aj as j,G as b,e as f,v as m,t as r,C as q,J as D,l as E}from"./index-CTu7YwFB.js";import{Q as F,a as h}from"./QItem-D_Mc3Ybi.js";import{Q as I}from"./QSpace-Cc9seJp2.js";import{Q as g}from"./QItemLabel-zF37nF6N.js";import{Q as R}from"./QList-_ILsuiZc.js";import{_ as T}from"./KelasForm-DZr3Zi3X.js";import{K as z}from"./Kelas-nzJLl1rD.js";import"./QForm-DGv33nDR.js";import"./InputSelectArray-Dv-nphZN.js";import"./QSelect-JvTQ0dvX.js";import"./QField-Db_0jma7.js";import"./QChip-B5x4J8Y2.js";import"./QMenu-HlOjAWfh.js";import"./selection-ZKB3auoy.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./lists-store-DY_hdMzq.js";import"./ArrayCrud-CByp4EUn.js";import"./DropDownAfter-DZmFO5Z3.js";import"./QBtnDropdown-DMgfvhIV.js";import"./QBtnGroup-DPYfRKFR.js";import"./ClosePopup-KfgrvnEa.js";import"./Lists-68EabQzR.js";import"./ApiCrud-CA5HHKOk.js";import"./Api-D1K9Gq0l.js";import"./index-C1IRoDfZ.js";import"./index-BkhcIjqz.js";import"./apiPost-DSA7pR-q.js";import"./InputSelectTingkatPendidikan-D8HyVUCs.js";import"./useCrudForm-D-BaDYxs.js";import"./InputSelectTahunAjaran-DHJY1yH_.js";const G={key:0,class:"text-italic text-center q-pa-lg"},J={key:1},O={class:"absolute-bottom-right q-ma-sm"},Ca={__name:"KelasRiwayat",props:{santri_id:{type:[String,Number]}},setup(_){const C=_,u=i(!1),{params:v}=S(),c=i(!1),y=i({}),l=i([]),p=i({});function k(){y.value={nama:p.value.nama||"",santri_id:p.value.id||""},u.value=!0}async function Q(s){try{c.value=!0;const e=await z.santri(s);l.value=e.kelas,p.value=e.santri}catch(e){console.error("ðŸš€ ~ getKelas ~ error:",e)}finally{c.value=!1}}return V(()=>C.santri_id,s=>{s?Q(s):l.value=[]},{immediate:!0}),(s,e)=>{const w=B("CardLoading");return n(),d("div",null,[t(E,{bordered:"",flat:""},{default:o(()=>[l.value?.length?(n(),d("div",J,[(n(!0),d(L,null,N(l.value,(a,x)=>(n(),$(R,{key:x},{default:o(()=>[t(F,{class:j(a.id==b(v).id?"bg-green-1":"")},{default:o(()=>[t(h,{side:""},{default:o(()=>[t(f,{outline:"",round:"",dense:"",glossy:"",color:"green-6",icon:"info",to:`/madrasah/kelas/${a.id}/riwayat`,disable:a.id==b(v).id},null,8,["to","disable"])]),_:2},1024),t(h,null,{default:o(()=>[t(g,{overline:"",class:"flex"},{default:o(()=>[m(r(a.th_ajaran_h)+" | "+r(a.th_ajaran_m)+" ",1),t(I),m(" "+r(a.id),1)]),_:2},1024),t(g,null,{default:o(()=>[m(r(a.tingkat)+" â€” "+r(a.kelas)+" "+r(a.no_absen?"("+("0"+a.no_absen).slice(-2)+")":""),1)]),_:2},1024),t(g,{caption:"",class:"text-italic"},{default:o(()=>[m(r(a.keterangan?a.keterangan:"-"),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]),t(q)]),_:2},1024))),128))])):(n(),d("div",G,"Tidak ada untuk ditampilkan")),t(w,{showing:c.value},null,8,["showing"]),t(D,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a)},{default:o(()=>[t(T,{data:y.value,onSuccessCreate:e[0]||(e[0]=a=>s.$router.push(`/madrasah/kelas/${a.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}),K("div",O,[t(f,{style:{},icon:"sync",round:"",dense:"",outline:"",color:"green-10",glossy:"",class:"q-mr-sm",onClick:e[2]||(e[2]=a=>Q(_.santri_id))}),t(f,{style:{opacity:"0.8"},icon:"add",round:"",dense:"",color:"green-10",glossy:"",class:"text-green-11",onClick:k})])])}}};export{Ca as default};

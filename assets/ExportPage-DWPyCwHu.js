import{q as r,s as b,E as i,c as x,o as d,w as l,g as a,Q as p,l as y,a as m,b as g,F as k,D as q,bL as D,m as Q,e as B}from"./index-DM_jncYt.js";import{S}from"./Status-DmKq0qnJ.js";import{D as V}from"./DownloadUrl-CnGTYkGj.js";import"./ApiCrud-CFKNXvgl.js";import"./Api-BiHTUPZy.js";import"./index-BpLO8DFE.js";import"./index-DvSXiYm3.js";import"./apiPost-k9GJBscs.js";const E={class:"row"},R={__name:"ExportPage",setup(L){const n=r([]),s=r([]),e=r(!1);async function u(){try{n.value=[],e.value=!0;const t=await S.lists();n.value=t.status}catch{console.log("error get list status")}finally{e.value=!1}}b(async()=>{await u()});async function f(){try{e.value=!0,await V.santri({status:s.value})}catch(t){console.error("ðŸš€ ~ onDownload ~ e:",t)}finally{e.value=!1}}return(t,o)=>{const v=i("CardHeader"),_=i("CardLoading"),w=i("CardPage");return d(),x(w,null,{default:l(()=>[a(v,{title:"Ekspor Data Santri",onOnReload:u}),a(p,{class:"q-pa-sm"},{default:l(()=>[a(y,{flat:"",bordered:"",class:"relative-position",style:{"max-width":"600px"}},{default:l(()=>[a(p,{class:"q-pa-sm",style:{"min-height":"200px"}},{default:l(()=>[o[1]||(o[1]=m("h2",{class:"text-subtitle1 text-italic q-pl-md"}," Tentukan status akhir santri yang ingin didownload ",-1)),m("div",E,[(d(!0),g(k,null,q(n.value,(c,C)=>(d(),g("div",{key:C,class:"col-6"},[a(D,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=h=>s.value=h),val:c,label:c},null,8,["modelValue","val","label"])]))),128))])]),_:1}),a(Q,{align:"right",class:"bg-green-6 q-pa-sm"},{default:l(()=>[a(B,{disable:!s.value.length||e.value,label:"Unduh","no-caps":"",class:"q-px-md",outline:"",color:"green-11",icon:"file_download",onClick:f},null,8,["disable"])]),_:1}),a(_,{showing:e.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})}}};export{R as default};

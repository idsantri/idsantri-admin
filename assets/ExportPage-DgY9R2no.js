import{a6 as b,A as d,U as v,c as w,o,w as s,b as e,x as _,Q as u,t as y,a as c,f as m,F as Q,y as q,bG as C,k as V,g as B}from"./index-DwrbA0R8.js";import{Q as h}from"./QPage-BU8r9xHl.js";import{a as p}from"./api-get-D4W4lze7.js";import{l as E}from"./loading-store-DcVNMmYX.js";import{n as P}from"./index-BlZcD66n.js";import"./index-B6LiMDVO.js";import"./api-error-DGWaEiw1.js";const S={class:"row"},L={__name:"ExportPage",setup(U){const{loadingMain:l}=b(E()),r=d([]),n=d([]);async function f(){const t=await p({endPoint:"status/lists",loading:l});r.value=t.status}v(async()=>{await f()});async function g(){const t=await p({endPoint:"export/santri",loading:l,params:{status:n.value}});if(!t)return;if(!t.url)return P("Url tidak ditemukan");const a=document.createElement("a");a.href=t.url,a.click(),a.remove()}return(t,a)=>(o(),w(h,{class:"q-pa-sm"},{default:s(()=>[e(_,{style:{"max-width":"600px"}},{default:s(()=>[e(u,{class:"bg-green-8 text-green-11 text-subtitle1 q-pa-sm"},{default:s(()=>[...a[1]||(a[1]=[y(" Ekspor Data Santri ",-1)])]),_:1}),e(u,{class:"q-pa-sm"},{default:s(()=>[a[2]||(a[2]=c("h2",{class:"text-subtitle1 text-italic q-pl-md"}," Tentukan status akhir santri yang ingin didownload ",-1)),c("div",S,[(o(!0),m(Q,null,q(r.value,(i,x)=>(o(),m("div",{key:x,class:"col-6"},[e(C,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=k=>n.value=k),val:i,label:i},null,8,["modelValue","val","label"])]))),128))])]),_:1}),e(V,{align:"right",class:"bg-green-6 q-pa-sm"},{default:s(()=>[e(B,{label:"Unduh","no-caps":"",class:"q-px-md",outline:"",color:"green-11",icon:"file_download",onClick:g})]),_:1})]),_:1})]),_:1}))}};export{L as default};

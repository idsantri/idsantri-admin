import{Q as v}from"./QSpace-CoisEuyS.js";import{v as r,R as Q,f as x,o as y,w as s,i as t,q as k,a8 as V,Q as c,j as C,p as f,k as q,m as w}from"./index-BOc7y3E3.js";import{Q as S}from"./QSelect-Br9kkI5Z.js";import{Q as j}from"./QEditor-DoUsKkGz.js";import{Q as P}from"./QForm-CxO-I-hC.js";import{Q as B}from"./QPage-BVhxSLxX.js";import{a as O}from"./api-get-DUTCLQ7F.js";import{a as R}from"./api-post-CPwNAYjq.js";import{s as T,a as K}from"./format-text-BhuG3ucy.js";import"./QChip-DferuxmN.js";import"./QItemSection-U4VUPMG0.js";import"./QItemLabel-CrvmL7Ku.js";import"./QMenu-iXJrGXAP.js";import"./selection-CUoFkLvB.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./QBtnDropdown-BmLRcAl8.js";import"./QBtnGroup-CNPGzkQV.js";import"./QTooltip-CwsDJGfs.js";import"./use-fullscreen-DZQzNGwS.js";import"./index-CHOBZr16.js";import"./index-CdkvXyXH.js";import"./api-error-CtGrtfSx.js";const se={__name:"IndexReport",setup(N){const p=r({}),i=r(!1),m=r([]),l=r(""),n=r("");function g(a){n.value=a?p.value[a]?.footnote:""}async function b(){const a={footnote:n.value};await R({endPoint:`config/reports/${K(l.value)}`,data:a,loading:i})&&await d()}async function d(){const a=await O({endPoint:"config/reports",loading:i});Object.assign(p.value,a.reports);const o=Object.keys(a.reports).map(u=>({label:T(u),value:u}));m.value=o}return Q(async()=>{d()}),(a,e)=>(y(),x(B,{class:"q-pa-sm"},{default:s(()=>[t(k,{style:{"max-width":"600px"}},{default:s(()=>[t(P,{onSubmit:V(b,["prevent"])},{default:s(()=>[t(c,{class:"q-pa-sm bg-green-8 text-green-11 text-subtitle1 flex"},{default:s(()=>[e[3]||(e[3]=C(" Report (Print Out) ",-1)),t(v),t(f,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:e[0]||(e[0]=o=>a.$router.go(-1))})]),_:1}),t(c,{class:"q-pa-sm"},{default:s(()=>[t(S,{modelValue:l.value,"onUpdate:modelValue":[e[1]||(e[1]=o=>l.value=o),g],dense:"",class:"",outlined:"",label:"Report","emit-value":"","map-options":"",options:m.value,loading:i.value,"use-input":"",clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"]),e[4]||(e[4]=q("div",{class:"text-caption q-mt-md"},"Catatan Kaki",-1)),t(j,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=o=>n.value=o),"min-height":"5rem",class:"q-mt-sm","paragraph-tag":"p",toolbar:[["left","center","right","justify"],["bold","italic","underline"],["hr"],["unordered","ordered","outdent","indent"],["undo","redo"]]},null,8,["modelValue"])]),_:1}),t(w,{align:"right",class:"bg-green-7"},{default:s(()=>[t(f,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{se as default};

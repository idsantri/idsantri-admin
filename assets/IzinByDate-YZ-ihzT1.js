import{Q as $}from"./QSpace-e5nOhYJp.js";import{v as s,a6 as B,G as q,f as D,o as Q,w as t,i as a,q as v,Q as d,j as y,a7 as z,R as I,k as g,p as V,a4 as j,_ as C,B as T}from"./index-Cju_WcQt.js";import{Q as F}from"./QTable-CGef7esh.js";import{Q as L}from"./QPage-B1tTC_E4.js";import{a as M}from"./api-get-C-ZFMqL_.js";import{i as b}from"./format-date-DlwYCgkJ.js";import{_ as N}from"./FilterTanggal-BDXqwdKS.js";import{Q as P}from"./QItemLabel-97msGuv9.js";import{Q as R,a as h}from"./QItemSection-CL0X_XCy.js";import{Q as A}from"./QList-DJ6I4Xhf.js";import{Q as U}from"./QBtnDropdown-69YMJW9Q.js";import{_ as E}from"./InputSelectSantriId-BlpghIQA.js";import{_ as G}from"./IzinPesantrenForm-DgTXxF0P.js";import"./QMarkupTable-CVJrzePZ.js";import"./QSelect-D99lhOsm.js";import"./QChip-DJA81wTZ.js";import"./QMenu-BUIDrqEf.js";import"./selection-noklRUze.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-BVouRRhr.js";import"./index-DgCvXGx8.js";import"./index-pFkrbuLE.js";import"./api-error-BS7WyEhR.js";import"./id-BuNGTsqN.js";import"./QToolbarTitle-DriFd-N5.js";import"./QToolbar-DOvpToKQ.js";import"./QBtnGroup-oymYJuDk.js";import"./QSpinnerCube-BbU3LkI7.js";import"./QForm-B-IeWzDf.js";import"./api-post-P8g4q4LG.js";import"./api-update-Dm-9pXju.js";import"./api-delete-BEmNpbPy.js";import"./InputSelectArray-G7sFmwYz.js";import"./api-get-lists-BfH1ZDRf.js";import"./lists-store-Bv-Q7-f0.js";import"./lists-data-L-iOlbK0.js";import"./DropDownAfter-UGjzP48R.js";import"./ClosePopup-POBKOZoS.js";import"./FormHeader-BlagXmst.js";const H={__name:"DropDownMenu",setup(k){const r=s({santri_id:null,nama:""}),u=B();return q(()=>r.value.nama,o=>{o?.length>0&&r.value.santri_id&&u.push("/keamanan/izin-pesantren/santri/"+r.value.santri_id)}),(o,i)=>(Q(),D(U,{color:"green-10",label:"Filter By","no-caps":"",class:"text-green-11 q-px-md",dense:""},{default:t(()=>[a(A,null,{default:t(()=>[a(R,{class:"q-pa-sm"},{default:t(()=>[a(h,null,{default:t(()=>[a(P,null,{default:t(()=>[a(v,{flat:"",style:{width:"250px"}},{default:t(()=>[a(d,{class:"no-padding text-subtitle1"},{default:t(()=>[...i[1]||(i[1]=[y(" Filter by Santri ID ",-1)])]),_:1}),a(d,{class:"no-padding"},{default:t(()=>[a(E,{class:"q-mt-sm","active-only":!1,onEmitInput:i[0]||(i[0]=m=>Object.assign(r.value,m)),data:{}})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},O=["innerHTML"],Fa={__name:"IzinByDate",setup(k){const r=s([{}]),u=s(!1),o=z(),i=s({}),m=s(""),f={startDate:o.params.startDate||0,endDate:o.params.endDate||0},c=s(f.startDate),_=s(f.endDate),p=s(!1);function x(e){i.value=e}I(async()=>{if(b(c.value)&&b(_.value)){const e=await M({endPoint:"izin-pesantren",loading:u,params:{start_date:c.value,end_date:_.value}});r.value=e.izin_pesantren}});const w=[{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"data_akhir",label:"Data Akhir",align:"left",field:"data_akhir",sortable:!0},{name:"pengajuan",label:"Sifat | Durasi | Pengajuan",align:"left",field:e=>`${e.sifat??""} ${e.durasi?" | "+e.durasi+" hari":""} ${e.pengajuan?" | "+e.pengajuan:""} `,sortable:!0},{name:"dari_tgl",label:"Dari",align:"left",field:"dari_tgl",sortable:!0},{name:"sampai_tgl",label:"Sampai",align:"left",field:"sampai_tgl",sortable:!0},{name:"status",label:"Status",align:"left",field:"status",sortable:!0},{name:"alamat",label:"Alamat",align:"left",field:"alamat_pendek",sortable:!0,classes:"alamat"}];return(e,n)=>(Q(),D(L,{class:"q-pa-sm"},{default:t(()=>[a(N,{showBulanUjian:!0,"start-url":"/keamanan/izin-pesantren",onDataFilter:x},{default:t(()=>[a(H)]),_:1}),a(v,{class:"q-mt-sm"},{default:t(()=>[a(d,{class:"bg-green-8 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:t(()=>[g("span",{innerHTML:i.value.display||""},null,8,O),a($),a(V,{dense:"",icon:"add",label:"Baru","no-caps":"",color:"green-11 q-px-md",class:"text-green-10",onClick:n[0]||(n[0]=l=>p.value=!0)})]),_:1}),a(F,{class:"dt q-pa-sm",rows:r.value,columns:w,loading:u.value,filter:m.value,"rows-per-page-options":[10,25,50,75,100,0],"no-data-label":"Silakan tentukan filter tanggal!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"name",flat:"",onRowClick:n[2]||(n[2]=(l,S,J)=>e.$router.push(`/keamanan/izin-pesantren/${S.id}`))},{"top-left":t(()=>[...n[5]||(n[5]=[g("div",{class:"text-subtitle1 text-green-10"}," Data Perizinan ",-1)])]),"top-right":t(()=>[a(j,{outlined:"",dense:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":n[1]||(n[1]=l=>m.value=l),placeholder:"Cari"},{append:t(()=>[a(C,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","loading","filter"])]),_:1}),a(T,{modelValue:p.value,"onUpdate:modelValue":n[4]||(n[4]=l=>p.value=l)},{default:t(()=>[a(G,{data:{},onSuccessDelete:l=>null,onSuccessSubmit:n[3]||(n[3]=l=>e.$router.push(`/keamanan/izin-pesantren/${l.id}`))})]),_:1},8,["modelValue"])]),_:1}))}};export{Fa as default};

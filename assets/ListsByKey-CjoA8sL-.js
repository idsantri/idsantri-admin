import{Q as U}from"./QSpace-CT-pwkHs.js";import{A as k,B as D,c as m,o as c,w as l,b as t,ad as A,e as _,C as f,Q as T,a7 as E,y as N,v as b,t as w,g as C,ab as O,W as K,f as $,G as H}from"./index-Bjf6jOrL.js";import{Q as J}from"./QForm-CQ61mLzh.js";import{k as j}from"./format-text-DnCGEu2I.js";import{L as F}from"./Lists-DcfSSLIw.js";import{u as G}from"./useCrudForm-D9Qtfi7L.js";import{Q as v}from"./QTd-DUNgUIwQ.js";import{Q as q}from"./QTr-Dc0P-ko4.js";import{Q as B}from"./QTable-CO9G8_fV.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as M}from"./lists-store-Ddm_j1AX.js";import"./ApiCrud-Cz799mD5.js";import"./Api-v4AqqFFf.js";import"./index-BRCx2Z00.js";import"./index-DV84x6RN.js";import"./api-error-C_UMNjEa.js";import"./QList-DrJ2aexG.js";import"./QMarkupTable-DhfjFCDy.js";import"./QSelect-BCDk0qVl.js";import"./QChip-CKBUwVMq.js";import"./QItemSection-D4HO8eJd.js";import"./QItemLabel-Clz1Xits.js";import"./QMenu-DO2tkYnP.js";import"./selection-C-yT_gHt.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-CRS_nenH.js";const R={__name:"ListsForm",props:{data:{type:Object,required:!0},showInput:{type:Object,required:!0}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(d,{emit:u}){const i=d,s=u,o=k({...i.data}),a=!i.data?.id,{handleDelete:y,handleCreate:e,handleUpdate:Q,loading:n}=G(F,{emit:s,responseKey:"list"});async function h(){const g=JSON.parse(JSON.stringify(o.value));return delete g.id,a?await e(g,!0):await Q(i.data.id,g,!0)}async function L(){return await y(i.data.id)}return(g,p)=>{const r=D("FormHeader"),x=D("FormLoading"),V=D("FormActions");return c(),m(N,{class:"full-width",style:{"max-width":"425px"}},{default:l(()=>[t(J,{onSubmit:A(h,["prevent"])},{default:l(()=>[t(r,{title:"Input List "+f(j)(d.data?.key||""),"is-new":a},null,8,["title"]),f(n)?(c(),m(x,{key:0})):_("",!0),t(T,{class:"q-pa-sm"},{default:l(()=>[d.showInput.val0?(c(),m(E,{key:0,label:"text1",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val0,"onUpdate:modelValue":p[0]||(p[0]=S=>o.value.val0=S),autogrow:"",loading:f(n)},null,8,["modelValue","loading"])):_("",!0),d.showInput.val1?(c(),m(E,{key:1,label:"text2",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val1,"onUpdate:modelValue":p[1]||(p[1]=S=>o.value.val1=S),autogrow:"",loading:f(n)},null,8,["modelValue","loading"])):_("",!0),d.showInput.val2?(c(),m(E,{key:2,label:"text3",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val2,"onUpdate:modelValue":p[2]||(p[2]=S=>o.value.val2=S),autogrow:"",loading:f(n)},null,8,["modelValue","loading"])):_("",!0)]),_:1}),t(V,{"btn-delete":!a,onOnDelete:L},null,8,["btn-delete"])]),_:1})]),_:1})}}},W={__name:"ListsStyleSingle",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(d,{emit:u}){const i=u,s=d,o=[{name:"val0",label:"Lists",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,y)=>(c(),m(B,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(q,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[b(w(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(C,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>i("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},z=I(W,[["__scopeId","data-v-439992d8"]]),P={__name:"ListsStyleDouble",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(d,{emit:u}){const i=u,s=d,o=[{name:"val0",label:"Text 1",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"val1",label:"Text 2",align:"left",field:a=>`${a.val1}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,y)=>(c(),m(B,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(q,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[b(w(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val1"},{default:l(()=>[b(w(e.row.val1),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(C,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>i("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},X=I(P,[["__scopeId","data-v-0913ab4d"]]),Y={__name:"ListsStyleTriple",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(d,{emit:u}){const i=u,s=d,o=[{name:"val0",label:"Text 1",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"val1",label:"Text 2",align:"left",field:a=>`${a.val1}`,sortable:!0},{name:"val2",label:"Text 3",align:"left",field:a=>`${a.val2}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,y)=>(c(),m(B,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(q,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[b(w(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val1"},{default:l(()=>[b(w(e.row.val1),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val2"},{default:l(()=>[b(w(e.row.val2),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(C,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>i("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},Z=I(Y,[["__scopeId","data-v-1e70939d"]]),ee={key:2},Ve={__name:"ListsByKey",setup(d){const u=k(!1),{params:i}=O(),s=k(!1),o=k([]),a=k({}),y=k({}),e=M(),{listData:Q}=e;K(async()=>{await h()});const n=Q.find(({url:r})=>r==i.listKey);async function h(){try{s.value=!0;const r=await F.getByKey(n.url);o.value=r[n.key],e.checkState(n.key)&&e.$patch({[n.key]:r[n.key]})}catch(r){console.log("error get list ",r)}finally{s.value=!1}}function L(){if(n.column==1)return{val0:!0,val1:!1,val2:!1};if(n.column==2)return{val0:!0,val1:!0,val2:!1};if(n.column==3)return{val0:!0,val1:!0,val2:!0}}function g(){y.value=L(),a.value={},a.value.key=i.listKey,u.value=!0}function p(r){y.value=L(),a.value=JSON.parse(JSON.stringify(r)),u.value=!0}return(r,x)=>(c(),$("div",null,[t(T,{class:"bg-green-7 text-green-11 text-subtitle1 q-pa-sm flex flex-center"},{default:l(()=>[b(w(f(n)?.label||"List")+" ",1),t(U),t(C,{icon:"add",label:"Baru","no-caps":"",dense:"",class:"q-px-md",outline:"",onClick:g})]),_:1}),t(T,{class:"q-pa-sm"},{default:l(()=>[f(n).style=="single"?(c(),m(z,{key:0,data:o.value,loading:s.value,onHandleEdit:p},null,8,["data","loading"])):_("",!0),f(n).style=="double"?(c(),m(X,{key:1,data:o.value,loading:s.value,onHandleEdit:p},null,8,["data","loading"])):_("",!0),f(n).style=="triple"?(c(),$("div",ee,[t(Z,{data:o.value,onUpdateList:r.handleUpdate,onDeleteList:r.handleDelete,onAddList:g},null,8,["data","onUpdateList","onDeleteList"])])):_("",!0)]),_:1}),t(H,{modelValue:u.value,"onUpdate:modelValue":x[0]||(x[0]=V=>u.value=V)},{default:l(()=>[t(R,{data:a.value,"show-input":y.value,onSuccessDelete:h,onSuccessSubmit:h},null,8,["data","show-input"])]),_:1},8,["modelValue"])]))}};export{Ve as default};

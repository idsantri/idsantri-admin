import{q as g,ac as f,s as y,b as o,o as i,g as r,w as l,Q as d,a as t,v as k,t as e,G as j,f as v,F as S,D as T,e as h,l as w}from"./index-BD0rPuwI.js";import{Q as A}from"./QSkeleton-XNUgrYtX.js";import{Q as q}from"./QMarkupTable-DP4P_6d8.js";import{a as I}from"./api-get-BCXhCHlZ.js";import{_ as Q}from"./FilterKelas-BAef6oZp.js";import{t as N}from"./format-text-DnCGEu2I.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-n6Dqaau9.js";import"./index-Bt3cYzg4.js";import"./api-error-DI2-xNds.js";import"./QToolbar-DtZkS60q.js";import"./QSpace-5xN-RTD3.js";import"./api-get-lists-Dlag5xEo.js";import"./QSelect-CYTXzFFA.js";import"./QChip-CZ2DfYuE.js";import"./QItemSection-IwpTB_GG.js";import"./QItemLabel-D6C2_kLw.js";import"./QMenu-Bb-0PlhQ.js";import"./selection-D1mjVW1G.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";const D={class:"text-subtitle1"},U=["innerHTML"],$={key:0},B={key:1},F={colspan:"50"},M={key:2},V={class:"text-center"},L={class:"text-center"},R={class:"text-center"},G={class:"text-left td-nama"},H={class:"bg-grey-1"},z={class:"bg-grey-1"},E={class:"bg-grey-1"},K={class:"bg-grey-1"},P={class:"bg-green-1"},J={class:"bg-green-1"},O={class:"bg-green-1"},W={class:"bg-green-1"},X={class:"bg-grey-1"},Y={class:"bg-grey-1"},Z={class:"bg-grey-1"},tt={class:"bg-grey-1"},st={class:"bg-green-2"},et={class:"bg-green-2"},at={class:"bg-green-2"},nt={class:"bg-green-2"},rt={__name:"AbsensiRekapUjian",setup(lt){const _=g(!1),c=f(),u=g([]),a={absensi:c.params.absensi,th_ajaran_h:c.params.th_ajaran_h,tingkat_id:c.params.tingkat_id,kelas:c.params.kelas},p=g("");async function b(){if(a.th_ajaran_h&&a.tingkat_id&&a.kelas){const m=await I({endPoint:`absensi/${a.absensi}/rekap-ujian`,loading:_,params:{th_ajaran_h:a.th_ajaran_h,tingkat_id:a.tingkat_id,kelas:a.kelas}});u.value=m["absensi_"+a.absensi]}}return y(async()=>{await b()}),(m,n)=>(i(),o("div",null,[r(Q,{"show-ujian-ke":!1,"start-url":`/madrasah/absensi/rekap-ujian/${a.absensi}`,onDataFilter:n[0]||(n[0]=s=>p.value=s)},null,8,["start-url"]),r(w,{class:"q-mt-sm",flat:"",bordered:""},{default:l(()=>[r(d,{class:"bg-green-7 text-green-1 text-subtitle1 q-px-sm q-py-xs"},{default:l(()=>[t("div",D,[n[1]||(n[1]=k(" ➡️ ",-1)),t("strong",null," Absensi "+e(j(N)(a.absensi)),1)])]),_:1}),r(d,{class:"bg-green-3 text-green-10 text-subtitle1 q-pa-sm"},{default:l(()=>[t("div",null,[t("span",{innerHTML:p.value||"Tentukan filter!"},null,8,U)])]),_:1}),r(d,{class:"no-padding"},{default:l(()=>[r(q,{flat:""},{default:l(()=>[n[3]||(n[3]=t("thead",null,[t("tr",null,[t("th",{rowspan:"2",class:"text-center"},"No."),t("th",{rowspan:"2",class:"text-center"},"ID Santri"),t("th",{rowspan:"2",class:"text-center"},"ID Kelas"),t("th",{rowspan:"2",class:"text-left"},"Nama"),t("th",{colspan:"4",class:"bg-grey-1"},"Ujian-1"),t("th",{colspan:"4",class:"bg-green-1"},"Ujian-2"),t("th",{colspan:"4",class:"bg-grey-1"},"Ujian-3"),t("th",{colspan:"4",class:"bg-green-2"},"Setahun")]),t("tr",null,[t("th",{class:"bg-grey-1"},"S"),t("th",{class:"bg-grey-1"},"I"),t("th",{class:"bg-grey-1"},"A"),t("th",{class:"bg-grey-1"},"T"),t("th",{class:"bg-green-1"},"S"),t("th",{class:"bg-green-1"},"I"),t("th",{class:"bg-green-1"},"A"),t("th",{class:"bg-green-1"},"T"),t("th",{class:"bg-grey-1"},"S"),t("th",{class:"bg-grey-1"},"I"),t("th",{class:"bg-grey-1"},"A"),t("th",{class:"bg-grey-1"},"T"),t("th",{class:"bg-green-2"},"S"),t("th",{class:"bg-green-2"},"I"),t("th",{class:"bg-green-2"},"A"),t("th",{class:"bg-green-2"},"T")])],-1)),!a.th_ajaran_h||!a.tingkat_id||!a.kelas?(i(),o("tbody",$,[...n[2]||(n[2]=[t("tr",null,[t("td",{colspan:"50"},[t("div",{class:"text-center text-negative text-body1 text-italic bg-red-1 q-pa-md"}," Tentukan filter! ")])],-1)])])):v("",!0),_.value?(i(),o("tbody",B,[t("tr",null,[t("td",F,[r(A,{height:"50px"})])])])):(i(),o("tbody",M,[(i(!0),o(S,null,T(u.value,(s,x)=>(i(),o("tr",{key:x},[t("td",V,e(s.no_absen?s.no_absen.toString().padStart(2,0):""),1),t("td",L,[r(h,{flat:"",dense:"","no-caps":"",class:"text-green-10 bg-green-11 q-px-sm",style:{"min-width":"50px"},to:`/santri/${s.santri_id}`},{default:l(()=>[t("small",null,e(s.santri_id),1)]),_:2},1032,["to"])]),t("td",R,[r(h,{flat:"",dense:"","no-caps":"",class:"text-green-10 bg-green-11 q-px-sm",style:{"min-width":"50px"},to:`/madrasah/kelas/${s.kelas_id}`},{default:l(()=>[t("small",null,e(s.kelas_id),1)]),_:2},1032,["to"])]),t("td",G,e(s.nama),1),t("td",H,e(s.u1s),1),t("td",z,e(s.u1i),1),t("td",E,e(s.u1a),1),t("td",K,e(s.u1t),1),t("td",P,e(s.u2s),1),t("td",J,e(s.u2i),1),t("td",O,e(s.u2a),1),t("td",W,e(s.u2t),1),t("td",X,e(s.u3s),1),t("td",Y,e(s.u3i),1),t("td",Z,e(s.u3a),1),t("td",tt,e(s.u3t),1),t("td",st,e(s.sum_s),1),t("td",et,e(s.sum_i),1),t("td",at,e(s.sum_a),1),t("td",nt,e(s.sum_t),1)]))),128))])),n[4]||(n[4]=t("tfoot",null,null,-1))]),_:1})]),_:1}),r(d,{class:"bg-green-6 text-green-11 text-subtitle1 q-pa-sm flex flex-center"},{default:l(()=>[...n[5]||(n[5]=[t("div",{class:"text-caption text-italic text-center"},"S=Sakit; I=Izin; A=Alpa; T=Terlambat",-1)])]),_:1})]),_:1})]))}},qt=C(rt,[["__scopeId","data-v-93dc2cf4"]]);export{qt as default};

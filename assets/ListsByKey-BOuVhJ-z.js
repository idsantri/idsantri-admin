import{Q as N}from"./QSpace-DcIMlGPs.js";import{q as h,ap as A,s as F,Y as O,E as V,c as f,o as u,w as l,g as t,af as J,f as _,G as p,Q as I,a9 as E,l as K,v as w,t as b,e as Q,ad as H,ae as R,b as $,J as j}from"./index-B_fOp8I2.js";import{Q as G}from"./QForm-XW60lmKZ.js";import{k as M}from"./format-text-DnCGEu2I.js";import{L as Y}from"./Lists-CqahsUVd.js";import{u as z}from"./useCrudForm-DYJRtmbD.js";import{Q as v}from"./QTd-CBe108Io.js";import{Q as D}from"./QTr-CeYEnvth.js";import{Q as q}from"./QTable-Cxe79E5H.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as P}from"./lists-store-CD0Hggyp.js";import{l as W}from"./lists-data-CZ3z29xr.js";import"./ApiCrud-DVH4XNNQ.js";import"./Api-BNo_L0HG.js";import"./index-Bv8s4jzG.js";import"./index-BF457XYG.js";import"./apiPost-TFI76I_W.js";import"./QList-Bhy1FtzV.js";import"./QMarkupTable-O1N7MMlJ.js";import"./QSelect-udWnZaoN.js";import"./QChip-5TM6hDLU.js";import"./QItem-BIr2qAQs.js";import"./QItemLabel-Dzv1rcUf.js";import"./QMenu-BsVEoqbp.js";import"./selection-CtPAXORa.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-B54qEUBN.js";import"./ArrayCrud-CByp4EUn.js";const X={__name:"ListsForm",props:{data:{type:Object,required:!0},showInput:{type:Object,required:!0}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(r,{emit:d}){const n=r,s=d,o=h({...n.data}),a=!n.data?.id,c=A("firstInput");F(async()=>{await O(),c.value&&c.value.focus()});const{handleDelete:e,handleCreate:x,handleUpdate:m,loading:y}=z(Y,{emit:s,responseKey:"list"});async function L(){const g=JSON.parse(JSON.stringify(o.value));return delete g.id,a?await x(g,!0):await m(n.data.id,g,!0)}async function S(){return await e(n.data.id)}return(g,i)=>{const C=V("FormHeader"),T=V("FormLoading"),U=V("FormActions");return u(),f(K,{class:"full-width",style:{"max-width":"425px"}},{default:l(()=>[t(G,{onSubmit:J(L,["prevent"])},{default:l(()=>[t(C,{title:"Input List "+p(M)(r.data?.key||""),"is-new":a},null,8,["title"]),p(y)?(u(),f(T,{key:0})):_("",!0),t(I,null,{default:l(()=>[r.showInput.val0?(u(),f(E,{key:0,label:"text1",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val0,"onUpdate:modelValue":i[0]||(i[0]=k=>o.value.val0=k),autogrow:"",loading:p(y),ref_key:"firstInput",ref:c},null,8,["modelValue","loading"])):_("",!0),r.showInput.val1?(u(),f(E,{key:1,label:"text2",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val1,"onUpdate:modelValue":i[1]||(i[1]=k=>o.value.val1=k),autogrow:"",loading:p(y)},null,8,["modelValue","loading"])):_("",!0),r.showInput.val2?(u(),f(E,{key:2,label:"text3",dense:"",class:"q-my-sm",outlined:"",modelValue:o.value.val2,"onUpdate:modelValue":i[2]||(i[2]=k=>o.value.val2=k),autogrow:"",loading:p(y)},null,8,["modelValue","loading"])):_("",!0)]),_:1}),t(U,{"btn-delete":!a,onOnDelete:S},null,8,["btn-delete"])]),_:1})]),_:1})}}},Z={__name:"ListsStyleSingle",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(r,{emit:d}){const n=d,s=r,o=[{name:"val0",label:"Lists",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,c)=>(u(),f(q,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(D,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[w(b(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(Q,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>n("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},ee=B(Z,[["__scopeId","data-v-439992d8"]]),te={__name:"ListsStyleDouble",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(r,{emit:d}){const n=d,s=r,o=[{name:"val0",label:"Text 1",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"val1",label:"Text 2",align:"left",field:a=>`${a.val1}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,c)=>(u(),f(q,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(D,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[w(b(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val1"},{default:l(()=>[w(b(e.row.val1),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(Q,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>n("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},ae=B(te,[["__scopeId","data-v-0913ab4d"]]),le={__name:"ListsStyleTriple",props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["handleEdit"],setup(r,{emit:d}){const n=d,s=r,o=[{name:"val0",label:"Text 1",align:"left",field:a=>`${a.val0}`,sortable:!0},{name:"val1",label:"Text 2",align:"left",field:a=>`${a.val1}`,sortable:!0},{name:"val2",label:"Text 3",align:"left",field:a=>`${a.val2}`,sortable:!0},{name:"id",label:"Edit",align:"center",field:"id",style:"width: 90px"}];return(a,c)=>(u(),f(q,{rows:s.data,columns:o,"rows-per-page-options":[10,25,50,100,0],flat:"",loading:s.loading},{body:l(e=>[t(D,{props:e},{default:l(()=>[t(v,{props:e,key:"val0"},{default:l(()=>[w(b(e.row.val0),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val1"},{default:l(()=>[w(b(e.row.val1),1)]),_:2},1032,["props"]),t(v,{props:e,key:"val2"},{default:l(()=>[w(b(e.row.val2),1)]),_:2},1032,["props"]),t(v,{props:e,key:"id"},{default:l(()=>[t(Q,{icon:"edit",outline:"",round:"",dense:"",glossy:"",color:"green-10",onClick:()=>n("handleEdit",e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]))}},oe=B(le,[["__scopeId","data-v-1e70939d"]]),se={key:2},$e={__name:"ListsByKey",setup(r){const d=h(!1),{params:n}=H(),s=h([]),o=h({}),a=h({}),c=P(),e=R(c),{loading:x}=e,m=W.find(({url:i})=>i==n.listKey);async function y(){await c.fetchList(m.url),s.value=c.getStateByKey(m.key)}F(async()=>{await y()});function L(){if(m.column==1)return{val0:!0,val1:!1,val2:!1};if(m.column==2)return{val0:!0,val1:!0,val2:!1};if(m.column==3)return{val0:!0,val1:!0,val2:!0}}function S(){a.value=L(),o.value={},o.value.key=n.listKey,d.value=!0}function g(i){a.value=L(),o.value=JSON.parse(JSON.stringify(i)),d.value=!0}return(i,C)=>(u(),$("div",null,[t(I,{class:"bg-green-7 text-green-11 text-subtitle1 q-pa-sm flex flex-center"},{default:l(()=>[w(b(p(m)?.label||"List")+" ",1),t(N),t(Q,{icon:"add",label:"Baru","no-caps":"",dense:"",class:"q-px-md",outline:"",onClick:S})]),_:1}),t(I,{class:"q-pa-sm"},{default:l(()=>[p(m).style=="single"?(u(),f(ee,{key:0,data:s.value,loading:p(x),onHandleEdit:g},null,8,["data","loading"])):_("",!0),p(m).style=="double"?(u(),f(ae,{key:1,data:s.value,loading:p(x),onHandleEdit:g},null,8,["data","loading"])):_("",!0),p(m).style=="triple"?(u(),$("div",se,[t(oe,{data:s.value,onUpdateList:i.handleUpdate,onDeleteList:i.handleDelete,onAddList:S},null,8,["data","onUpdateList","onDeleteList"])])):_("",!0)]),_:1}),t(j,{modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=T=>d.value=T)},{default:l(()=>[t(X,{data:o.value,"show-input":a.value,onSuccessDelete:y,onSuccessSubmit:y},null,8,["data","show-input"])]),_:1},8,["modelValue"])]))}};export{$e as default};

import{ad as w,ac as $,a9 as h,B as m,v as q,X as x,C as d,c as W,o as y,w as s,g as l,e as c,Q as B,a as r}from"./index-BSwPLBvN.js";import{f as D}from"./format-date-DlwYCgkJ.js";import{_ as I}from"./CardSantriLists-B6PvtGEt.js";import{w as o}from"./wali-store-BIXspRHx.js";import{f as N}from"./format-text-DnCGEu2I.js";import{d as R}from"./dialog-store-CTL4-WG7.js";import{W as S}from"./Wali-C4DB5aQP.js";import{C as j}from"./CardListTabel-6A8vcYgV.js";import"./id-BuNGTsqN.js";import"./QSpace-D6pCerwp.js";import"./QImg-hhTG6btB.js";import"./QItemSection-WqxvrlOw.js";import"./QItemLabel-CIOWhTht.js";import"./QList-Dn-IYx8z.js";import"./ApiCrud-CsgpJEPb.js";import"./Api-gH9zfM44.js";import"./index-DWKPJyX7.js";import"./index-BaAeepf0.js";import"./api-error-CD6hOSn6.js";import"./QMarkupTable-BHGuGSYT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"row",style:{"max-width":"1024px"}},K={class:"col-12 col-md-6 q-pa-sm"},P={class:"col-12 col-md-6 q-pa-sm"},na={__name:"WaliDetail",setup(Q){const{wali:a}=w(o()),p=$().params.id,v=R(),{searchWali:f,crudWali:_}=h(v),i=m([]),t=m(!1);async function n(){o().$reset();try{t.value=!0;const e=await S.getById({id:p});e&&(o().setWali(e.wali),i.value=a.value.santri)}catch{}finally{t.value=!1}}const g=q(()=>[{label:"ID",value:a.value.id},{label:"Nama",value:`${a.value?.nama||""} (${a.value?.sex?.toUpperCase()??""})`},{label:"NIK",value:a.value?.nik||"-"},{label:"Alamat",value:N(a.value.jl,a.value.rt,a.value.rw,a.value.desa,a.value.kecamatan,a.value.kabupaten,a.value.provinsi,a.value.kode_pos)},{label:"Kelahiran",value:`${a.value?.tmp_lahir||""}, ${D(a.value?.tgl_lahir)}`},{label:"Pekerjaan",value:a.value?.pekerjaan||"-"},{label:"Kontak",value:`${a.value?.telepon||""}; ${a.value?.email||""}`}]);x(async()=>{await n()});function b(){o().setEdit(),_.value=!0}return(e,u)=>{const C=d("CardHeader"),k=d("CardPage");return y(),W(k,null,{default:s(()=>[l(C,{title:"Data Wali",onOnReload:n},{buttons:s(()=>[l(c,{label:e.$q.screen.lt.sm?"":"Cari",onClick:u[0]||(u[0]=H=>f.value=!0),color:"green-2","no-caps":"",dense:"",class:"q-px-sm text-green-10",icon:"search"},null,8,["label"]),l(c,{"no-caps":"",color:"green-2",dense:"",class:"q-px-sm text-green-10",icon:"edit",label:e.$q.screen.lt.sm?"":"Edit",onClick:b},null,8,["label"])]),_:1}),l(B,{class:"no-padding"},{default:s(()=>[r("div",A,[r("div",K,[l(j,{data:g.value,loading:t.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"])]),r("div",P,[l(I,{data:i.value,loading:t.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})}}};export{na as default};

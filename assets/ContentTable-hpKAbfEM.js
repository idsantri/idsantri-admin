import{A as m,ab as p,aa as _,W as w,c as g,o as y,w as t,b as n,v as i,t as e,a7 as $,a3 as v,a as h}from"./index-0PBDf7I0.js";import{Q as r}from"./QTd-DvkorYHR.js";import{Q as T}from"./QTr-Bh2iSNP6.js";import{Q as x}from"./QTable-CnpmsB23.js";import{a as Q}from"./api-get-CJU_3mwN.js";import"./QList-BR1VLd4M.js";import"./QMarkupTable-s8nx6cOi.js";import"./QSelect-Cpr8vW2V.js";import"./QChip-DG5_EyRB.js";import"./QItemSection-DpSW8XO7.js";import"./QItemLabel-DR97WW3U.js";import"./QMenu-3oalsLjd.js";import"./selection-DeDWR_N3.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-u92Ep5d8.js";import"./index-BXLuJznK.js";import"./index-BDNa_dSq.js";import"./api-error-C1WPqECD.js";const H={__name:"ContentTable",setup(C){const f=m(!1),{params:s}=p(),k=_(),d=m([]),u=m("");function b(l){k.push(`/madrasah/kelas/${l.id}/riwayat`)}w(async()=>{if(s.th_ajaran_h&&s.tingkat_id){s.kelas||delete s.kelas;const o=(await Q({endPoint:"kelas",params:s,loading:f})).murid.map(a=>({...a,alamat:`${a.desa} ${a.kecamatan} ${a.kabupaten}`,alamat_lengkap:`${a.jl} ${a.desa} ${a.kecamatan} ${a.kabupaten} ${a.provinsi}`}));d.value=o}else d.value=[]});const c=[{name:"id",label:"ID Kelas",align:"left",field:"id",sortable:!0},{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"alamat",label:"Alamat",align:"left",field:"alamat",sortable:!0,classes:"alamat"},{name:"pendidikan",label:"Kelas - Tingkat - Absen",align:"left",field:l=>`${l.kelas} ${l.tingkat_id}
			${l.no_absen?" ("+("0"+l.no_absen).slice(-2)+")":""}`,sortable:!0},{name:"wali",label:"Wali",align:"left",field:"wali_nama",sortable:!0},{name:"ortu",label:"Orang Tua",align:"left",field:l=>`${l.ayah} | ${l.ibu}`,sortable:!0}];return(l,o)=>(y(),g(x,{rows:d.value,columns:c,loading:f.value,"rows-per-page-options":[10,25,50,75,100,0],class:"dt",filter:u.value,"no-data-label":"Silakan tentukan Tahun ajaran dan tingkat pendidikan!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"id",flat:""},{"top-left":t(()=>[...o[1]||(o[1]=[h("div",{class:"text-subtitle1 text-green-10"},"Data Murid",-1)])]),"top-right":t(()=>[n($,{outlined:"",dense:"",debounce:"300",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=a=>u.value=a),placeholder:"Cari"},{append:t(()=>[n(v,{name:"search"})]),_:1},8,["modelValue"])]),body:t(a=>[n(T,{props:a,onClick:V=>b(a.row),style:{cursor:"pointer"}},{default:t(()=>[n(r,{key:"id",props:a},{default:t(()=>[i(e(a.row.id),1)]),_:2},1032,["props"]),n(r,{key:"id",props:a},{default:t(()=>[i(e(a.row.santri_id),1)]),_:2},1032,["props"]),n(r,{key:"nama",props:a},{default:t(()=>[i(e(a.row.nama)+" ("+e(a.row.sex)+") ",1)]),_:2},1032,["props"]),n(r,{key:"alamat",props:a,title:a.row.alamat_lengkap},{default:t(()=>[i(e(a.row.alamat.length>30?a.row.alamat.substr(0,30)+"â€¦":a.row.alamat),1)]),_:2},1032,["props","title"]),n(r,{key:"pendidikan",props:a},{default:t(()=>[i(e(a.row.kelas)+" "+e(a.row.tingkat_id)+" "+e(a.row.no_absen?" ("+("0"+a.row.no_absen).slice(-2)+")":""),1)]),_:2},1032,["props"]),n(r,{key:"wali",props:a},{default:t(()=>[i(e(a.row.wali_nama)+" ("+e(a.row.wali_status)+"; "+e(a.row.wali_sex)+") ",1)]),_:2},1032,["props"]),n(r,{key:"ortu",props:a},{default:t(()=>[i(e(a.row.ayah)+" | "+e(a.row.ibu),1)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["rows","loading","filter"]))}};export{H as default};

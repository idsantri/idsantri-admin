import{Q as _}from"./QTab-CqGeCBpO.js";import{Q as F}from"./QSpace-CkzNRsZ2.js";import{B as h,ac as N,X as C,L as Q,C as w,c as f,o as d,w as u,g as o,Q as b,e as y,b as x,a,y as j,t as i,F as z,A as B,l as R}from"./index-BxW-Zl0Y.js";import{Q as q}from"./QTabs-CbpUGbxf.js";import{Q as U}from"./QMarkupTable-i4CciGU_.js";import{a as V}from"./api-get-Voz9MJxZ.js";import"./QResizeObserver-BRaoCwBk.js";import"./rtl-DFPa-2ov.js";import"./index-BVb4nAdI.js";import"./index-BSCwVkgJ.js";import"./api-error-CztaqWte.js";const T={key:0},L={class:"text-right"},S={class:"text-right"},K={class:"text-right"},M={class:"text-right"},D={class:"text-left"},E={class:"text-left"},A=["title"],G=["title"],H=["title"],I=["title"],P={title:"Nilai rata-rata",class:"text-right"},X={class:"bg-green-2"},J={class:"text-caption text-weight-bold text-green-10"},O={class:"text-right"},W={class:"text-right"},Y={class:"text-right"},Z={class:"text-right"},$={class:"text-right"},aa=`Kalkulasi nilai rapor dan ijazah:
â–ªï¸ dengan nilai harian:
 ðŸ”¸(((nilai_ujian + nilai_remedial) * 2) + nilai_harian) / 3 / 10 
â–ªï¸ tanpa nilai harian:
 ðŸ”¸(nilai_ujian + nilai_remedial) / 10

Catatan:
Berlaku standar nilai-minimal rapor dan ijazah.`,_a={__name:"KelasNilai",setup(ta){const t=h("ujian"),k=N(),s=h([{}]),g=h(!1);C(async()=>{await v(t.value)}),Q(t,async r=>{await v(r)});async function v(r){const e=await V({endPoint:"nilai-mapel",loading:g,params:{kelas_id:k.params.id,category:r}});e.nilai&&(s.value=e.nilai)}function n(r,e){let c=0,l=0;if(r?.length){r.forEach(m=>{m[e]!==null&&(c+=parseFloat(m[e]),l++)});const p=c/l;return isNaN(p)?null:p}else return null}return(r,e)=>{const c=w("CardLoading");return d(),f(R,{flat:"",bordered:"",class:"bg-green-1"},{default:u(()=>[o(b,{class:"q-pa-sm"},{default:u(()=>[o(q,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-2 text-green-10",modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value=l)},{default:u(()=>[o(_,{name:"ujian",label:"Ujian"}),o(_,{name:"harian",label:"Harian"}),o(_,{name:"rapor",label:"Rapor"}),o(_,{name:"ijazah",label:"Ijazah"}),o(F),o(y,{icon:"info",flat:"",class:"q-mr-sm",title:aa})]),_:1},8,["modelValue"])]),_:1}),o(b,{class:"q-px-sm q-pb-sm q-pt-none"},{default:u(()=>[s.value?.length==0?(d(),x("div",T,[...e[1]||(e[1]=[a("div",{class:"flex flex-center q-pa-lg text-center text-negative text-italic"},[j(" Tidak ada untuk ditampilkan "),a("br"),j("Silakan input nilai terlebih dahulu! ")],-1)])])):(d(),f(U,{key:1,flat:"",bordered:""},{default:u(()=>[a("thead",null,[a("tr",null,[e[2]||(e[2]=a("th",{class:"text-left"},"Kode",-1)),e[3]||(e[3]=a("th",{class:"text-left"},"Mapel",-1)),a("th",L,i(t.value.substring(0,1).toUpperCase()+"-1"),1),a("th",S,i(t.value.substring(0,1).toUpperCase()+"-2"),1),a("th",K,i(t.value.substring(0,1).toUpperCase()+"-3"),1),a("th",M,i(t.value.substring(0,1).toUpperCase()+"-4"),1),e[4]||(e[4]=a("th",{class:"text-right"},"Rerata",-1))])]),a("tbody",null,[(d(!0),x(z,null,B(s.value,(l,p)=>(d(),x("tr",{key:p},[a("td",D,i(l.id),1),a("td",E,i(l.name),1),a("td",{title:"Nilai "+t.value+" pada ujian ke-1",class:"text-right"},i(l.nilai_1),9,A),a("td",{title:"Nilai "+t.value+" pada ujian ke-2",class:"text-right"},i(l.nilai_2),9,G),a("td",{title:"Nilai "+t.value+" pada ujian ke-3",class:"text-right"},i(l.nilai_3),9,H),a("td",{title:"Nilai "+t.value+" pada ujian ke-4",class:"text-right"},i(l.nilai_4),9,I),a("td",P,i(isNaN(l.rerata)||l.rerata==null?null:t.value=="rapor"||t.value=="ijazah"?parseFloat(l.rerata).toFixed(1):parseFloat(l.rerata).toFixed(2)),1)]))),128))]),a("tfoot",X,[a("tr",J,[e[5]||(e[5]=a("td",{colspan:"2"},"Rata-Rata",-1)),a("td",O,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_1")?.toFixed(1):n(s.value,"nilai_1")?.toFixed(2)),1),a("td",W,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_2")?.toFixed(1):n(s.value,"nilai_2")?.toFixed(2)),1),a("td",Y,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_3")?.toFixed(1):n(s.value,"nilai_3")?.toFixed(2)),1),a("td",Z,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_4")?.toFixed(1):n(s.value,"nilai_4")?.toFixed(2)),1),a("td",$,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"rerata")?.toFixed(1):n(s.value,"rerata")?.toFixed(2)),1)])])]),_:1})),o(c,{showing:g.value},null,8,["showing"])]),_:1})]),_:1})}}};export{_a as default};

import{a as v}from"./index-DgCvXGx8.js";import{a as n}from"./api-error-BS7WyEhR.js";async function C({loadingArray:t,loading:e,key:s,sort:u=null,url:r=""}){t&&(t.value[s]=!0),e&&typeof e.value=="boolean"&&(e.value=!0);const i=r?.length?r:`lists/${s}`,o=s.replace(/-/g,"_");try{const{data:l}=await v.get(i),a=l.data[o];return u==="asc"||u===!0?a.sort((f,c)=>f.val0.localeCompare(c.val0,void 0,{sensitivity:"base"})):(u==="desc"||u===!1)&&a.sort((f,c)=>c.val0.localeCompare(f.val0,void 0,{sensitivity:"base"})),a}catch(l){return n(l),!1}finally{t&&(t.value[s]=!1),e&&typeof e.value=="boolean"&&(e.value=!1)}}function p(t){for(let e=0;e<t.length;e++)if(typeof t[e]=="object")return!0;return!1}async function h({loadingArray:t,loading:e,key:s,url:u,params:r,sort:i=null}){t&&(t.value[s]=!0),e&&typeof e.value=="boolean"&&(e.value=!0);try{const{data:o}=await v.get(u,{params:r}),l=o.data[s].filter(a=>a!=null);return p(l)||(i==="asc"||i===!0?l.sort((a,f)=>a.localeCompare(f,void 0,{sensitivity:"base"})):(i==="desc"||i===!1)&&l.sort((a,f)=>f.localeCompare(a,void 0,{sensitivity:"base"}))),l}catch(o){return n(o),!1}finally{t&&(t.value[s]=!1),e&&typeof e.value=="boolean"&&(e.value=!1)}}export{h as a,C as g};

import{ac as h,ad as q,q as l,ap as x,s as _,b as Q,o as A,a as v,n as C,g as a,a9 as n,w as u,p as b,e as g,Q as P,l as S,af as I,a4 as M}from"./index-lfsacdTL.js";import{Q as R}from"./QSpinnerCube-Dd36zcxV.js";import{a as U}from"./index-D3OjluQT.js";import{t as B}from"./array-object-BytDdNh7.js";import{b as T}from"./index-BjANHOw7.js";const z={class:""},E={class:"q-gutter-y-md column"},G={__name:"ResetPage",emits:["title","errors"],setup(K,{emit:y}){const s=y;s("title","Reset Password"),s("errors",[]);const w=h(),{query:k}=q(),i=l(""),d=l(""),p=l(""),m=l(!1),t=l(!0),c=l(k.token),f=x("firstInput");_(()=>{f.value.focus()});const V=async()=>{s("errors",[]);try{m.value=!0;const r=await U.post("reset-password",{token:c.value,email:i.value,password:d.value,password_confirmation:p.value});await T(r.data.message,0),w.push({name:"Login"})}catch(r){s("errors",B(r.response?.data?.message||"Terjadi sebuah kesalahan")),f.value.focus()}finally{m.value=!1}};return(r,e)=>(A(),Q("div",z,[v("form",{onSubmit:I(V,["prevent"])},[v("div",E,[a(n,{"bg-color":"green-1",outlined:"",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),required:"",label:"Token",placeholder:"Masukkan token!",hint:"Token yang Anda dapatkan dari email/surel",autocomplete:"off"},null,8,["modelValue"]),a(n,{"bg-color":"green-1",outlined:"",modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o),type:"email",required:"",label:"Email/Surel",placeholder:"Masukkan email/surel!",autocomplete:"off",ref_key:"firstInput",ref:f},null,8,["modelValue"]),a(n,{"bg-color":"green-1",outlined:"",modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=o=>d.value=o),type:t.value?"password":"text",required:"",label:"Password",placeholder:"Masukkan password!",autocapitalize:"none",autocomplete:"off",autocorrect:"off",readonly:"",onfocus:"this.removeAttribute('readonly');",onblur:"this.setAttribute('readonly','true');"},{append:u(()=>[a(b,{name:t.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[2]||(e[2]=o=>t.value=!t.value)},null,8,["name"])]),_:1},8,["modelValue","type"]),a(n,{"bg-color":"green-1",round:"",outlined:"",modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=o=>p.value=o),type:t.value?"password":"text",required:"",label:"Konfirmasi Password",placeholder:"Ulangi password!",autocapitalize:"none",autocomplete:"off",autocorrect:"off",readonly:"",onfocus:"this.removeAttribute('readonly');",onblur:"this.setAttribute('readonly','true');"},{append:u(()=>[a(b,{name:t.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[4]||(e[4]=o=>t.value=!t.value)},null,8,["name"])]),_:1},8,["modelValue","type"]),a(g,{type:"submit",class:"full-width q-pa-sm text-green-10",color:"green-3",label:"Ganti Password"}),a(S,{class:"my-card",flat:""},{default:u(()=>[a(P,{class:"text-green-10 text-center bg-green-2 q-pa-sm"},{default:u(()=>[a(g,{outline:"",color:"green-10",class:"full-width text-weight-regular","no-caps":"",to:"/login",label:"Kembali ke halaman Login"})]),_:1})]),_:1})])],32),C(a(R,{color:"green-12",size:"14em",class:"absolute-center"},null,512),[[M,m.value]])]))}};export{G as default};

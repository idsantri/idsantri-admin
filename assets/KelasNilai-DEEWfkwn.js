import{Q as p}from"./QTab-Fd9v2ElX.js";import{Q as F}from"./QSpace-BYMtWShY.js";import{A as h,ab as N,W as Q,K as z,c as f,o as d,w as u,b as r,Q as b,g as y,f as _,a,v as j,t as i,F as w,z as C,y as q}from"./index-0PBDf7I0.js";import{Q as R}from"./QTabs-DQ3kVZ7f.js";import{Q as B}from"./QSpinnerCube-Dxm5aSBA.js";import{Q as U}from"./QMarkupTable-s8nx6cOi.js";import{a as V}from"./api-get-CJU_3mwN.js";import"./QResizeObserver-DonTkqYd.js";import"./rtl-DFPa-2ov.js";import"./index-BXLuJznK.js";import"./index-BDNa_dSq.js";import"./api-error-C1WPqECD.js";const S={key:0},T={key:1},K={class:"text-right"},M={class:"text-right"},D={class:"text-right"},E={class:"text-right"},A={class:"text-left"},G={class:"text-left"},H=["title"],I=["title"],L=["title"],P=["title"],W={title:"Nilai rata-rata",class:"text-right"},J={class:"bg-green-2"},O={class:"text-caption text-weight-bold text-green-10"},X={class:"text-right"},Y={class:"text-right"},Z={class:"text-right"},$={class:"text-right"},aa={class:"text-right"},ta=`Kalkulasi nilai rapor dan ijazah:
â–ªï¸ dengan nilai harian:
 ðŸ”¸(((nilai_ujian + nilai_remedial) * 2) + nilai_harian) / 3 / 10 
â–ªï¸ tanpa nilai harian:
 ðŸ”¸(nilai_ujian + nilai_remedial) / 10

Catatan:
Berlaku standar nilai-minimal rapor dan ijazah.`,xa={__name:"KelasNilai",setup(ea){const t=h("ujian"),k=N(),s=h([{}]),x=h(!1);Q(async()=>{await g(t.value)}),z(t,async o=>{await g(o)});async function g(o){const e=await V({endPoint:"nilai-mapel",loading:x,params:{kelas_id:k.params.id,category:o}});e.nilai&&(s.value=e.nilai)}function n(o,e){let l=0,c=0;if(o?.length){o.forEach(m=>{m[e]!==null&&(l+=parseFloat(m[e]),c++)});const v=l/c;return isNaN(v)?null:v}else return null}return(o,e)=>(d(),f(q,{flat:"",bordered:"",class:"bg-green-1"},{default:u(()=>[r(b,{class:"q-pa-sm"},{default:u(()=>[r(R,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-2 text-green-10",modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value=l)},{default:u(()=>[r(p,{name:"ujian",label:"Ujian"}),r(p,{name:"harian",label:"Harian"}),r(p,{name:"rapor",label:"Rapor"}),r(p,{name:"ijazah",label:"Ijazah"}),r(F),r(y,{icon:"info",flat:"",class:"q-mr-sm",title:ta})]),_:1},8,["modelValue"])]),_:1}),r(b,{class:"q-px-sm q-pb-sm q-pt-none"},{default:u(()=>[x.value?(d(),_("div",S,[r(B,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):s.value?.length==0?(d(),_("div",T,[...e[1]||(e[1]=[a("div",{class:"flex flex-center q-pa-lg text-center text-negative text-italic"},[j(" Tidak ada untuk ditampilkan "),a("br"),j("Silakan input nilai terlebih dahulu! ")],-1)])])):(d(),f(U,{key:2,flat:"",bordered:""},{default:u(()=>[a("thead",null,[a("tr",null,[e[2]||(e[2]=a("th",{class:"text-left"},"Kode",-1)),e[3]||(e[3]=a("th",{class:"text-left"},"Mapel",-1)),a("th",K,i(t.value.substring(0,1).toUpperCase()+"-1"),1),a("th",M,i(t.value.substring(0,1).toUpperCase()+"-2"),1),a("th",D,i(t.value.substring(0,1).toUpperCase()+"-3"),1),a("th",E,i(t.value.substring(0,1).toUpperCase()+"-4"),1),e[4]||(e[4]=a("th",{class:"text-right"},"Rerata",-1))])]),a("tbody",null,[(d(!0),_(w,null,C(s.value,(l,c)=>(d(),_("tr",{key:c},[a("td",A,i(l.id),1),a("td",G,i(l.name),1),a("td",{title:"Nilai "+t.value+" pada ujian ke-1",class:"text-right"},i(l.nilai_1),9,H),a("td",{title:"Nilai "+t.value+" pada ujian ke-2",class:"text-right"},i(l.nilai_2),9,I),a("td",{title:"Nilai "+t.value+" pada ujian ke-3",class:"text-right"},i(l.nilai_3),9,L),a("td",{title:"Nilai "+t.value+" pada ujian ke-4",class:"text-right"},i(l.nilai_4),9,P),a("td",W,i(isNaN(l.rerata)||l.rerata==null?null:t.value=="rapor"||t.value=="ijazah"?parseFloat(l.rerata).toFixed(1):parseFloat(l.rerata).toFixed(2)),1)]))),128))]),a("tfoot",J,[a("tr",O,[e[5]||(e[5]=a("td",{colspan:"2"},"Rata-Rata",-1)),a("td",X,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_1")?.toFixed(1):n(s.value,"nilai_1")?.toFixed(2)),1),a("td",Y,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_2")?.toFixed(1):n(s.value,"nilai_2")?.toFixed(2)),1),a("td",Z,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_3")?.toFixed(1):n(s.value,"nilai_3")?.toFixed(2)),1),a("td",$,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_4")?.toFixed(1):n(s.value,"nilai_4")?.toFixed(2)),1),a("td",aa,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"rerata")?.toFixed(1):n(s.value,"rerata")?.toFixed(2)),1)])])]),_:1}))]),_:1})]),_:1}))}};export{xa as default};

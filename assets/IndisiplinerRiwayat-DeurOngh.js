import{Q as w}from"./QToolbarTitle-DdD-fGk3.js";import{v as m,a7 as T,R as q,ap as B,f as i,o as n,w as e,i as l,Q as p,j as f,p as v,r as C,F as V,s as $,ac as I,z as r,k as s,t as d,B as R,q as z}from"./index-1h6WQa8x.js";import{Q as D}from"./QToolbar-vKMNabI2.js";import{Q as j}from"./QSpinnerCube-CdFtSnRz.js";import{Q as F}from"./QSpace-CR7bsMEl.js";import{Q as N,a as y}from"./QItemSection-CDMonx4a.js";import{Q as L}from"./QList-DG4NG05A.js";import{a as P}from"./api-get-BY6mtHh6.js";import{b as U}from"./format-date-DlwYCgkJ.js";import{a as A,m as E}from"./hijri-BBdEhqDI.js";import{h as G}from"./tahun-ajaran-Dhryo64N.js";import{_ as H}from"./IndisiplinerForm-D-nMCz_N.js";const K={class:"flex"},la={__name:"IndisiplinerRiwayat",props:{santri_id:{required:!0}},setup(x){const u=x,o=m([]),b=m(!1),g=m(!1),k=m({}),{params:_}=T();q(async()=>{u.santri_id?await Q(u.santri_id):o.value=[]}),B(async()=>{u.santri_id?await Q(u.santri_id):o.value=[]});async function Q(c){const a=await P({endPoint:"indisipliner",params:{santri_id:c},loading:b});a.indisipliner&&(o.value=a.indisipliner,k.value={santri_id:a.santri.id,nama:a.santri.nama,data_akhir:a.santri.data_akhir})}return(c,a)=>(n(),i(z,{class:""},{default:e(()=>[l(p,{class:"bg-green-8 no-padding"},{default:e(()=>[l(D,{class:"no-padding no-margin"},{default:e(()=>[l(w,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:e(()=>[...a[3]||(a[3]=[f(" Riwayat Indisipliner ",-1)])]),_:1}),l(v,{color:"green-11",outline:"",dense:"","no-caps":"",icon:"add",label:"Tambah",class:"q-mr-sm q-px-md",onClick:a[0]||(a[0]=t=>g.value=!0)})]),_:1})]),_:1}),b.value?(n(),i(p,{key:0,class:"flex flex-center"},{default:e(()=>[l(j,{color:"green-12",size:"8em",class:""})]),_:1})):o.value?.length?(n(),i(p,{key:2,class:"q-pa-sm"},{default:e(()=>[l(L,{separator:"",bordered:""},{default:e(()=>[(n(!0),C(V,null,$(o.value,(t,S)=>(n(),i(N,{key:S,class:I([t.id==r(_).id?"bg-green-1":"","q-pa-sm"])},{default:e(()=>[l(y,null,{default:e(()=>[s("table",null,[s("tbody",null,[s("tr",null,[a[5]||(a[5]=s("td",{class:"label"},"Tanggal Sidang:",-1)),s("td",K,[f(d(r(U)(t.tgl_sidang)+" | "+r(A)(t.tgl_sidang))+" ",1),l(F),f(" "+d(r(G)(r(E)(t.tgl_sidang))),1)])]),s("tr",null,[a[6]||(a[6]=s("td",{class:"label"},"Pasal",-1)),s("td",null,d(t.no_pasal),1)]),s("tr",null,[a[7]||(a[7]=s("td",{class:"label"},"Kategori",-1)),s("td",null,d(t.kategori_text),1)]),s("tr",null,[a[8]||(a[8]=s("td",{class:"label"},"Sanksi",-1)),s("td",null,d(t.takzir),1)])])])]),_:2},1024),l(y,{side:"",class:"no-padding"},{default:e(()=>[l(v,{disable:t.id==r(_).id,icon:"info",glossy:"",dense:"",round:"",outline:"",color:"green",to:`/keamanan/indisipliner/${t.id}`},null,8,["disable","to"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})):(n(),i(p,{key:1,class:"text-italic text-center q-pa-lg"},{default:e(()=>[...a[4]||(a[4]=[f(" Tidak ada untuk ditampilkan ",-1)])]),_:1})),l(R,{modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=t=>g.value=t)},{default:e(()=>[l(H,{data:k.value,onSuccessDelete:t=>null,onSuccessSubmit:a[1]||(a[1]=t=>c.$router.push(`/keamanan/indisipliner/${t.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}};export{la as _};

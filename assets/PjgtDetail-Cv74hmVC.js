import{Q as C}from"./QToolbarTitle-DexAJwlS.js";import{ab as P,A as d,W as U,B as D,c as _,o as i,w as e,b as l,y as c,a,Q as m,v as u,g as w,t as s,C as B,f as T,F as L,z as A,G as S}from"./index-Bjf6jOrL.js";import{Q as $}from"./QToolbar-Bk7787Iv.js";import{Q as E}from"./QMarkupTable-DhfjFCDy.js";import{Q as p}from"./QItemLabel-Clz1Xits.js";import{Q as N,a as G}from"./QItemSection-D4HO8eJd.js";import{Q as F}from"./QList-DrJ2aexG.js";import{Q as H}from"./QPage-CdhCNm0R.js";import{f as J}from"./format-text-DnCGEu2I.js";import{_ as M}from"./UgtPjgtForm-BnKBcz1A.js";import{_ as R}from"./UgtGtForm-IK-0xqRK.js";import{U as W}from"./UgtPjgt-BBsUAMOK.js";import{U as z}from"./UgtGt-CjsAxFTY.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./CarouselAlamat-DYdOC_a3.js";import"./use-panel-CHz0jR3I.js";import"./touch-BjYP5sR0.js";import"./selection-C-yT_gHt.js";import"./use-fullscreen-CRS_nenH.js";import"./QBtnGroup-BZf-O_co.js";import"./alamat-store-CabEHZOh.js";import"./Alamat-v7XQG7yJ.js";import"./Api-v4AqqFFf.js";import"./index-BRCx2Z00.js";import"./index-DV84x6RN.js";import"./api-error-C_UMNjEa.js";import"./ApiCrud-Cz799mD5.js";import"./QBtnDropdown-CATaFFO-.js";import"./QMenu-DO2tkYnP.js";import"./QSelect-BCDk0qVl.js";import"./QChip-CKBUwVMq.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./ClosePopup-Ced6Y-Os.js";import"./QForm-CQ61mLzh.js";import"./InputSelectArray-DTVIQacW.js";import"./lists-store-Ddm_j1AX.js";import"./DropDownAfter-BWotgQpI.js";import"./Lists-DcfSSLIw.js";import"./useCrudForm-D9Qtfi7L.js";import"./InputSelectSantriId-D8kOsYb_.js";import"./Santri-DUg8M8r9.js";import"./InputSelectTahunAjaran-iRPod9hn.js";const K={class:"row",style:{"max-width":"1200px"}},X={class:"col-12 col-md-6 q-my-sm"},Y={class:"col-12 col-md-6 q-my-sm"},Z={key:0,class:"text-center text-negative bg-red-1 q-py-md"},h={__name:"PjgtDetail",setup(tt){const Q=P().params.id,g=d(!1),f=d(!1),o=d({}),v=d([]),b=d(!1),y=d(!1);async function x(){try{g.value=!0;const r=await W.getById({id:Q,notifySuccess:!0});o.value=r.pjgt}catch{console.log("error get pjgt by id")}finally{g.value=!1}}async function j(){try{f.value=!0;const r=await z.getAll({params:{pjgt_id:Q}});v.value=r.gt}catch{console.log("error get gt by pjgt id")}finally{f.value=!1}}async function k(){await x(),await j()}return U(async()=>{await k()}),(r,t)=>{const V=D("CardHeader"),q=D("CardLoading");return i(),_(H,{class:"q-pa-sm"},{default:e(()=>[l(c,{class:""},{default:e(()=>[l(V,{title:"Data Penanggung Jawab Guru Tugas",onOnReload:k}),a("div",K,[a("div",X,[l(c,{class:"q-mx-sm",flat:"",bordered:""},{default:e(()=>[l(m,{class:"bg-green-7 no-padding"},{default:e(()=>[l($,{class:"no-padding no-margin"},{default:e(()=>[l(C,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:e(()=>[...t[7]||(t[7]=[u(" Data PJGT ",-1)])]),_:1}),l(w,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Edit","no-caps":"",icon:"edit",color:"green-2",onClick:t[0]||(t[0]=n=>b.value=!0)})]),_:1})]),_:1}),l(m,{class:"q-pa-sm"},{default:e(()=>[l(E,{flat:"",class:"text-green-10"},{default:e(()=>[a("tbody",null,[a("tr",null,[t[8]||(t[8]=a("td",null,"ID",-1)),a("td",null,s(o.value.id),1)]),a("tr",null,[t[9]||(t[9]=a("td",null,"Nama",-1)),a("td",null,s(o.value.nama?.toUpperCase()),1)]),a("tr",null,[t[10]||(t[10]=a("td",null,"Lembaga",-1)),a("td",null,s(o.value.jenis_lembaga)+" "+s(o.value.nama_lembaga),1)]),a("tr",null,[t[11]||(t[11]=a("td",null,"Wilayah",-1)),a("td",null,s(o.value.wilayah),1)]),a("tr",null,[t[12]||(t[12]=a("td",null,"Alamat",-1)),a("td",null,s(B(J)(o.value.jl,o.value.rt,o.value.rw,o.value.desa,o.value.kecamatan,o.value.kabupaten,o.value.provinsi,o.value.kode_pos)),1)]),a("tr",null,[t[13]||(t[13]=a("td",null,"Telepon",-1)),a("td",null,s(o.value.telepon),1)]),a("tr",null,[t[14]||(t[14]=a("td",null,"Email",-1)),a("td",null,s(o.value.email),1)])])]),_:1}),l(q,{showing:g.value},null,8,["showing"])]),_:1})]),_:1})]),a("div",Y,[l(c,{class:"q-mx-sm",flat:"",bordered:""},{default:e(()=>[l(m,{class:"bg-green-7 no-padding"},{default:e(()=>[l($,{class:"no-padding no-margin"},{default:e(()=>[l(C,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:e(()=>[...t[15]||(t[15]=[u(" Data GT ",-1)])]),_:1}),l(w,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Tambah","no-caps":"",icon:"add",color:"green-2",onClick:t[1]||(t[1]=n=>y.value=!0)})]),_:1})]),_:1}),l(m,{class:"q-pa-sm"},{default:e(()=>[v.value.length?(i(),_(F,{key:1,bordered:"",separator:""},{default:e(()=>[(i(!0),T(L,null,A(v.value,(n,I)=>(i(),_(N,{key:I},{default:e(()=>[l(G,null,{default:e(()=>[l(p,{overline:""},{default:e(()=>[u(s(n.th_ajaran_h),1)]),_:2},1024),l(p,{caption:""},{default:e(()=>[a("em",null,[t[17]||(t[17]=u(" GT ID: ",-1)),a("strong",null,s(n.id),1),t[18]||(t[18]=u("; Santri ID: ",-1)),a("strong",null,s(n.santri_id),1)])]),_:2},1024),l(p,null,{default:e(()=>[u(s(n.nama?.toUpperCase()),1)]),_:2},1024),l(p,{caption:""},{default:e(()=>[u(" Telepon: "+s(n.telepon||"-")+"; Email: "+s(n.email||"-"),1)]),_:2},1024)]),_:2},1024),l(G,{avatar:""},{default:e(()=>[l(w,{class:"bg-green-11",icon:"info",glossy:"",round:"",outline:"",to:`/ugt/gt/${n.id}`},null,8,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(i(),T("div",Z,[...t[16]||(t[16]=[a("p",{class:"no-margin q-pa-md"},"Tidak ada data untuk ditampilkan!",-1)])])),l(q,{showing:f.value},null,8,["showing"])]),_:1})]),_:1})])])]),_:1}),l(S,{persistent:"",modelValue:b.value,"onUpdate:modelValue":t[4]||(t[4]=n=>b.value=n)},{default:e(()=>[l(M,{"is-new":!1,data:o.value,onSuccessSubmit:t[2]||(t[2]=n=>x()),onSuccessDelete:t[3]||(t[3]=n=>r.$router.go(-1))},null,8,["data"])]),_:1},8,["modelValue"]),l(S,{persistent:"",modelValue:y.value,"onUpdate:modelValue":t[6]||(t[6]=n=>y.value=n)},{default:e(()=>[l(R,{data:{pjgt_id:o.value.id,pjgt_nama:o.value.nama,pjgt_wilayah:o.value.wilayah},onSuccessSubmit:t[5]||(t[5]=n=>j()),onSuccessDelete:n=>null},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Rt=O(h,[["__scopeId","data-v-254d042c"]]);export{Rt as default};

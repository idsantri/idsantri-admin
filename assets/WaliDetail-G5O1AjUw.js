import{ae as k,ad as C,aa as h,q as u,A as x,s as $,E as m,c as y,o as W,w as s,g as t,e as D,Q as B,a as d}from"./index-B_fOp8I2.js";import{f as I}from"./format-date-DBaFa2rd.js";import{_ as j}from"./CardSantriLists-xQ1dCy7h.js";import{w as o}from"./wali-store-DIV6mlfn.js";import{f as q}from"./format-text-DnCGEu2I.js";import{d as A}from"./dialog-store-B-LvlbAW.js";import{W as N}from"./Wali-DZdm0C0X.js";import{C as R}from"./CardListTabel-DsTFQ36W.js";import"./id-BuNGTsqN.js";import"./QSpace-DcIMlGPs.js";import"./QImg-C4XQLp2C.js";import"./QItem-BIr2qAQs.js";import"./QItemLabel-Dzv1rcUf.js";import"./QList-Bhy1FtzV.js";import"./ApiCrud-DVH4XNNQ.js";import"./Api-BNo_L0HG.js";import"./index-Bv8s4jzG.js";import"./index-BF457XYG.js";import"./apiPost-TFI76I_W.js";import"./QMarkupTable-O1N7MMlJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"tw:w-full"},E={class:"tw:w-full"},ia={__name:"WaliDetail",setup(K){const{wali:a}=k(o()),c=C().params.id,p=A(),{searchWali:v,crudWali:f}=h(p),r=u([]),l=u(!1);async function i(){o().$reset();try{l.value=!0;const e=await N.getById({id:c});e&&(o().setWali(e.wali),r.value=a.value.santri)}catch{}finally{l.value=!1}}const w=x(()=>[{label:"ID",value:a.value.id},{label:"Nama",value:`${a.value?.nama||""} (${a.value?.sex?.toUpperCase()??""})`},{label:"NIK",value:a.value?.nik||"-"},{label:"Alamat",value:q(a.value.jl,a.value.rt,a.value.rw,a.value.desa,a.value.kecamatan,a.value.kabupaten,a.value.provinsi,a.value.kode_pos)},{label:"Kelahiran",value:`${a.value?.tmp_lahir||""}, ${I(a.value?.tgl_lahir)}`},{label:"Pekerjaan",value:a.value?.pekerjaan||"-"},{label:"Kontak",value:`${a.value?.telepon||""}; ${a.value?.email||""}`}]);$(async()=>{await i()});function _(){o().setEdit(),f.value=!0}return(e,n)=>{const g=m("CardHeader"),b=m("CardPage");return W(),y(b,null,{default:s(()=>[t(g,{title:"Data Wali",onOnReload:i,"show-edit":!0,onOnEdit:_},{buttons:s(()=>[t(D,{label:e.$q.screen.lt.sm?"":"Cari",onClick:n[0]||(n[0]=Q=>v.value=!0),color:"green-2","no-caps":"",dense:"",class:"q-px-sm text-green-10",icon:"search"},null,8,["label"])]),_:1}),t(B,{class:"tw:flex tw:flex-col tw:sm:flex-row tw:sm:justify-between tw:gap-2 q-pa-sm",style:{"max-width":"1200px"}},{default:s(()=>[d("div",S,[t(R,{data:w.value,loading:l.value,title:"Identitas",class:""},null,8,["data","loading"])]),d("div",E,[t(j,{data:r.value,loading:l.value,title:"Data Santri (Anak)",class:""},null,8,["data","loading"])])]),_:1})]),_:1})}}};export{ia as default};

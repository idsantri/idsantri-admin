import{q as _,ad as $,s as I,au as z,E as w,c as b,o as v,w as n,g as l,a,Q as g,e as k,v as f,b as E,F,D as K,aj as j,G as d,t as i,J as V,l as S}from"./index-BjwPH8FF.js";import{Q as T,a as B}from"./QToolbar-HqDJ7eQD.js";import{Q as L}from"./QSpace-Dk-I3Y9v.js";import{Q as H}from"./QRating-B40pc8oH.js";import{a as M,f as C}from"./format-date-DBaFa2rd.js";import{a as N,c as Q}from"./hijri-m7PeZ38X.js";import{Q as U,a as D}from"./QItem-CsqH32k4.js";import{Q as A}from"./QList-B01KHQyb.js";import{_ as R}from"./IndisiplinerForm-C02prfsm.js";import{I as P}from"./Indisipliner-YrghaKAh.js";import{_ as G}from"./CardSantriSimple-CVFNrFiQ.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-CJebrXOQ.js";import"./id-BuNGTsqN.js";import"./format-number-B34ySHL_.js";import"./QSelect-DG0UTNMZ.js";import"./QField-ByOWwheS.js";import"./QChip-DvWKrUSh.js";import"./QItemLabel-BFTSoDAR.js";import"./QMenu-BekTf8G3.js";import"./selection-DiJ6Q-Vu.js";import"./rtl-DFPa-2ov.js";import"./QForm-B-tb8GAo.js";import"./InputSelectSantriId-CdujhPLa.js";import"./Santri-CoYd0bjR.js";import"./ApiCrud-ggAtBQJ_.js";import"./Api-Dq7M9uDD.js";import"./index-C-UlpWnA.js";import"./index-nmeLrqlN.js";import"./apiPost-Bua6HjJD.js";import"./lists-store-MtkfrqvS.js";import"./ArrayCrud-DeaxgM1Q.js";import"./DropDownAfter-fp8kMr4A.js";import"./QBtnDropdown-DCLbnrW2.js";import"./QBtnGroup-UJjf5I6N.js";import"./ClosePopup-UiwGJ_I-.js";import"./Lists-Cka2Qv50.js";import"./InputSelectArray-m6KANiN-.js";import"./useCrudForm-d1k0sjgN.js";import"./QSkeleton-Bftu6BUg.js";import"./QImg-uh4cRUMH.js";import"./santri-store-B6qe4xsd.js";const O={class:"relative-position"},W={class:"flex"},X={__name:"IndisiplinerRiwayat",props:{santri_id:{required:!0}},setup(y){const u=y,e=_([]),m=_(!1),p=_(!1),{params:c}=$();I(async()=>{u.santri_id?await r(u.santri_id):e.value=[]}),z(async()=>{u.santri_id?await r(u.santri_id):e.value=[]});async function r(t){try{m.value=!0;const s=await P.getAll({params:{santri_id:t}});e.value=s.indisipliner}catch(s){console.log("ðŸš€ ~ getRiwayat ~ error:",s)}finally{m.value=!1}}return(t,s)=>{const q=w("CardLoading");return v(),b(S,{flat:"",bordered:"",class:""},{default:n(()=>[l(g,{class:"bg-green-7 no-padding"},{default:n(()=>[l(T,{class:"no-padding no-margin"},{default:n(()=>[l(k,{icon:"sync","no-caps":"",onClick:s[0]||(s[0]=o=>r(y.santri_id)),flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),l(B,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:n(()=>[...s[4]||(s[4]=[f(" Riwayat Indisipliner ",-1)])]),_:1}),l(k,{color:"green-11",outline:"",dense:"","no-caps":"",icon:"add",label:"Tambah",class:"q-mr-sm q-px-md",onClick:s[1]||(s[1]=o=>p.value=!0)})]),_:1})]),_:1}),a("div",O,[e.value?.length?(v(),b(g,{key:1,class:"q-pa-sm"},{default:n(()=>[l(A,{separator:"",bordered:""},{default:n(()=>[(v(!0),E(F,null,K(e.value,(o,x)=>(v(),b(U,{key:x,class:j([o.id==d(c).id?"bg-green-1":"","q-pa-sm"])},{default:n(()=>[l(D,null,{default:n(()=>[a("table",null,[a("tbody",null,[a("tr",null,[s[6]||(s[6]=a("td",{class:"label"},"Tanggal Sidang:",-1)),a("td",W,[f(i(d(M)(o.tgl_sidang)+" | "+d(N)(o.tgl_sidang))+" ",1),l(L),f(" "+i(o.th_ajaran_h),1)])]),a("tr",null,[s[7]||(s[7]=a("td",{class:"label"},"Pasal",-1)),a("td",null,i(o.no_pasal),1)]),a("tr",null,[s[8]||(s[8]=a("td",{class:"label"},"Kategori",-1)),a("td",null,i(o.kategori_text),1)]),a("tr",null,[s[9]||(s[9]=a("td",{class:"label"},"Sanksi",-1)),a("td",null,i(o.takzir),1)])])])]),_:2},1024),l(D,{side:"",class:"no-padding"},{default:n(()=>[l(k,{disable:o.id==d(c).id,icon:"info",glossy:"",dense:"",round:"",outline:"",color:"green",to:`/keamanan/indisipliner/${o.id}`},null,8,["disable","to"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})):(v(),b(g,{key:0,class:"text-italic text-center q-pa-lg"},{default:n(()=>[...s[5]||(s[5]=[f(" Tidak ada untuk ditampilkan ",-1)])]),_:1})),l(q,{showing:m.value},null,8,["showing"])]),l(V,{modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=o=>p.value=o)},{default:n(()=>[l(R,{data:{santri_id:y.santri_id,nama:e.value[0]?.nama,data_akhir:e.value[0]?.data_akhir},onSuccessDelete:o=>null,onSuccessSubmit:s[2]||(s[2]=o=>t.$router.push(`/keamanan/indisipliner/${o.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Y={class:"row",style:{"max-width":"1200px"}},Z={class:"col-xs-12 col-sm-6"},h={class:"col-xs-12 col-sm-6"},aa={class:"q-ma-sm"},ta={__name:"IndisiplinerDetail",setup(y){const u=$(),e=_({}),m=_(!1),p=_(!1);async function c(){try{m.value=!0;const r=await P.getById({id:u.params.id});e.value=r.indisipliner}catch(r){console.log("ðŸš€ ~ loadData ~ error:",r)}finally{m.value=!1}}return I(async()=>{u.params.id&&await c()}),(r,t)=>{const s=w("CardHeader"),q=w("CardLoading"),o=w("CardPage");return v(),b(o,null,{default:n(()=>[l(s,{title:"Detail Santri Indisipliner","show-reload":!1}),a("div",Y,[a("div",Z,[l(S,{class:"q-ma-sm",flat:"",bordered:""},{default:n(()=>[l(g,{class:"bg-green-7 no-padding"},{default:n(()=>[l(T,{class:"no-padding no-margin"},{default:n(()=>[l(k,{icon:"sync","no-caps":"",onClick:c,flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),l(B,{class:"text-subtitle1 text-green-11 q-px-none"},{default:n(()=>[...t[3]||(t[3]=[f(" Data Santri Indisipliner ",-1)])]),_:1}),l(k,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Cetak","no-caps":"",icon:"print",color:"green-11",disable:""}),l(k,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Edit","no-caps":"",icon:"edit",color:"green-2",onClick:t[0]||(t[0]=x=>p.value=!0)})]),_:1})]),_:1}),l(g,{class:"q-pa-sm"},{default:n(()=>[l(G,{id:e.value.santri_id},null,8,["id"]),l(S,{bordered:"",flat:"",class:"q-mt-sm"},{default:n(()=>[l(g,{class:"q-pa-sm text-subtitle1 bg-green-11 flex"},{default:n(()=>[t[4]||(t[4]=f(" Data Pelanggaran ",-1)),l(L)]),_:1}),l(g,{class:"q-pa-sm"},{default:n(()=>[a("table",null,[a("tbody",null,[a("tr",null,[t[5]||(t[5]=a("td",{class:"text-italic"},"Kategori:",-1)),a("td",null,[f(i(e.value.kategori_text)+" â€” ",1),l(H,{name:"kategori","model-value":e.value.kategori||0,max:"5",color:"red",icon:"thumb_down","icon-selected":"thumb_down",readonly:""},null,8,["model-value"])])]),a("tr",null,[t[6]||(t[6]=a("td",{class:"text-italic"},"Kasus",-1)),a("td",null,i(d(C)(e.value.tgl_kasus)+" | "+d(Q)(e.value.tgl_kasus)),1)]),a("tr",null,[t[7]||(t[7]=a("td",{class:"text-italic"},"Sidang:",-1)),a("td",null,i(d(C)(e.value.tgl_sidang)+" | "+d(Q)(e.value.tgl_sidang)),1)]),a("tr",null,[t[8]||(t[8]=a("td",{class:"text-italic"},"Pasal:",-1)),a("td",null,i(e.value.pasal),1)]),a("tr",null,[t[9]||(t[9]=a("td",{class:"text-italic"},"Deskripsi:",-1)),a("td",null,i(e.value.deskripsi),1)]),a("tr",null,[t[10]||(t[10]=a("td",{class:"text-italic"},"Eksekutor:",-1)),a("td",null,i(e.value.eksekutor),1)]),a("tr",null,[t[11]||(t[11]=a("td",{class:"text-italic"},"Saksi:",-1)),a("td",null,i(e.value.saksi),1)]),a("tr",null,[t[12]||(t[12]=a("td",{class:"text-italic"},"Takzir:",-1)),a("td",null,i(e.value.takzir),1)]),a("tr",null,[t[13]||(t[13]=a("td",{class:"text-italic"},"Keterangan:",-1)),a("td",null,i(e.value.keterangan),1)])])]),l(q,{showing:m.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})]),_:1})]),a("div",h,[a("div",aa,[l(X,{class:"",santri_id:e.value.santri_id},null,8,["santri_id"])])])]),l(V,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=x=>p.value=x)},{default:n(()=>[l(R,{data:e.value,onSuccessDelete:t[1]||(t[1]=x=>r.$router.go(-1)),onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Ua=J(ta,[["__scopeId","data-v-88cfab1f"]]);export{Ua as default};

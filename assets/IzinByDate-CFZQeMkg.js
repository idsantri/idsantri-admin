import{Q as I}from"./QSpace-CmX6G1IE.js";import{q as s,ab as q,N as y,c as v,o as Q,w as e,g as a,l as k,Q as d,v as B,ac as V,s as j,E as g,a as b,e as P,a8 as N,p as T,J as h}from"./index-DfaJsQuV.js";import{Q as F}from"./QTable-cYLnge_C.js";import{a as H}from"./api-get-ClIlRT6p.js";import{i as D}from"./format-date-DlwYCgkJ.js";import{_ as L}from"./FilterTanggal-Cwkm97s7.js";import{Q as M}from"./QItemLabel-DSRXTJi9.js";import{Q as A,a as E}from"./QItemSection-I2_1bSue.js";import{Q as R}from"./QList-DfDYu1X5.js";import{Q as U}from"./QBtnDropdown-M1yfoUaO.js";import{_ as G}from"./InputSelectSantriId-D7-SAqRG.js";import{_ as J}from"./IzinPesantrenForm-BqtmNefq.js";import"./QMarkupTable-DAsxYgNk.js";import"./QSelect-BkBU4KOv.js";import"./QChip-G3n0284F.js";import"./QMenu-Df8K6tyN.js";import"./selection-CZ2_muTF.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-BI7irs8e.js";import"./index-DevCNWvu.js";import"./index-Bls4-9QV.js";import"./api-error-CZUuRwC1.js";import"./id-BuNGTsqN.js";import"./QToolbar-CuXOlN9-.js";import"./QBtnGroup-BtJtgoQ8.js";import"./Santri-DcJt4sUj.js";import"./ApiCrud-B1nLKXKt.js";import"./Api-DzyhYnwH.js";import"./QForm-Bl0353G9.js";import"./InputSelectArray-CjBCeDBB.js";import"./lists-store-pTe-1Ms6.js";import"./DropDownAfter-CCnklICb.js";import"./ClosePopup-CMmzSnCW.js";import"./Lists-D7YAiyzi.js";import"./useCrudForm-DpbLGOfs.js";const O={__name:"DropDownMenu",setup(x){const r=s({santri_id:null,nama:""}),u=q();return y(()=>r.value.nama,o=>{o?.length>0&&r.value.santri_id&&u.push("/keamanan/izin-pesantren/santri/"+r.value.santri_id)}),(o,i)=>(Q(),v(U,{color:"green-10",label:"Filter By","no-caps":"",class:"text-green-11 q-px-md",dense:""},{default:e(()=>[a(R,null,{default:e(()=>[a(A,{class:"q-pa-sm"},{default:e(()=>[a(E,null,{default:e(()=>[a(M,null,{default:e(()=>[a(k,{flat:"",style:{width:"250px"}},{default:e(()=>[a(d,{class:"no-padding text-subtitle1"},{default:e(()=>[...i[1]||(i[1]=[B(" Filter by Santri ID ",-1)])]),_:1}),a(d,{class:"no-padding"},{default:e(()=>[a(G,{class:"q-mt-sm","active-only":!1,onEmitInput:i[0]||(i[0]=m=>Object.assign(r.value,m)),data:{}})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},K=["innerHTML"],ja={__name:"IzinByDate",setup(x){const r=s([{}]),u=s(!1),o=V(),i=s({}),m=s(""),f={startDate:o.params.startDate||0,endDate:o.params.endDate||0},c=s(f.startDate),_=s(f.endDate),p=s(!1);function w(t){i.value=t}j(async()=>{if(D(c.value)&&D(_.value)){const t=await H({endPoint:"izin-pesantren",loading:u,params:{start_date:c.value,end_date:_.value}});r.value=t.izin_pesantren}});const S=[{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"data_akhir",label:"Data Akhir",align:"left",field:"data_akhir",sortable:!0},{name:"pengajuan",label:"Sifat | Durasi | Pengajuan",align:"left",field:t=>`${t.sifat??""} ${t.durasi?" | "+t.durasi+" hari":""} ${t.pengajuan?" | "+t.pengajuan:""} `,sortable:!0},{name:"dari_tgl",label:"Dari",align:"left",field:"dari_tgl",sortable:!0},{name:"sampai_tgl",label:"Sampai",align:"left",field:"sampai_tgl",sortable:!0},{name:"status",label:"Status",align:"left",field:"status",sortable:!0},{name:"alamat",label:"Alamat",align:"left",field:"alamat_pendek",sortable:!0,classes:"alamat"}];return(t,n)=>{const $=g("CardHeader"),C=g("CardPage");return Q(),v(C,null,{default:e(()=>[a($,{title:"Data Izin Pesantren","show-reload":!1}),a(d,{class:"q-pa-sm"},{default:e(()=>[a(L,{showBulanUjian:!0,"start-url":"/keamanan/izin-pesantren",onDataFilter:w},{default:e(()=>[a(O)]),_:1}),a(k,{class:"q-mt-sm",flat:"",bordered:""},{default:e(()=>[a(d,{class:"bg-green-7 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:e(()=>[b("span",{innerHTML:i.value.display||""},null,8,K),a(I),a(P,{dense:"",icon:"add",label:"Baru","no-caps":"",color:"green-11 q-px-md",class:"text-green-10",onClick:n[0]||(n[0]=l=>p.value=!0)})]),_:1}),a(F,{class:"dt q-pa-sm",rows:r.value,columns:S,loading:u.value,filter:m.value,"rows-per-page-options":[10,25,50,75,100,0],"no-data-label":"Silakan tentukan filter tanggal!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"name",flat:"",onRowClick:n[2]||(n[2]=(l,z,W)=>t.$router.push(`/keamanan/izin-pesantren/${z.id}`))},{"top-left":e(()=>[...n[5]||(n[5]=[b("div",{class:"text-subtitle1 text-green-10"},"Data Perizinan",-1)])]),"top-right":e(()=>[a(N,{outlined:"",dense:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":n[1]||(n[1]=l=>m.value=l),placeholder:"Cari"},{append:e(()=>[a(T,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","loading","filter"])]),_:1})]),_:1}),a(h,{modelValue:p.value,"onUpdate:modelValue":n[4]||(n[4]=l=>p.value=l)},{default:e(()=>[a(J,{data:{},onSuccessDelete:l=>null,onSuccessSubmit:n[3]||(n[3]=l=>t.$router.push(`/keamanan/izin-pesantren/${l.id}`))})]),_:1},8,["modelValue"])]),_:1})}}};export{ja as default};

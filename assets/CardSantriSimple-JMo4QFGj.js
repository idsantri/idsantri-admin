import{Q as S}from"./QSpace-DJeipgZa.js";import{x as k,ac as b,c as n,o as a,w as s,b as t,n as Q,p as h,f as _,g as f,v as d,s as w}from"./index-Bf-p91mW.js";import{Q as o}from"./QSkeleton-DEYFlc1v.js";import{Q as N}from"./QImg-DJapb2Ub.js";import{Q as C,a as p}from"./QItemSection-Bl4rOme3.js";import{Q as y}from"./QItemLabel-sjS6zLD0.js";import{Q as B}from"./QList-51Eu5HNp.js";import{a as q}from"./api-get-CiRdORW1.js";import{s as u}from"./santri-store-Bj24Fsef.js";const I={key:1},D={key:1},E={key:1},$={__name:"CardSantriSimple",props:{id:{type:[Number,String],validator(e){if(typeof e=="number")return!isNaN(e);if(typeof e=="string"){const c=Number(e);return!isNaN(c)}return!1}}},emits:["loaded"],setup(e,{emit:c}){const x=c,m=e,r=k(!1),i=k({}),v=async()=>{const l=await q({endPoint:"santri/"+m.id,loading:r});l&&(i.value=l.santri,u().setSantri(l.santri),u().setOrtu(l.ortu),u().setWali(l.wali))};return b(async()=>{if(m.id){const l=u().getSantri;l.id==m.id?i.value=l:await v(),x("loaded",i.value)}}),(l,g)=>(a(),n(w,{bordered:"",flat:""},{default:s(()=>[t(Q,{class:"q-pa-sm text-subtitle2 bg-green-11 flex items-center"},{default:s(()=>[g[0]||(g[0]=h(" Data Santri ",-1)),t(S),t(_,{icon:"sync",dense:"",outline:"",size:"sm",class:"q-px-sm",onClick:v})]),_:1}),t(Q,{class:"q-pa-sm"},{default:s(()=>[t(B,null,{default:s(()=>[t(C,{class:"no-padding"},{default:s(()=>[t(p,{avatar:""},{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"",class:"full-width full-height"})):(a(),n(N,{key:1,src:i.value?.image_url||"/user-default.png",ratio:3/4,alt:"santri"},null,8,["src"]))]),_:1}),t(p,null,{default:s(()=>[t(y,{overline:""},{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"text"})):(a(),f("div",I,d(i.value.nama?.toUpperCase())+" ("+d(i.value.id)+") ",1))]),_:1}),t(y,null,{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"text"})):(a(),f("div",D,d(i.value.data_akhir),1))]),_:1}),t(y,{caption:""},{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"text"})):(a(),f("div",E,d(i.value.alamat_pendek),1))]),_:1})]),_:1}),t(p,{avatar:""},{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"QBtn",class:"full-width"})):(a(),n(_,{key:1,round:"",dense:"",glossy:"",icon:"info","no-caps":"",class:"q-px-sm bg-green-8 text-green-11",to:`/santri/${i.value.id}`},null,8,["to"]))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{$ as _};

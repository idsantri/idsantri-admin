import{Q as D,a as v,_ as J,b as h}from"./CarouselAlamat-CXbay-wC.js";import{ax as B,a7 as w,b as x,o as p,a as f,g as t,a8 as m,F as U,q as c,E as g,c as b,w as n,ae as O,f as H,G as I,Q as y,l as M}from"./index-Bkz6XSPf.js";import{Q as T}from"./QForm-CPsB8QV8.js";import{Q as $}from"./QSelect-X5wEylKW.js";import{_}from"./InputSelectArray-Y5Qp4AcK.js";import{U as E}from"./UgtPjgt-Pvqa1m9O.js";import{u as G}from"./useCrudForm-CAJdQ05c.js";const z={__name:"PjgtIdentity",props:B({isNew:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const a=w(i,"modelValue");return(u,l)=>(p(),x(U,null,[l[5]||(l[5]=f("div",{class:"text-subtitle2"},"Identitas Diri",-1)),t(m,{dense:"",class:"q-my-sm",outlined:"",label:"ID",modelValue:a.value.id,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.id=e),disable:"",hint:"Diisi otomatis oleh sistem"},null,8,["modelValue"]),t(m,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Nama*",modelValue:a.value.nama,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.nama=e),rules:[e=>!!e||"Harus diisi!",e=>e?.length>=5||"Setidaknya 5 huruf!"],"error-color":"negative",autocapitalize:"words"},null,8,["modelValue","rules"]),t($,{dense:"",hint:a.value.sex=="L"?"Laki-Laki":a.value.sex=="P"?"Perempuan":"",class:"q-my-sm",outlined:"",label:"Jenis Kelamin",modelValue:a.value.sex,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.sex=e),options:["L","P"],"emit-value":"","map-options":"","error-color":"negative",behavior:"menu"},null,8,["hint","modelValue"]),t(_,{modelValue:a.value.jenis_lembaga,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.jenis_lembaga=e),url:"jenis-lembaga-pendidikan",label:"Jenis Lembaga",hint:"",class:"q-my-sm"},null,8,["modelValue"]),t(m,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Nama Lembaga",modelValue:a.value.nama_lembaga,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.nama_lembaga=e),rules:[e=>!!e||"Harus diisi!"],"error-color":"negative",autocapitalize:"words"},null,8,["modelValue","rules"])],64))}},A={__name:"PjgtOthers",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(i){const a=w(i,"modelValue");return(u,l)=>(p(),x(U,null,[l[3]||(l[3]=f("div",{class:"text-subtitle2"},"Lain-Lain",-1)),t(_,{modelValue:a.value.wilayah,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.wilayah=e),url:"wilayah-ugt",label:"Wilayah PJGT",class:"q-my-sm",hint:""},null,8,["modelValue"]),t(m,{dense:"",hint:"08123456789",class:"q-my-sm",outlined:"",label:"Telepon",modelValue:a.value.telepon,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.telepon=e),rules:[e=>!e||!isNaN(e)||"Hanya angka!"],"error-color":"negative"},null,8,["modelValue","rules"]),t(m,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Email",modelValue:a.value.email,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.email=e)},null,8,["modelValue"])],64))}},K={class:"row justify-center"},ae={__name:"UgtPjgtForm",props:{data:Object},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(i,{emit:a}){const u=i,l=a,e=c({provinsi:"Jawa Timur",...u.data}),d=!u.data?.id,{handleDelete:Q,handleCreate:F,handleUpdate:N,loading:j}=G(E,{emit:l,responseKey:"pjgt"}),q=async()=>{const V=JSON.parse(JSON.stringify(e.value));return d?await F(V,!0):await N(u.data.id,V,!0)},C=async()=>await Q(u.data.id),r=c("identity"),L=[{label:1,value:"identity"},{label:2,value:"alamat"},{label:3,value:"others"}];return(V,o)=>{const k=g("FormHeader"),P=g("FormLoading"),S=g("FormActions");return p(),b(M,{class:"full-width",style:{"max-width":"425px"}},{default:n(()=>[t(T,{onSubmit:O(q,["prevent"])},{default:n(()=>[t(k,{title:"Input Data PJGT","is-new":d}),I(j)?(p(),b(P,{key:0})):H("",!0),t(y,{class:"no-padding"},{default:n(()=>[t(D,{modelValue:r.value,"onUpdate:modelValue":o[3]||(o[3]=s=>r.value=s),"transition-prev":"slide-right","transition-next":"slide-left",animated:"","control-color":"primary",class:"full-width",style:{"min-height":"65vh"},swipeable:"",infinite:""},{default:n(()=>[t(v,{name:"identity",class:"no-wrap flex-center"},{default:n(()=>[t(z,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=s=>e.value=s),"is-new":d},null,8,["modelValue"])]),_:1}),t(v,{name:"alamat",class:"no-wrap flex-center"},{default:n(()=>[t(J,{modelValue:e.value,"onUpdate:modelValue":o[1]||(o[1]=s=>e.value=s)},null,8,["modelValue"])]),_:1}),t(v,{name:"others",class:"no-wrap flex-center"},{default:n(()=>[t(A,{modelValue:e.value,"onUpdate:modelValue":o[2]||(o[2]=s=>e.value=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(y,{class:"q-pa-sm"},{default:n(()=>[f("div",K,[t(h,{"toggle-color":"green-10","text-color":"text-green-11","no-caps":"",glossy:"",modelValue:r.value,"onUpdate:modelValue":o[4]||(o[4]=s=>r.value=s),options:L},null,8,["modelValue"])])]),_:1}),t(S,{"btn-delete":!d,onOnDelete:C},null,8,["btn-delete"])]),_:1})]),_:1})}}};export{ae as _};

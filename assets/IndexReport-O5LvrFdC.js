import{B as n,X as _,C as u,c as y,o as Q,w as o,g as e,Q as c,l as w,y as x,ae as V,a as k,m as P,e as h}from"./index-BSwPLBvN.js";import{Q as q}from"./QSelect-BjGQaI4Q.js";import{Q as B}from"./QEditor-JTa3aQQR.js";import{Q as O}from"./QForm-pLnIPDm5.js";import{a as R}from"./api-get-DLoYpnPD.js";import{a as S}from"./api-post-BOYik2y6.js";import{s as j,a as T}from"./format-text-DnCGEu2I.js";import"./QChip-Br_mmnnr.js";import"./QItemSection-WqxvrlOw.js";import"./QItemLabel-CIOWhTht.js";import"./QMenu-BnIg5_Ug.js";import"./selection-CiLPAPFJ.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./QBtnDropdown-C4ZtMkBn.js";import"./QBtnGroup-CFUVAF62.js";import"./QTooltip-BFgo4EXj.js";import"./use-fullscreen-Ct_nQl4F.js";import"./index-BaAeepf0.js";import"./index-DWKPJyX7.js";import"./api-error-CD6hOSn6.js";const oe={__name:"IndexReport",setup(F){const f=n({}),s=n(!1),g=n([]),i=n(""),r=n("");function b(a){r.value=a?f.value[a]?.footnote:""}async function v(){const a={footnote:r.value};await S({endPoint:`config/reports/${T(i.value)}`,data:a,loading:s})&&await d()}async function d(){const a=await R({endPoint:"config/reports",loading:s});Object.assign(f.value,a.reports);const p=Object.keys(a.reports).map(l=>({label:j(l),value:l}));g.value=p}return _(async()=>{d()}),(a,t)=>{const p=u("CardHeader"),l=u("CardLoading"),C=u("CardPage");return Q(),y(C,null,{default:o(()=>[e(p,{title:"Pengaturan Report (Print Out)",onOnReload:d}),e(c,{class:"q-pa-sm"},{default:o(()=>[e(w,{style:{"max-width":"600px"},flat:"",bordered:""},{default:o(()=>[e(c,{class:"q-pa-sm bg-green-7 text-green-1"},{default:o(()=>[...t[2]||(t[2]=[x(" Input Footnote Report",-1)])]),_:1}),e(O,{onSubmit:V(v,["prevent"])},{default:o(()=>[e(c,{class:"q-pa-sm"},{default:o(()=>[e(q,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=m=>i.value=m),b],dense:"",class:"",outlined:"",label:"Report","emit-value":"","map-options":"",options:g.value,loading:s.value,"use-input":"",clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"]),t[3]||(t[3]=k("div",{class:"text-caption q-mt-md"},"Catatan Kaki",-1)),e(B,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=m=>r.value=m),"min-height":"5rem",class:"q-mt-sm","paragraph-tag":"p",toolbar:[["left","center","right","justify"],["bold","italic","underline"],["hr"],["unordered","ordered","outdent","indent"],["undo","redo"]]},null,8,["modelValue"])]),_:1}),e(P,{align:"right",class:"bg-green-7"},{default:o(()=>[e(h,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1}),e(l,{showing:s.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{oe as default};

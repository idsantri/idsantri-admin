import{A as h,B as u,c as p,o as _,w as d,b as t,ad as F,e as K,C as q,Q as U,a7 as i,y as x}from"./index-Bjf6jOrL.js";import{Q as A}from"./QForm-CQ61mLzh.js";import{_ as D}from"./InputSelectArray-DTVIQacW.js";import{_ as Q}from"./InputSelectTingkatPendidikan-BMK8qvEm.js";import{A as $}from"./ApiCrud-Cz799mD5.js";import{u as j}from"./useCrudForm-D9Qtfi7L.js";import{_ as H}from"./InputSelectTahunAjaran-iRPod9hn.js";class N extends ${constructor(){super("kelas")}async santri(n){return(await this._apiGet({endPoint:`${this._path}/santri/${n}`})).data}}const S=new N,z={__name:"KelasForm",props:{data:{type:Object,required:!0}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(m,{emit:n}){const l=m,c=n,e=h({...l.data}),o=!l.data?.id,{handleDelete:v,handleCreate:f,handleUpdate:b,loading:k}=j(S,{emit:c,responseKey:"kelas"}),V=async()=>{const r={santri_id:e.value.santri_id,th_ajaran_h:e.value.th_ajaran_h,tingkat_id:e.value.tingkat_id,kelas:e.value.kelas,no_absen:e.value.no_absen,keterangan:e.value.keterangan};return o?await f(r,!0):await b(l.data.id,r,!0)},y=async()=>await v(l.data.id);return(r,s)=>{const g=u("FormHeader"),w=u("FormLoading"),C=u("FormActions");return _(),p(x,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[t(A,{onSubmit:F(V,["prevent"])},{default:d(()=>[t(g,{title:"Input Kelas","is-new":o}),q(k)?(_(),p(w,{key:0})):K("",!0),t(U,null,{default:d(()=>[t(i,{dense:"",outlined:"",label:"Nama","model-value":e.value?.nama+" ("+e.value?.santri_id+")",disable:"",filled:"",class:"q-my-sm"},null,8,["model-value"]),t(H,{modelValue:e.value.th_ajaran_h,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value.th_ajaran_h=a),rules:[a=>!!a||"Harus diisi!"],class:"q-my-sm"},null,8,["modelValue","rules"]),t(Q,{modelValue:e.value.tingkat_id,"onUpdate:modelValue":s[1]||(s[1]=a=>e.value.tingkat_id=a),class:"q-my-sm",rules:[a=>!!a||"Harus diisi!"]},null,8,["modelValue","rules"]),t(D,{modelValue:e.value.kelas,"onUpdate:modelValue":s[2]||(s[2]=a=>e.value.kelas=a),url:"kelas",label:"Kelas *",rules:[a=>!!a||"Harus diisi!"],class:"q-my-sm"},null,8,["modelValue","rules"]),t(i,{dense:"",class:"q-my-sm",outlined:"",label:"Nomor Absen",modelValue:e.value.no_absen,"onUpdate:modelValue":s[3]||(s[3]=a=>e.value.no_absen=a),type:"number"},null,8,["modelValue"]),t(i,{dense:"",class:"q-my-sm",outlined:"",label:"Keterangan",modelValue:e.value.keterangan,"onUpdate:modelValue":s[4]||(s[4]=a=>e.value.keterangan=a),autogrow:""},null,8,["modelValue"])]),_:1}),t(C,{"btn-delete":!o,onOnDelete:y},null,8,["btn-delete"])]),_:1})]),_:1})}}};export{S as K,z as _};

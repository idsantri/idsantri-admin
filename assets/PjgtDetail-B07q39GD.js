import{Q as j}from"./QToolbarTitle-Bi6rSosy.js";import{a7 as G,x as d,R as P,c as x,o as r,w as e,q as a,b as l,s as S,n as p,p as i,f as Q,g as m,v as s,z as B,F as I,t as L,B as T}from"./index-Bf-p91mW.js";import{Q as $}from"./QToolbar-CUFZpZSE.js";import{Q as D}from"./QSpinnerCube-CRIto8Mg.js";import{Q as E}from"./QMarkupTable-BU6ysEzR.js";import{Q as g}from"./QItemLabel-sjS6zLD0.js";import{Q as N,a as c}from"./QItemSection-Bl4rOme3.js";import{Q as U}from"./QList-51Eu5HNp.js";import{Q as z}from"./QPage-DbeGPrD5.js";import{a as V}from"./api-get-CiRdORW1.js";import{f as A}from"./format-text-BhuG3ucy.js";import{_ as F}from"./PjgtForm-CCPUYYgV.js";import{_ as M}from"./GtCrud-hhRmMfO5.js";import"./index-D7WC_quC.js";import"./index-BtaF3-6r.js";import"./api-error-C0HjZ2a3.js";import"./CarouselAlamat-B35cFH5A.js";import"./use-panel-CFhv5Wp3.js";import"./touch-BjYP5sR0.js";import"./selection-CE9S_xiH.js";import"./use-fullscreen-CrpeCgX1.js";import"./QBtnGroup-BDP931ZD.js";import"./alamat-store-DfLxYoUf.js";import"./Alamat-CB9A-ZV7.js";import"./ApiCrud-SVFtkNw7.js";import"./QBtnDropdown-Br6y2eVM.js";import"./QMenu-BvL1IfNl.js";import"./QSelect-Co09SqkM.js";import"./QChip-DeZPZCXp.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./ClosePopup-HTVnKVBl.js";import"./QForm-OmDQHoiq.js";import"./InputSelectArray-Jz4ksDX6.js";import"./lists-store-F5P_xNBX.js";import"./lists-data-mcTvx2m2.js";import"./DropDownAfter-wYSCUu7Z.js";import"./Lists-DSwT9YX9.js";import"./QSpace-DJeipgZa.js";import"./api-post-CHcQycZS.js";import"./api-update-BYe6B3v5.js";import"./api-delete-BVHfd1pG.js";import"./loading-store-BlK5tqaZ.js";import"./FormHeader-5vDnmT1F.js";import"./InputSelectSantriId-Dr_LO5a7.js";import"./Santri-BlBn6n9Q.js";const R={class:"row",style:{"max-width":"1200px"}},J={class:"col-12 col-md-6 q-pt-sm"},W={key:0},H={key:1},K={class:"col-12 col-md-6 q-pt-sm"},O={key:0},X={key:1},Y={key:0,class:"text-center text-negative bg-red-1"},Wt={__name:"PjgtDetail",setup(Z){const k=G().params.id,_=d(!1),q=d(!1),o=d({}),f=d([]),v=d(!1),b=d(!1);async function y(){const u=await V({endPoint:`ugt/pjgt/${k}`,loading:_});o.value=u.pjgt}async function w(){const u=await V({endPoint:"ugt/gt",loading:q,params:{pjgt_id:k}});f.value=u.gt}return P(async()=>{await y(),await w()}),(u,t)=>(r(),x(z,null,{default:e(()=>[a("div",R,[a("div",J,[l(S,{class:"q-mx-sm"},{default:e(()=>[l(p,{class:"bg-green-8 no-padding"},{default:e(()=>[l($,{class:"no-padding no-margin"},{default:e(()=>[l(j,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:e(()=>[...t[8]||(t[8]=[i(" Data PJGT ",-1)])]),_:1}),l(Q,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Edit","no-caps":"",icon:"edit",color:"green-2",onClick:t[0]||(t[0]=n=>v.value=!0)})]),_:1})]),_:1}),l(p,{class:"q-pa-sm"},{default:e(()=>[_.value?(r(),m("div",W,[l(D,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):(r(),m("div",H,[l(E,{flat:"",class:"text-green-10"},{default:e(()=>[a("tbody",null,[a("tr",null,[t[9]||(t[9]=a("td",null,"ID",-1)),a("td",null,s(o.value.id),1)]),a("tr",null,[t[10]||(t[10]=a("td",null,"Nama",-1)),a("td",null,s(o.value.nama?.toUpperCase()),1)]),a("tr",null,[t[11]||(t[11]=a("td",null,"Lembaga",-1)),a("td",null,s(o.value.jenis_lembaga)+" "+s(o.value.nama_lembaga),1)]),a("tr",null,[t[12]||(t[12]=a("td",null,"Wilayah",-1)),a("td",null,s(o.value.wilayah),1)]),a("tr",null,[t[13]||(t[13]=a("td",null,"Alamat",-1)),a("td",null,s(B(A)(o.value.jl,o.value.rt,o.value.rw,o.value.desa,o.value.kecamatan,o.value.kabupaten,o.value.provinsi,o.value.kode_pos)),1)]),a("tr",null,[t[14]||(t[14]=a("td",null,"Telepon",-1)),a("td",null,s(o.value.telepon),1)]),a("tr",null,[t[15]||(t[15]=a("td",null,"Email",-1)),a("td",null,s(o.value.email),1)])])]),_:1})]))]),_:1})]),_:1})]),a("div",K,[l(S,{class:"q-mx-sm"},{default:e(()=>[l(p,{class:"bg-green-8 no-padding"},{default:e(()=>[l($,{class:"no-padding no-margin"},{default:e(()=>[l(j,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:e(()=>[...t[16]||(t[16]=[i(" Data GT ",-1)])]),_:1}),l(Q,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Tambah","no-caps":"",icon:"add",color:"green-2",onClick:t[1]||(t[1]=n=>b.value=!0)})]),_:1})]),_:1}),l(p,{class:"q-pa-sm"},{default:e(()=>[q.value?(r(),m("div",O,[l(D,{color:"green-12",size:"8em",class:"flex q-ma-md q-mx-auto"})])):(r(),m("div",X,[f.value.length?(r(),x(U,{key:1,bordered:"",separator:""},{default:e(()=>[(r(!0),m(I,null,L(f.value,(n,C)=>(r(),x(N,{key:C},{default:e(()=>[l(c,null,{default:e(()=>[l(g,{overline:""},{default:e(()=>[i(s(n.th_ajaran_h),1)]),_:2},1024),l(g,{caption:""},{default:e(()=>[a("em",null,[t[18]||(t[18]=i(" GT ID: ",-1)),a("strong",null,s(n.id),1),t[19]||(t[19]=i("; Santri ID: ",-1)),a("strong",null,s(n.santri_id),1)])]),_:2},1024),l(g,null,{default:e(()=>[i(s(n.nama?.toUpperCase()),1)]),_:2},1024),l(g,{caption:""},{default:e(()=>[i(" Telepon: "+s(n.telepon||"-")+"; Email: "+s(n.email||"-"),1)]),_:2},1024)]),_:2},1024),l(c,{avatar:""},{default:e(()=>[l(Q,{class:"bg-green-11",icon:"info",glossy:"",round:"",outline:"",to:`/ugt/gt/${n.id}`},null,8,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(r(),m("div",Y,[...t[17]||(t[17]=[a("p",{class:"no-margin q-pa-md"}," Tidak ada data untuk ditampilkan! ",-1)])]))]))]),_:1})]),_:1})])]),l(T,{persistent:"",modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=n=>v.value=n)},{default:e(()=>[l(F,{"is-new":!1,data:o.value,onSuccessSubmit:t[2]||(t[2]=n=>y()),onSuccessDelete:t[3]||(t[3]=n=>u.$router.go(-1))},null,8,["data"])]),_:1},8,["modelValue"]),l(T,{persistent:"",modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=n=>b.value=n)},{default:e(()=>[l(M,{"is-new":!0,data:{pjgt_id:o.value.id,pjgt_nama:o.value.nama,pjgt_wilayah:o.value.wilayah},onSuccessSubmit:t[5]||(t[5]=n=>w()),onSuccessDelete:t[6]||(t[6]=n=>u.$router.go(-1))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}};export{Wt as default};

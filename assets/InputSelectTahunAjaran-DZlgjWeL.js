import{Q as b}from"./QSelect-DNJsugZb.js";import{l as S}from"./lists-store-11MsQNSk.js";import{_ as V}from"./DropDownAfter-RHUW-wI2.js";import{L as B}from"./Lists-C2wzKE7K.js";import{bi as w,a8 as k,q as f,A as x,ap as R,s as T,c as p,o as d,w as v,f as _,v as j,t as A}from"./index-DEh4UAKk.js";const i="tahun-ajaran",N={__name:"InputSelectTahunAjaran",props:w({sort:{type:String,default:()=>"desc"},btnSetting:{type:Boolean,default:!0},bottomSlots:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a,{expose:y}){const o=k(a,"modelValue"),c=a,u=f(!1),l=f([]),r=S(),s=i.replace(/-/g,"_"),h=x(()=>o.value?l.value?.find(n=>n?.val0===o.value)?.val1:"Pilih Tahun Ajaran"),t=R("selectRef");y({focus:()=>{t.value&&t.value.focus()},showPopup:()=>{t.value&&t.value.showPopup()}}),T(async()=>{const e=r.getStateByKey(s,c.sort);e.length?l.value=e:(await m(),l.value=r.getStateByKey(s,c.sort))});async function m(){try{u.value=!0;const e=await B.getByKey(i);r.$patch({[s]:e[s]})}catch(e){console.log("error get list ",e)}finally{u.value=!1}}return(e,n)=>(d(),p(b,{dense:"",outlined:"",label:"Tahun Ajaran *","emit-value":"","map-options":"","option-value":"val0","option-label":"val0",options:l.value,loading:u.value,behavior:"menu",clearable:"",modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=g=>o.value=g),"bottom-slots":a.bottomSlots,ref_key:"selectRef",ref:t},{hint:v(()=>[j(A(h.value),1)]),after:v(()=>[a.btnSetting?(d(),p(V,{key:0,"route-to":i,onReload:m})):_("",!0)]),_:1},8,["options","loading","modelValue","bottom-slots"]))}};export{N as _};

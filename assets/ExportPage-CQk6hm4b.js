import{a2 as v,v as d,R as w,f as _,o,w as s,i as e,q as b,Q as u,j as Q,k as c,r as m,F as q,s as y,bD as C,m as V,p as B}from"./index-1h6WQa8x.js";import{Q as h}from"./QPage-B_WVg178.js";import{a as p}from"./api-get-BY6mtHh6.js";import{l as E}from"./loading-store-De2ZIFfx.js";import{n as P}from"./index-_Ec9HkD1.js";import"./index-CpzetzrR.js";import"./api-error-B2Y93K9w.js";const S={class:"row"},A={__name:"ExportPage",setup(D){const{loadingMain:l}=v(E()),r=d([]),n=d([]);async function f(){const t=await p({endPoint:"status/lists",loading:l});r.value=t.status}w(async()=>{await f()});async function g(){const t=await p({endPoint:"export/santri",loading:l,params:{status:n.value}});if(!t)return;if(!t.url)return P("Url tidak ditemukan");const a=document.createElement("a");a.href=t.url,a.click(),a.remove()}return(t,a)=>(o(),_(h,{class:"q-pa-sm"},{default:s(()=>[e(b,{style:{"max-width":"600px"}},{default:s(()=>[e(u,{class:"bg-green-8 text-green-11 text-subtitle1 q-pa-sm"},{default:s(()=>[...a[1]||(a[1]=[Q(" Ekspor Data Santri ",-1)])]),_:1}),e(u,{class:"q-pa-sm"},{default:s(()=>[a[2]||(a[2]=c("h2",{class:"text-subtitle1 text-italic q-pl-md"}," Tentukan status akhir santri yang ingin didownload ",-1)),c("div",S,[(o(!0),m(q,null,y(r.value,(i,k)=>(o(),m("div",{key:k,class:"col-6"},[e(C,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=x=>n.value=x),val:i,label:i},null,8,["modelValue","val","label"])]))),128))])]),_:1}),e(V,{align:"right",class:"bg-green-6 q-pa-sm"},{default:s(()=>[e(B,{label:"Unduh","no-caps":"",class:"q-px-md",outline:"",color:"green-11",icon:"file_download",onClick:g})]),_:1})]),_:1})]),_:1}))}};export{A as default};

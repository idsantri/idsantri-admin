import{B as u,ac as C,X as T,aw as q,C as $,c as m,o as r,w as l,g as e,a as s,Q as b,e as _,y as p,b as B,F as V,A as D,aj as I,D as n,t as i,H as L,l as R}from"./index-BxW-Zl0Y.js";import{Q as j,a as F}from"./QToolbar-CQT746vW.js";import{Q as N}from"./QSpace-CkzNRsZ2.js";import{Q as z,a as w}from"./QItemSection-Bb15NIFh.js";import{Q as A}from"./QList-50wBOg-c.js";import{a as H}from"./api-get-Voz9MJxZ.js";import{b as M}from"./format-date-DlwYCgkJ.js";import{a as P,m as U}from"./hijri--5qD4USW.js";import{h as E}from"./tahun-ajaran-Dhryo64N.js";import{_ as G}from"./IndisiplinerForm-BOBJp6sd.js";const K={class:"relative-position"},X={class:"flex"},la={__name:"IndisiplinerRiwayat",props:{santri_id:{required:!0}},setup(k){const d=k,o=u([]),v=u(!1),g=u(!1),y=u({}),{params:Q}=C();T(async()=>{d.santri_id?await f(d.santri_id):o.value=[]}),q(async()=>{d.santri_id?await f(d.santri_id):o.value=[]});async function f(c){const a=await H({endPoint:"indisipliner",params:{santri_id:c},loading:v});a.indisipliner&&(o.value=a.indisipliner,y.value={santri_id:a.santri.id,nama:a.santri.nama,data_akhir:a.santri.data_akhir})}return(c,a)=>{const S=$("CardLoading");return r(),m(R,{flat:"",bordered:"",class:""},{default:l(()=>[e(b,{class:"bg-green-7 no-padding"},{default:l(()=>[e(j,{class:"no-padding no-margin"},{default:l(()=>[e(_,{icon:"sync","no-caps":"",onClick:a[0]||(a[0]=t=>f(k.santri_id)),flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),e(F,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:l(()=>[...a[4]||(a[4]=[p(" Riwayat Indisipliner ",-1)])]),_:1}),e(_,{color:"green-11",outline:"",dense:"","no-caps":"",icon:"add",label:"Tambah",class:"q-mr-sm q-px-md",onClick:a[1]||(a[1]=t=>g.value=!0)})]),_:1})]),_:1}),s("div",K,[o.value?.length?(r(),m(b,{key:1,class:"q-pa-sm"},{default:l(()=>[e(A,{separator:"",bordered:""},{default:l(()=>[(r(!0),B(V,null,D(o.value,(t,x)=>(r(),m(z,{key:x,class:I([t.id==n(Q).id?"bg-green-1":"","q-pa-sm"])},{default:l(()=>[e(w,null,{default:l(()=>[s("table",null,[s("tbody",null,[s("tr",null,[a[6]||(a[6]=s("td",{class:"label"},"Tanggal Sidang:",-1)),s("td",X,[p(i(n(M)(t.tgl_sidang)+" | "+n(P)(t.tgl_sidang))+" ",1),e(N),p(" "+i(n(E)(n(U)(t.tgl_sidang))),1)])]),s("tr",null,[a[7]||(a[7]=s("td",{class:"label"},"Pasal",-1)),s("td",null,i(t.no_pasal),1)]),s("tr",null,[a[8]||(a[8]=s("td",{class:"label"},"Kategori",-1)),s("td",null,i(t.kategori_text),1)]),s("tr",null,[a[9]||(a[9]=s("td",{class:"label"},"Sanksi",-1)),s("td",null,i(t.takzir),1)])])])]),_:2},1024),e(w,{side:"",class:"no-padding"},{default:l(()=>[e(_,{disable:t.id==n(Q).id,icon:"info",glossy:"",dense:"",round:"",outline:"",color:"green",to:`/keamanan/indisipliner/${t.id}`},null,8,["disable","to"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})):(r(),m(b,{key:0,class:"text-italic text-center q-pa-lg"},{default:l(()=>[...a[5]||(a[5]=[p(" Tidak ada untuk ditampilkan ",-1)])]),_:1})),e(S,{showing:v.value},null,8,["showing"])]),e(L,{modelValue:g.value,"onUpdate:modelValue":a[3]||(a[3]=t=>g.value=t)},{default:l(()=>[e(G,{data:y.value,onSuccessDelete:t=>null,onSuccessSubmit:a[2]||(a[2]=t=>c.$router.push(`/keamanan/indisipliner/${t.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}};export{la as _};

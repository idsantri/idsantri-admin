import{a6 as V,a7 as h,v as l,r as q,o as x,k as f,n as _,a8 as Q,i as a,a4 as n,w as i,_ as v,p as b,Q as A,q as C,Z as P,F as S}from"./index-1h6WQa8x.js";import{Q as U}from"./QSpinnerCube-CdFtSnRz.js";import{a as B}from"./index-CpzetzrR.js";import{t as M}from"./array-object-BytDdNh7.js";import{b as R}from"./index-_Ec9HkD1.js";const z={class:""},T={class:"q-gutter-y-md column"},$={__name:"ResetPage",emits:["title","errors"],setup(E,{emit:g}){const s=g;s("title","Reset Password"),s("errors",[]);const w=V(),{query:y}=h(),u=l(""),d=l(""),m=l(""),p=l(!1),t=l(!0),c=l(y.token),k=async()=>{s("errors",[]);try{p.value=!0;const r=await B.post("reset-password",{token:c.value,email:u.value,password:d.value,password_confirmation:m.value});await R(r.data.message,0),w.push({name:"Login"})}catch(r){s("errors",M(r.response?.data?.message||"Terjadi sebuah kesalahan"))}finally{p.value=!1}};return(r,e)=>(x(),q(S,null,[f("div",z,[f("form",{onSubmit:Q(k,["prevent"])},[f("div",T,[a(n,{"bg-color":"green-1",outlined:"",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),required:"",label:"Token",placeholder:"Masukkan token!",hint:"Token yang Anda dapatkan dari email/surel",autocomplete:"off"},null,8,["modelValue"]),a(n,{"bg-color":"green-1",outlined:"",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),type:"email",required:"",label:"Email/Surel",placeholder:"Masukkan email/surel!",autocomplete:"off"},null,8,["modelValue"]),a(n,{"bg-color":"green-1",outlined:"",modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=o=>d.value=o),type:t.value?"password":"text",required:"",label:"Password",placeholder:"Masukkan password!",autocapitalize:"none",autocomplete:"off",autocorrect:"off",readonly:"",onfocus:"this.removeAttribute('readonly');",onblur:"this.setAttribute('readonly','true');"},{append:i(()=>[a(v,{name:t.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[2]||(e[2]=o=>t.value=!t.value)},null,8,["name"])]),_:1},8,["modelValue","type"]),a(n,{"bg-color":"green-1",round:"",outlined:"",modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=o=>m.value=o),type:t.value?"password":"text",required:"",label:"Konfirmasi Password",placeholder:"Ulangi password!",autocapitalize:"none",autocomplete:"off",autocorrect:"off",readonly:"",onfocus:"this.removeAttribute('readonly');",onblur:"this.setAttribute('readonly','true');"},{append:i(()=>[a(v,{name:t.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[4]||(e[4]=o=>t.value=!t.value)},null,8,["name"])]),_:1},8,["modelValue","type"]),a(b,{type:"submit",class:"full-width q-pa-sm text-green-10",color:"green-3",label:"Ganti Password"}),a(C,{class:"my-card",flat:""},{default:i(()=>[a(A,{class:"text-green-10 text-center bg-green-2 q-pa-sm"},{default:i(()=>[a(b,{outline:"",color:"green-10",class:"full-width text-weight-regular","no-caps":"",to:"/login",label:"Kembali ke halaman Login"})]),_:1})]),_:1})])],32)]),_(a(U,{color:"green-12",size:"14em",class:"absolute-center"},null,512),[[P,p.value]])],64))}};export{$ as default};

import{A as r,W as h,B as m,c as w,o as i,w as l,b as e,y as x,a as d,Q as y,f as p,F as C,z as b,bG as Q,k as B,g as q}from"./index-Bjf6jOrL.js";import{Q as S}from"./QPage-CdhCNm0R.js";import{a as V}from"./api-get-SNzLoUbu.js";import{n as E}from"./index-BRCx2Z00.js";import{S as L}from"./Status-KwGOxe2X.js";import"./index-DV84x6RN.js";import"./api-error-C_UMNjEa.js";import"./ApiCrud-Cz799mD5.js";import"./Api-v4AqqFFf.js";const P={class:"relative-position"},U={class:"row"},R={__name:"ExportPage",setup(A){const n=r([]),o=r([]),s=r(!1);async function u(){try{n.value=[],s.value=!0;const t=await L.lists();n.value=t.status}catch{console.log("error get list status")}finally{s.value=!1}}h(async()=>{await u()});async function f(){const t=await V({endPoint:"export/santri",loading:s,params:{status:o.value}});if(!t)return;if(!t.url)return E("Url tidak ditemukan");const a=document.createElement("a");a.href=t.url,a.click(),a.remove()}return(t,a)=>{const g=m("CardHeader"),v=m("CardLoading");return i(),w(S,{class:"q-pa-sm"},{default:l(()=>[e(x,{style:{"max-width":"600px"}},{default:l(()=>[e(g,{title:"Ekspor Data Santri",onOnReload:u}),d("div",P,[e(y,{class:"q-pa-sm",style:{"min-height":"200px"}},{default:l(()=>[a[1]||(a[1]=d("h2",{class:"text-subtitle1 text-italic q-pl-md"}," Tentukan status akhir santri yang ingin didownload ",-1)),d("div",U,[(i(!0),p(C,null,b(n.value,(c,_)=>(i(),p("div",{key:_,class:"col-6"},[e(Q,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=k=>o.value=k),val:c,label:c},null,8,["modelValue","val","label"])]))),128))])]),_:1}),e(B,{align:"right",class:"bg-green-6 q-pa-sm"},{default:l(()=>[e(q,{disable:!o.value.length||s.value,label:"Unduh","no-caps":"",class:"q-px-md",outline:"",color:"green-11",icon:"file_download",onClick:f},null,8,["disable"])]),_:1}),e(v,{showing:s.value},null,8,["showing"])])]),_:1})]),_:1})}}};export{R as default};

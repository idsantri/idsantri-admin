import{Q as w}from"./QSpace-BYMtWShY.js";import{ac as x,ab as b,a8 as h,A as m,q as W,W as q,c as y,o as C,w as i,b as t,y as Q,Q as c,a as e,g as d}from"./index-0PBDf7I0.js";import{Q as $}from"./QPage-B2JjDCGV.js";import{f as D}from"./format-date-DlwYCgkJ.js";import{_ as B}from"./CardColumn-CMOvZTMP.js";import{_ as I}from"./CardSantriLists-D9DXsXTV.js";import{w as r}from"./wali-store-9aWTK9qS.js";import{f as S}from"./format-text-DnCGEu2I.js";import{d as A}from"./dialog-store-CMavKrro.js";import{W as N}from"./Wali-DjN12Kl_.js";import"./id-BuNGTsqN.js";import"./QSpinnerCube-Dxm5aSBA.js";import"./QImg-BtLhfr-G.js";import"./QItemSection-DpSW8XO7.js";import"./QItemLabel-DR97WW3U.js";import"./QList-BR1VLd4M.js";import"./ApiCrud-CgUuq5zB.js";import"./Api--YdEMrhi.js";import"./index-BDNa_dSq.js";import"./index-BXLuJznK.js";import"./api-error-C1WPqECD.js";const j={class:"flex items-center"},K={class:"row",style:{"max-width":"1024px"}},R={class:"col-12 col-md-6 q-pa-sm"},z={class:"col-12 col-md-6 q-pa-sm"},ma={__name:"WaliDetail",setup(E){const{wali:a}=x(r()),u=b().params.id,p=A(),{searchWali:v,crudWali:f}=h(p),n=m([]),s=m(!1);async function _(){r().$reset();try{s.value=!0;const l=await N.getById({id:u});l&&(r().setWali(l.wali),n.value=a.value.santri)}catch{}finally{s.value=!1}}const g=W(()=>({ID:a.value.id,Nama:`${a.value.nama?.toUpperCase()} (${a.value.sex.toUpperCase()})`,NIK:a.value.nik||"-",Alamat:S(a.value.jl,a.value.rt,a.value.rw,a.value.desa,a.value.kecamatan,a.value.kabupaten,a.value.provinsi,a.value.kode_pos),Kelahiran:`${a.value.tmp_lahir||"-"}, ${D(a.value.tgl_lahir)}`,Pekerjaan:a.value.pekerjaan||"-",Kontak:(a.value.telepon||"-")+"; "+(a.value.email||"-")}));q(async()=>{await _()});function k(){r().setEdit(),f.value=!0}return(l,o)=>(C(),y($,{class:"q-pa-sm"},{default:i(()=>[t(Q,{class:""},{default:i(()=>[t(c,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:i(()=>[e("div",j,[o[1]||(o[1]=e("div",{class:"text-subtitle1"},"Data Wali",-1)),t(w),t(d,{label:"Cari",onClick:o[0]||(o[0]=U=>v.value=!0),size:"sm",color:"green-2",class:"text-green-10 q-mr-sm",icon:"search"}),t(d,{"no-caps":"",size:"sm",color:"green-2",class:"text-green-10",icon:"edit",label:"Edit",onClick:k})])]),_:1}),t(c,{class:"no-padding"},{default:i(()=>[e("div",K,[e("div",R,[t(B,{data:g.value,loading:s.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"])]),e("div",z,[t(I,{data:n.value,loading:s.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})]),_:1}))}};export{ma as default};

import{Q as h}from"./QSpace-DIvX2TzF.js";import{A as p,c as k,o as _,w as u,b as a,f as B,e as $,bG as J,F as T,y as z,t as K,z as Z,g as V,B as D,ab as C,C as A,Q as S,a5 as x,x as q,U as W,E as U,J as j}from"./index-DwrbA0R8.js";import{Q as R}from"./QPage-BU8r9xHl.js";import{a as H}from"./alamat-store-BXopniBE.js";import{a as O}from"./api-get-D4W4lze7.js";import{a as I,Q as X}from"./QTable-BIqFScuN.js";import{Q as G}from"./QTr-R9A0HBj-.js";import{Q as M}from"./QTd-CWnMEFGa.js";import{Q as P}from"./QForm-DCEv1Ikv.js";import{A as Q}from"./Alamat-BP-Cvxjf.js";import{u as E}from"./useCrudForm-DF0rM6hG.js";import{n as L}from"./index-BlZcD66n.js";import"./index-B6LiMDVO.js";import"./api-error-DGWaEiw1.js";import"./QList-Cc6jCv1k.js";import"./QMarkupTable-DzcRgr6j.js";import"./QSelect-CrgZ1FsI.js";import"./QChip-DvUCR8tL.js";import"./QItemSection-CeSY4hvW.js";import"./QItemLabel-Dzdetwv2.js";import"./QMenu-BEnErdhw.js";import"./selection-DRCgFU0J.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-C-VxiWHj.js";import"./Api-DWdZFNbG.js";import"./ApiCrud-KwrbSuI8.js";const Y={key:0,class:"text-center"},N={__name:"TableAlamat",props:{rows:{type:Array},columns:{type:Array},loading:{type:Boolean,default:()=>!1},noCheckBox:{type:Boolean,default:()=>!1}},setup(v){const r=p([]);return(s,m)=>(_(),k(X,{flat:"",bordered:"",rows:v.rows,columns:v.columns,"row-key":"id",selection:"single",selected:r.value,"onUpdate:selected":m[1]||(m[1]=n=>r.value=n),"rows-per-page-options":[0],"virtual-scroll":"",style:{height:"75vh"},loading:v.loading},{header:u(n=>[a(G,{props:n},{default:u(()=>[v.noCheckBox?$("",!0):(_(),k(I,{key:0,class:"text-center"},{default:u(()=>[...m[2]||(m[2]=[K("!",-1)])]),_:1})),(_(!0),B(T,null,z(n.cols,o=>(_(),k(I,{key:o.name,props:n},{default:u(()=>[K(Z(o.label),1)]),_:2},1032,["props"]))),128)),a(I,{class:"text-center"},{default:u(()=>[...m[3]||(m[3]=[K("!",-1)])]),_:1})]),_:2},1032,["props"])]),body:u(n=>[a(G,{props:n},{default:u(()=>[v.noCheckBox?$("",!0):(_(),B("td",Y,[a(J,{modelValue:n.selected,"onUpdate:modelValue":[o=>n.selected=o,m[0]||(m[0]=o=>s.$emit("onSelect",r.value[0]))],dense:"","checked-icon":"sym_o_check_circle","unchecked-icon":"sym_o_radio_button_unchecked"},null,8,["modelValue","onUpdate:modelValue"])])),(_(!0),B(T,null,z(n.cols,o=>(_(),k(M,{key:o.name,props:n},{default:u(()=>[K(Z(o.value),1)]),_:2},1032,["props"]))),128)),a(M,{class:"text-center"},{default:u(()=>[a(V,{icon:"edit",dense:"",color:"green-10",outline:"",onClick:o=>s.$emit("onEdit",n.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","selected","loading"]))}},ee={__name:"AlamatProvinsiForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(v,{emit:r}){const s=v,m=r,n=p({...s.data}),o=!s.data?.id,{handleDelete:f,handleCreate:d,handleUpdate:b,loading:g}=E(Q.Provinsi,{emit:m,responseKey:"provinsi"}),w=async t=>{const e=new FormData(t.target),i=Object.fromEntries(e.entries());return o?await d(i,!0):await b(s.data.id,i,!0)},c=async()=>await f(s.data.id);return(t,e)=>{const i=D("FormHeader"),y=D("FormLoading"),F=D("FormActions");return _(),k(q,{class:"full-width",style:{"max-width":"425px"}},{default:u(()=>[a(P,{onSubmit:C(w,["prevent"])},{default:u(()=>[a(i,{title:"Input Provinsi","is-new":o}),A(g)?(_(),k(y,{key:0})):$("",!0),a(S,null,{default:u(()=>[a(x,{modelValue:n.value.id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.id=l),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Provinsi",rules:[l=>!!l||"Harus diisi!",l=>/^[a-zA-Z0-9]+$/.test(l)||"Harus berisi huruf atau angka!"]},null,8,["modelValue","rules"]),a(x,{modelValue:n.value.provinsi,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.provinsi=l),name:"provinsi",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Provinsi",rules:[l=>!!l||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),a(F,{"btn-delete":!o,onOnDelete:c},null,8,["btn-delete"])]),_:1})]),_:1})}}},ae={__name:"DataProvinsi",setup(v){const r=p([]),s=p(!1),m=p({}),n=p(!1),o=H();async function f(){r.value=[];const c=o.getProvinsi();c?.length>0?r.value=c:await d()}async function d(){const c=await O({endPoint:"alamat/provinsi",loading:s});c&&c.provinsi&&(o.setProvinsi(c.provinsi),r.value=o.getProvinsi())}function b(){m.value={},n.value=!0}function g(c){m.value=c,n.value=!0}W(async()=>{await f()});const w=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0},{name:"provinsi",align:"left",label:"Provinsi",field:"provinsi",sortable:!0}];return(c,t)=>(_(),k(q,null,{default:u(()=>[a(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:u(()=>[t[2]||(t[2]=K(" Provinsi ",-1)),a(h),a(V,{onClick:d,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),a(V,{onClick:b,icon:"add",round:"",dense:"",flat:""})]),_:1}),a(N,{rows:r.value,columns:w,loading:s.value,onOnSelect:t[0]||(t[0]=e=>c.$emit("onSelect",e)),onOnEdit:g},null,8,["rows","loading"]),a(U,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e)},{default:u(()=>[a(ee,{data:m.value,onSuccessDelete:d,onSuccessSubmit:d},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},te={__name:"AlamatKabupatenForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(v,{emit:r}){const s=v,m=r,n=p({...s.data}),o=!s.data?.id,{handleDelete:f,handleCreate:d,handleUpdate:b,loading:g}=E(Q.Kabupaten,{emit:m,responseKey:"kabupaten"}),w=async t=>{const e=new FormData(t.target),i=Object.fromEntries(e.entries());return o?await d(i,!0):await b(s.data.id,i,!0)},c=async()=>await f(s.data.id);return(t,e)=>{const i=D("FormHeader"),y=D("FormLoading"),F=D("FormActions");return _(),k(q,{class:"full-width",style:{"max-width":"425px"}},{default:u(()=>[a(P,{onSubmit:C(w,["prevent"])},{default:u(()=>[a(i,{title:"Input Kabupaten/Kota","is-new":o}),A(g)?(_(),k(y,{key:0})):$("",!0),a(S,null,{default:u(()=>[a(x,{modelValue:n.value.provinsi_id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.provinsi_id=l),name:"provinsi_id",dense:"",class:"",outlined:"",required:"",label:"Kode Provinsi",rules:[l=>!!l||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),a(x,{modelValue:n.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.id=l),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kabupaten/Kota",rules:[l=>!!l||"Harus diisi!",l=>/^[a-zA-Z0-9]+$/.test(l)||"Harus berisi huruf atau angka!"]},null,8,["modelValue","rules"]),a(x,{modelValue:n.value.kabupaten,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.kabupaten=l),name:"kabupaten",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Kabupaten/Kota",rules:[l=>!!l||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),a(F,{"btn-delete":!o,onOnDelete:c},null,8,["btn-delete"])]),_:1})]),_:1})}}},ne={__name:"DataKabupaten",props:{provinsi_id:{type:String,required:!0,default:""}},setup(v){const r=v,s=p([]),m=p(!1),n=p({}),o=p(!1),f=H();async function d(){s.value=[];const{provinsi_id:t}=r;if(!t)return;const e=await O({endPoint:"alamat/kabupaten",loading:m,params:{provinsi_id:t}});e&&e.kabupaten&&(f.setKabupaten(e.kabupaten,{provinsi_id:t}),s.value=f.getKabupaten({provinsi_id:t}))}async function b(){s.value=[];const{provinsi_id:t}=r;if(!t)return;const e=f.getKabupaten({provinsi_id:t});e?.length>0?s.value=e:d()}function g(){const{provinsi_id:t}=r;if(!t)return L("Pilih provinsi terlebih dahulu!");n.value={provinsi_id:t},o.value=!0}function w(t){n.value=t,o.value=!0}j(()=>r.provinsi_id,async t=>{await b()});const c=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:t=>`${t.replace(/(\w{2})(\w{2})/,"$1.$2")}`},{name:"kabupaten",align:"left",label:"Kabupaten",field:"kabupaten",sortable:!0}];return(t,e)=>(_(),k(q,null,{default:u(()=>[a(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:u(()=>[e[2]||(e[2]=K(" Kabupaten/Kota ",-1)),a(h),a(V,{onClick:d,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),a(V,{onClick:g,icon:"add",round:"",dense:"",flat:""})]),_:1}),a(N,{rows:s.value,columns:c,loading:m.value,onOnSelect:e[0]||(e[0]=i=>t.$emit("onSelect",i)),onOnEdit:w},null,8,["rows","loading"]),a(U,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=i=>o.value=i)},{default:u(()=>[a(te,{data:n.value,onSuccessDelete:d,onSuccessSubmit:d},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},le={__name:"AlamatKecamatanForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(v,{emit:r}){const s=v,m=r,n=p({...s.data}),o=!s.data?.id,{handleDelete:f,handleCreate:d,handleUpdate:b,loading:g}=E(Q.Kecamatan,{emit:m,responseKey:"kecamatan"}),w=async t=>{const e=new FormData(t.target),i=Object.fromEntries(e.entries());return o?await d(i,!0):await b(s.data.id,i,!0)},c=async()=>await f(s.data.id);return(t,e)=>{const i=D("FormHeader"),y=D("FormLoading"),F=D("FormActions");return _(),k(q,{class:"full-width",style:{"max-width":"425px"}},{default:u(()=>[a(P,{onSubmit:C(w,["prevent"])},{default:u(()=>[a(i,{title:"Input Kecamatan/Distrik","is-new":o}),A(g)?(_(),k(y,{key:0})):$("",!0),a(S,null,{default:u(()=>[a(x,{modelValue:n.value.kabupaten_id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.kabupaten_id=l),name:"kabupaten_id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kabupaten/Kota",rules:[l=>!!l||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),a(x,{modelValue:n.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.id=l),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kecamatan/Distrik",rules:[l=>!!l||"Harus diisi!",l=>/^[a-zA-Z0-9]+$/.test(l)||"Harus berisi huruf atau angka!"]},null,8,["modelValue","rules"]),a(x,{modelValue:n.value.kecamatan,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.kecamatan=l),name:"kecamatan",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Kecamatan/Distrik",rules:[l=>!!l||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),a(F,{"btn-delete":!o,onOnDelete:c},null,8,["btn-delete"])]),_:1})]),_:1})}}},se={__name:"DataKecamatan",props:{provinsi_id:{type:String,required:!0,default:""},kabupaten_id:{type:String,required:!0,default:""}},setup(v){const r=v,s=p([]),m=p(!1),n=p({}),o=p(!1),f=H();async function d(){s.value=[];const{provinsi_id:t,kabupaten_id:e}=r;if(!e||!t)return;const i=await O({endPoint:"alamat/kecamatan",loading:m,params:{kabupaten_id:e}});i&&i.kecamatan&&(f.setKecamatan(i.kecamatan,{provinsi_id:t,kabupaten_id:e}),s.value=f.getKecamatan({provinsi_id:t,kabupaten_id:e}))}async function b(){s.value=[];const{provinsi_id:t,kabupaten_id:e}=r;if(!e||!t)return;const i=f.getKecamatan({provinsi_id:t,kabupaten_id:e});i?.length>0?s.value=i:await d()}function g(){const{kabupaten_id:t}=r;if(!t)return L("Pilih kabupaten terlebih dahulu!");n.value={kabupaten_id:t},o.value=!0}function w(t){n.value=t,o.value=!0}j(()=>r.kabupaten_id,async t=>{await b()});const c=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:t=>`${t.replace(/(\w{2})(\w{2})(\w{2})/,"$1.$2.$3")}`},{name:"kecamatan",align:"left",label:"Kecamatan",field:"kecamatan",sortable:!0}];return(t,e)=>(_(),k(q,null,{default:u(()=>[a(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:u(()=>[e[2]||(e[2]=K(" Kecamatan/Distrik ",-1)),a(h),a(V,{onClick:d,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),a(V,{onClick:g,icon:"add",round:"",dense:"",flat:""})]),_:1}),a(N,{rows:s.value,columns:c,loading:m.value,onOnSelect:e[0]||(e[0]=i=>t.$emit("onSelect",i)),onOnEdit:w},null,8,["rows","loading"]),a(U,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=i=>o.value=i)},{default:u(()=>[a(le,{data:n.value,onSuccessDelete:d,onSuccessSubmit:d},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},oe={__name:"AlamatDesaForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(v,{emit:r}){const s=v,m=r,n=p({...s.data}),o=!s.data?.id,{handleDelete:f,handleCreate:d,handleUpdate:b,loading:g}=E(Q.Desa,{emit:m,responseKey:"desa"}),w=async t=>{const e=new FormData(t.target),i=Object.fromEntries(e.entries());return o?await d(i,!0):await b(s.data.id,i,!0)},c=async()=>await f(s.data.id);return(t,e)=>{const i=D("FormHeader"),y=D("FormLoading"),F=D("FormActions");return _(),k(q,{class:"full-width",style:{"max-width":"425px"}},{default:u(()=>[a(P,{onSubmit:C(w,["prevent"])},{default:u(()=>[a(i,{title:"Input Desa/Kelurahan","is-new":o}),A(g)?(_(),k(y,{key:0})):$("",!0),a(S,null,{default:u(()=>[a(x,{modelValue:n.value.kecamatan_id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value.kecamatan_id=l),name:"kecamatan_id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kecamatan/Distrik",rules:[l=>!!l||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),a(x,{modelValue:n.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.id=l),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Desa/Kelurahan",rules:[l=>!!l||"Harus diisi!",l=>/^[a-zA-Z0-9]+$/.test(l)||"Harus berisi huruf atau angka!"]},null,8,["modelValue","rules"]),a(x,{modelValue:n.value.desa,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.desa=l),name:"desa",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Desa/Kelurahan",rules:[l=>!!l||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),a(F,{"btn-delete":!o,onOnDelete:c},null,8,["btn-delete"])]),_:1})]),_:1})}}},ie={__name:"DataDesa",props:{provinsi_id:{type:String,required:!0,default:""},kabupaten_id:{type:String,required:!0,default:""},kecamatan_id:{type:String,required:!0,default:""}},setup(v){const r=v,s=p([]),m=p(!1),n=p({}),o=p(!1),f=H();async function d(){s.value=[];const{provinsi_id:t,kabupaten_id:e,kecamatan_id:i}=r;if(!e||!t||!i)return;const y=await O({endPoint:"alamat/desa",loading:m,params:{kecamatan_id:i}});y&&y.desa&&(f.setDesa(y.desa,{provinsi_id:t,kabupaten_id:e,kecamatan_id:i}),s.value=f.getDesa({provinsi_id:t,kabupaten_id:e,kecamatan_id:i}))}async function b(){s.value=[];const{provinsi_id:t,kabupaten_id:e,kecamatan_id:i}=r;if(!e||!t||!i)return;const y=f.getDesa({provinsi_id:t,kabupaten_id:e,kecamatan_id:i});y?.length>0?s.value=y:await d()}function g(){const{kecamatan_id:t}=r;if(!t)return L("Pilih kecamatan terlebih dahulu!");n.value={kecamatan_id:t},o.value=!0}function w(t){n.value=t,o.value=!0}j(()=>r.kecamatan_id,async t=>{await b()});const c=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:t=>`${t.replace(/(\w{2})(\w{2})(\w{2})(\w{4})/,"$1.$2.$3.$4")}`},{name:"desa",align:"left",label:"Desa",field:"desa",sortable:!0}];return(t,e)=>(_(),k(q,null,{default:u(()=>[a(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:u(()=>[e[1]||(e[1]=K(" Desa/Kelurahan ",-1)),a(h),a(V,{onClick:d,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),a(V,{onClick:g,icon:"add",round:"",dense:"",flat:""})]),_:1}),a(N,{rows:s.value,columns:c,loading:m.value,onOnSelect:i=>null,"no-check-box":!0,onOnEdit:w},null,8,["rows","loading"]),a(U,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i)},{default:u(()=>[a(oe,{data:n.value,onSuccessDelete:d,onSuccessSubmit:d},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},Oe={__name:"IndexAlamat",setup(v){const r=p(""),s=p(""),m=p("");function n(d){r.value=d?.id??"",s.value="",m.value=""}function o(d){s.value=d?.id??"",m.value=""}function f(d){m.value=d?.id??""}return(d,b)=>(_(),k(R,{class:"q-pa-sm"},{default:u(()=>[a(q,null,{default:u(()=>[a(S,{class:"q-pa-sm bg-green-8 text-green-11 text-subtitle1 flex"},{default:u(()=>[b[1]||(b[1]=K(" Pengaturan Alamat ",-1)),a(h),a(V,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:b[0]||(b[0]=g=>d.$router.go(-1))})]),_:1}),a(S,{class:"no-padding full-width row no-wrap justify-start items-start content-start scroll"},{default:u(()=>[a(ae,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:n}),a(ne,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:o,provinsi_id:r.value},null,8,["provinsi_id"]),a(se,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:f,provinsi_id:r.value,kabupaten_id:s.value},null,8,["provinsi_id","kabupaten_id"]),a(ie,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},provinsi_id:r.value,kabupaten_id:s.value,kecamatan_id:m.value},null,8,["provinsi_id","kabupaten_id","kecamatan_id"])]),_:1})]),_:1})]),_:1}))}};export{Oe as default};

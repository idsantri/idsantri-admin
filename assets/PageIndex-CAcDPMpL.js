import{Q as x}from"./QSpace-OvxDtHbc.js";import{q as i,ac as k,s as y,b as h,o as q,g as e,w as r,Q as c,a as t,e as _,a8 as Q,p as j,t as m,G as u,l as w}from"./index-Bkz6XSPf.js";import{Q as T}from"./QTable-DuvYVsst.js";import{a as C}from"./api-get-BoU5d32S.js";import{s as L,a as D,b as I}from"./utils-CiaEZYac.js";import{c as N}from"./format-date-OVhbBx9F.js";import{_ as R}from"./FilterTahunAjaran-DTR74oZ-.js";import"./QList-8BJ_Gm-X.js";import"./QMarkupTable-RyaIAQHL.js";import"./QSelect-X5wEylKW.js";import"./QChip-BWgVl7e4.js";import"./QItem-DAPZANTm.js";import"./QItemLabel-C0DUft5a.js";import"./QMenu-CKEodDpc.js";import"./selection-DCm7aXbF.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-DiDW3Txq.js";import"./index-BufLKWja.js";import"./index-DyvwFpe1.js";import"./api-error-BQhZ1pcH.js";import"./id-BuNGTsqN.js";import"./QToolbar-Dz8khjL9.js";import"./InputSelectArray-Y5Qp4AcK.js";import"./lists-store-ChNLXBZR.js";import"./ArrayCrud-CkcA-ixF.js";import"./DropDownAfter-DI2Ml56N.js";import"./QBtnDropdown-Bc72I29m.js";import"./QBtnGroup-HtAuMq4H.js";import"./ClosePopup-JgzjxCBV.js";import"./Lists-BMrkkBIy.js";import"./ApiCrud-DoLEPT0m.js";import"./Api-EAAlvjat.js";const B=["innerHTML"],M={class:""},S={class:""},V={class:""},xa={__name:"PageIndex",setup($){const p=i({}),l=i([]),d=i(!1),{params:f}=k(),o=i("");async function g(){const n=await C({endPoint:"iuran",loading:d,params:{th_ajaran_h:f.thAjaranH}});n&&(l.value=n.iuran)}y(async()=>{f.thAjaranH?await g():l.value=[]});const v=[{name:"th_ajaran_h",label:"Tahun Ajaran",align:"left",field:"th_ajaran_h",sortable:!0},{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"item",label:"Iuran",align:"left",field:"item",sortable:!0},{name:"nominal",label:"Nominal",align:"right",field:"nominal",format:n=>`${n.toRupiah()}`,sortable:!0},{name:"lunas",label:"Lunas",align:"left",field:n=>n.lunas?N(n.lunas,"yyyy-MM-dd"):"Belum dibayar",sortable:!0},{name:"kasir",label:"Penerima",align:"left",field:"kasir",sortable:!0}];return(n,a)=>(q(),h("div",null,[e(R,{"start-url":"/iuran/th-ajaran",onDataFilter:a[0]||(a[0]=s=>p.value=s),bordered:"",flat:""}),e(w,{class:"q-mt-sm",bordered:"",flat:""},{default:r(()=>[e(c,{class:"bg-green-8 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:r(()=>[t("span",{innerHTML:p.value.display||""},null,8,B),e(x),e(_,{dense:"",icon:"sync",onClick:g,class:"q-px-sm q-mr-sm",flat:""}),e(_,{dense:"",icon:"print",label:"Cetak","no-caps":"",color:"green-11 q-px-md",class:"text-green-10 q-mr-sm",to:"/info/download"})]),_:1}),e(T,{class:"dt q-pa-sm",rows:l.value,loading:d.value,filter:o.value,columns:v,"rows-per-page-options":[10,25,50,75,100,0],"no-data-label":"Silakan tentukan filter tanggal!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"name",flat:"",onRowClick:a[2]||(a[2]=(s,b,A)=>n.$router.push(`/iuran/santri/${b.santri_id}/${b.th_ajaran_h}`))},{"top-left":r(()=>[...a[3]||(a[3]=[t("div",{class:"text-subtitle1 text-green-10"},"Data Iuran",-1)])]),"top-right":r(()=>[e(Q,{outlined:"",dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value=s),placeholder:"Cari",type:"search"},{append:r(()=>[e(j,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","loading","filter"]),e(c,{class:"bg-green-7 text-green-1 text-subtitle1 q-px-sm q-py-xs flex items-center justify-between"},{default:r(()=>[t("div",M,[a[4]||(a[4]=t("em",null,"Estimasi Pendapatan: ",-1)),t("strong",null,m(u(L)(l.value).toRupiah()),1)]),t("div",S,[a[5]||(a[5]=t("em",null,"Total Lunas: ",-1)),t("strong",null,m(u(D)(l.value).toRupiah()),1)]),t("div",V,[a[6]||(a[6]=t("em",null,"Total Tidak Lunas: ",-1)),t("strong",null,m(u(I)(l.value).toRupiah()),1)])]),_:1})]),_:1})]))}};export{xa as default};

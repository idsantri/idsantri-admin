import{Q as v}from"./QSpace-DIvX2TzF.js";import{A as r,U as Q,c as x,o as y,w as s,b as t,x as k,ab as V,Q as c,t as C,g as f,a as w,k as q}from"./index-DwrbA0R8.js";import{Q as S}from"./QSelect-CrgZ1FsI.js";import{Q as P}from"./QEditor-BZzdMaGy.js";import{Q as j}from"./QForm-DCEv1Ikv.js";import{Q as B}from"./QPage-BU8r9xHl.js";import{a as O}from"./api-get-D4W4lze7.js";import{a as T}from"./api-post-D71-L22w.js";import{s as U,a as K}from"./format-text-DnCGEu2I.js";import"./QChip-DvUCR8tL.js";import"./QItemSection-CeSY4hvW.js";import"./QItemLabel-Dzdetwv2.js";import"./QMenu-BEnErdhw.js";import"./selection-DRCgFU0J.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./QBtnDropdown-DqbNLFX1.js";import"./QBtnGroup-CPjXoyXA.js";import"./QTooltip-GQ2JiOg5.js";import"./use-fullscreen-C-VxiWHj.js";import"./index-B6LiMDVO.js";import"./index-BlZcD66n.js";import"./api-error-DGWaEiw1.js";const se={__name:"IndexReport",setup(N){const p=r({}),l=r(!1),m=r([]),i=r(""),n=r("");function b(a){n.value=a?p.value[a]?.footnote:""}async function g(){const a={footnote:n.value};await T({endPoint:`config/reports/${K(i.value)}`,data:a,loading:l})&&await d()}async function d(){const a=await O({endPoint:"config/reports",loading:l});Object.assign(p.value,a.reports);const o=Object.keys(a.reports).map(u=>({label:U(u),value:u}));m.value=o}return Q(async()=>{d()}),(a,e)=>(y(),x(B,{class:"q-pa-sm"},{default:s(()=>[t(k,{style:{"max-width":"600px"}},{default:s(()=>[t(j,{onSubmit:V(g,["prevent"])},{default:s(()=>[t(c,{class:"q-pa-sm bg-green-8 text-green-11 text-subtitle1 flex"},{default:s(()=>[e[3]||(e[3]=C(" Report (Print Out) ",-1)),t(v),t(f,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:e[0]||(e[0]=o=>a.$router.go(-1))})]),_:1}),t(c,{class:"q-pa-sm"},{default:s(()=>[t(S,{modelValue:i.value,"onUpdate:modelValue":[e[1]||(e[1]=o=>i.value=o),b],dense:"",class:"",outlined:"",label:"Report","emit-value":"","map-options":"",options:m.value,loading:l.value,"use-input":"",clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"]),e[4]||(e[4]=w("div",{class:"text-caption q-mt-md"},"Catatan Kaki",-1)),t(P,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=o=>n.value=o),"min-height":"5rem",class:"q-mt-sm","paragraph-tag":"p",toolbar:[["left","center","right","justify"],["bold","italic","underline"],["hr"],["unordered","ordered","outdent","indent"],["undo","redo"]]},null,8,["modelValue"])]),_:1}),t(q,{align:"right",class:"bg-green-7"},{default:s(()=>[t(f,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{se as default};

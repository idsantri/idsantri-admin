import{Q as q}from"./QSpace-DJeipgZa.js";import{a8 as I,a7 as C,a4 as O,x as c,k as n,R as D,c as Q,o as w,w as i,b as a,s as A,n as m,q as e,f as p}from"./index-Bf-p91mW.js";import{Q as B}from"./QPage-DbeGPrD5.js";import{_ as u}from"./CardColumn-CnWjUfn4.js";import{_ as S}from"./CardSantriLists-D6aDMAtK.js";import{o as r}from"./ortu-store-DtNCyWTv.js";import{d as N}from"./dialog-store-Bszvjqv7.js";import{O as R}from"./Ortu-CVHW05z1.js";import"./QSpinnerCube-CRIto8Mg.js";import"./QImg-DJapb2Ub.js";import"./QItemSection-Bl4rOme3.js";import"./QItemLabel-sjS6zLD0.js";import"./QList-51Eu5HNp.js";import"./ApiCrud-SVFtkNw7.js";import"./index-BtaF3-6r.js";import"./index-D7WC_quC.js";import"./api-error-C0HjZ2a3.js";const T={class:"flex items-center"},$={class:"row",style:{"max-width":"1024px"}},z={class:"col-12 col-md-6 q-pa-sm"},E={class:"col-12 col-md-6 q-pa-sm"},la={__name:"OrtuDetail",setup(H){const{ortu:t}=I(r()),v=C().params.id,_=N(),{searchOrtu:f,crudOrtu:g}=O(_),d=c({}),s=c(!1);async function h(){r().$reset();try{s.value=!0;const o=await R.getById({id:v});o&&(r().setOrtu(o.ortu),d.value=t.value.santri)}catch{}finally{s.value=!1}}const b=n(()=>({ID:t.value.id,"Jumlah Anak":t.value.jumlah_anak})),k=n(()=>({Ayah:t.value.ayah?.toUpperCase(),NIK:t.value.a_nik,Hidup:t.value.a_hidup?"Ya":"Tidak"})),x=n(()=>({Ibu:t.value.ibu?.toUpperCase(),NIK:t.value.i_nik,Hidup:t.value.i_hidup?"Ya":"Tidak"}));D(async()=>{await h()});function y(){r().setEdit(),g.value=!0}return(o,l)=>(w(),Q(B,{class:"q-pa-sm"},{default:i(()=>[a(A,{class:""},{default:i(()=>[a(m,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:i(()=>[e("div",T,[l[1]||(l[1]=e("div",{class:"text-subtitle1"},"Data Orang Tua",-1)),a(q),a(p,{label:"Cari",onClick:l[0]||(l[0]=U=>f.value=!0),size:"sm",color:"green-2",class:"text-green-10 q-mr-sm",icon:"search"}),a(p,{"no-caps":"",size:"sm",color:"green-2",class:"text-green-10",icon:"edit",label:"Edit",onClick:y})])]),_:1}),a(m,{class:"no-padding"},{default:i(()=>[e("div",$,[e("div",z,[a(u,{data:b.value,loading:s.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"]),a(u,{data:k.value,loading:s.value,title:"Data Ayah",class:"q-mb-sm"},null,8,["data","loading"]),a(u,{data:x.value,loading:s.value,title:"Data Ibu",class:"q-mb-sm"},null,8,["data","loading"])]),e("div",E,[a(S,{data:d.value,loading:s.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})]),_:1}))}};export{la as default};

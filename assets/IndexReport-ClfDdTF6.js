import{q as u,A as _,s as Q,E as p,c as x,o as V,w as o,g as t,Q as m,l as k,v as w,af as h,a as R,m as q,e as S}from"./index-C_t1p4NN.js";import{Q as O}from"./QSelect-2e6-oRqA.js";import{Q as j}from"./QEditor-BvajDs5W.js";import{Q as B}from"./QForm-DMrn3j5j.js";import{s as P,a as T}from"./format-text-DnCGEu2I.js";import{C as f}from"./ConfigApp-CKbfuDHg.js";import"./QField-CCkVNWU3.js";import"./QChip-CPCbAHHK.js";import"./QItem-C5WCjBq0.js";import"./QItemLabel-Dxu0F0OG.js";import"./QMenu-ChUCWIkk.js";import"./selection-ByLt-niv.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./QBtnDropdown-DPWkXAdX.js";import"./QBtnGroup-CpSjlWJx.js";import"./QTooltip-C5h7I9x5.js";import"./use-fullscreen-ioqI6Hgv.js";import"./Api-DzqIn3h_.js";import"./index-CaYCq6F4.js";import"./index-RcAGpJIm.js";import"./apiPost-CoiXXJZY.js";const re={__name:"IndexReport",setup(A){const l=u({}),r=u(!1),s=u(""),n=u("");function v(e){n.value=e?l.value[e]?.footnote:""}async function g(){try{r.value=!0;const e={footnote:n.value};await f.setReport(e,T(s.value)),l.value[s.value].footnote=n.value}catch(e){console.error("ðŸš€ ~ onSubmit ~ error:",e)}finally{r.value=!1}}async function c(){try{r.value=!0;const e=await f.getReport();l.value=e.reports}catch(e){console.error("ðŸš€ ~ loadData ~ error:",e)}finally{r.value=!1}}const b=_(()=>Object.keys(l.value).map(i=>({label:P(i),value:i})));return Q(async()=>{c()}),(e,a)=>{const i=p("CardHeader"),C=p("CardLoading"),y=p("CardPage");return V(),x(y,null,{default:o(()=>[t(i,{title:"Pengaturan Report (Print Out)",onOnReload:c}),t(m,{class:"q-pa-sm"},{default:o(()=>[t(k,{style:{"max-width":"600px"},flat:"",bordered:""},{default:o(()=>[t(m,{class:"q-pa-sm bg-green-7 text-green-1"},{default:o(()=>[...a[2]||(a[2]=[w(" Input Footnote Report",-1)])]),_:1}),t(B,{onSubmit:h(g,["prevent"])},{default:o(()=>[t(m,{class:"q-pa-sm"},{default:o(()=>[t(O,{modelValue:s.value,"onUpdate:modelValue":[a[0]||(a[0]=d=>s.value=d),v],dense:"",class:"",outlined:"",label:"Report","emit-value":"","map-options":"",options:b.value,loading:r.value,"use-input":"",clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"]),a[3]||(a[3]=R("div",{class:"text-caption q-mt-md"},"Catatan Kaki",-1)),t(j,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=d=>n.value=d),"min-height":"5rem",class:"q-mt-sm","paragraph-tag":"p",toolbar:[["left","center","right","justify"],["bold","italic","underline"],["hr"],["unordered","ordered","outdent","indent"],["undo","redo"]]},null,8,["modelValue"])]),_:1}),t(q,{align:"right",class:"bg-green-7"},{default:o(()=>[t(S,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1}),t(C,{showing:r.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{re as default};

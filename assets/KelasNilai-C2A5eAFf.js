import{Q as c}from"./QTab-DWxugRQi.js";import{Q as F}from"./QSpace-CoisEuyS.js";import{v as h,a7 as N,R as Q,G as z,f,o as d,w as u,i as r,Q as b,p as y,r as _,k as a,j,t as i,F as q,s as w,q as C}from"./index-BOc7y3E3.js";import{Q as R}from"./QTabs-55yMxhUl.js";import{Q as B}from"./QSpinnerCube-clsjI4Wm.js";import{Q as U}from"./QMarkupTable-Dp9ldZmi.js";import{a as V}from"./api-get-DUTCLQ7F.js";import"./QResizeObserver-VQR5g9Vo.js";import"./rtl-DFPa-2ov.js";import"./index-CHOBZr16.js";import"./index-CdkvXyXH.js";import"./api-error-CtGrtfSx.js";const S={key:0},T={key:1},K={class:"text-right"},M={class:"text-right"},D={class:"text-right"},E={class:"text-right"},G={class:"text-left"},H={class:"text-left"},I=["title"],L=["title"],P=["title"],A=["title"],J={title:"Nilai rata-rata",class:"text-right"},O={class:"bg-green-2"},W={class:"text-caption text-weight-bold text-green-10"},X={class:"text-right"},Y={class:"text-right"},Z={class:"text-right"},$={class:"text-right"},aa={class:"text-right"},ta=`Kalkulasi nilai rapor dan ijazah:
â–ªï¸ dengan nilai harian:
 ðŸ”¸(((nilai_ujian + nilai_remedial) * 2) + nilai_harian) / 3 / 10 
â–ªï¸ tanpa nilai harian:
 ðŸ”¸(nilai_ujian + nilai_remedial) / 10

Catatan:
Berlaku standar nilai-minimal rapor dan ijazah.`,xa={__name:"KelasNilai",setup(ea){const t=h("ujian"),k=N(),s=h([{}]),x=h(!1);Q(async()=>{await v(t.value)}),z(t,async o=>{await v(o)});async function v(o){const e=await V({endPoint:"nilai-mapel",loading:x,params:{kelas_id:k.params.id,category:o}});e.nilai&&(s.value=e.nilai)}function n(o,e){let l=0,p=0;if(o?.length){o.forEach(m=>{m[e]!==null&&(l+=parseFloat(m[e]),p++)});const g=l/p;return isNaN(g)?null:g}else return null}return(o,e)=>(d(),f(C,{flat:"",bordered:"",class:"bg-green-1"},{default:u(()=>[r(b,{class:"q-pa-sm"},{default:u(()=>[r(R,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-2 text-green-10",modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value=l)},{default:u(()=>[r(c,{name:"ujian",label:"Ujian"}),r(c,{name:"harian",label:"Harian"}),r(c,{name:"rapor",label:"Rapor"}),r(c,{name:"ijazah",label:"Ijazah"}),r(F),r(y,{icon:"info",flat:"",class:"q-mr-sm",title:ta})]),_:1},8,["modelValue"])]),_:1}),r(b,{class:"q-px-sm q-pb-sm q-pt-none"},{default:u(()=>[x.value?(d(),_("div",S,[r(B,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})])):s.value?.length==0?(d(),_("div",T,[...e[1]||(e[1]=[a("div",{class:"flex flex-center q-pa-lg text-center text-negative text-italic"},[j(" Tidak ada untuk ditampilkan "),a("br"),j("Silakan input nilai terlebih dahulu! ")],-1)])])):(d(),f(U,{key:2,flat:"",bordered:""},{default:u(()=>[a("thead",null,[a("tr",null,[e[2]||(e[2]=a("th",{class:"text-left"},"Kode",-1)),e[3]||(e[3]=a("th",{class:"text-left"},"Mapel",-1)),a("th",K,i(t.value.substring(0,1).toUpperCase()+"-1"),1),a("th",M,i(t.value.substring(0,1).toUpperCase()+"-2"),1),a("th",D,i(t.value.substring(0,1).toUpperCase()+"-3"),1),a("th",E,i(t.value.substring(0,1).toUpperCase()+"-4"),1),e[4]||(e[4]=a("th",{class:"text-right"},"Rerata",-1))])]),a("tbody",null,[(d(!0),_(q,null,w(s.value,(l,p)=>(d(),_("tr",{key:p},[a("td",G,i(l.id),1),a("td",H,i(l.name),1),a("td",{title:"Nilai "+t.value+" pada ujian ke-1",class:"text-right"},i(l.nilai_1),9,I),a("td",{title:"Nilai "+t.value+" pada ujian ke-2",class:"text-right"},i(l.nilai_2),9,L),a("td",{title:"Nilai "+t.value+" pada ujian ke-3",class:"text-right"},i(l.nilai_3),9,P),a("td",{title:"Nilai "+t.value+" pada ujian ke-4",class:"text-right"},i(l.nilai_4),9,A),a("td",J,i(isNaN(l.rerata)||l.rerata==null?null:t.value=="rapor"||t.value=="ijazah"?parseFloat(l.rerata).toFixed(1):parseFloat(l.rerata).toFixed(2)),1)]))),128))]),a("tfoot",O,[a("tr",W,[e[5]||(e[5]=a("td",{colspan:"2"},"Rata-Rata",-1)),a("td",X,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_1")?.toFixed(1):n(s.value,"nilai_1")?.toFixed(2)),1),a("td",Y,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_2")?.toFixed(1):n(s.value,"nilai_2")?.toFixed(2)),1),a("td",Z,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_3")?.toFixed(1):n(s.value,"nilai_3")?.toFixed(2)),1),a("td",$,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_4")?.toFixed(1):n(s.value,"nilai_4")?.toFixed(2)),1),a("td",aa,i(t.value=="rapor"||t.value=="ijazah"?n(s.value,"rerata")?.toFixed(1):n(s.value,"rerata")?.toFixed(2)),1)])])]),_:1}))]),_:1})]),_:1}))}};export{xa as default};

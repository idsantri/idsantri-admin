import{Q as _}from"./QImg-DJapb2Ub.js";import{a7 as h,a6 as w,A as v,x as d,k as x,c as U,o as $,w as t,b as e,s as Q,z as r,n,q as s,f as S,r as y,v as q}from"./index-Bf-p91mW.js";import{Q as C}from"./QPage-DbeGPrD5.js";import{_ as T}from"./ImageUploader-CsjUpCz_.js";import{a as B}from"./index-D7WC_quC.js";import{_ as P}from"./CardHeader-AnL1K4iE.js";import{d as D}from"./index-BtaF3-6r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QSpace-DJeipgZa.js";const L={style:{width:"200px"}},N={class:"text-subtitle1"},p="png",M={__name:"UploadImage",setup(R){const{params:m}=h(),c=w();let a=null;switch(m?.image?.toLocaleLowerCase()){case"stempel":a={label:"Stempel Lembaga",url:"stempel"};break;case"tt-pengasuh":a={label:"Tanda Tangan Pengasuh",url:"tt-pengasuh"};break;case"tt-ketua":a={label:"Tanda Tangan Ketua",url:"tt-ketua"};break;case"tt-sekretaris":a={label:"Tanda Tangan Sekretaris",url:"tt-sekretaris"};break;default:D("Halaman tidak ditemukan"),a={label:"Halaman tidak ditemukan",url:"not-found"},c.push("/settings/profile");break}const f=B.defaults.baseURL.replace(v.END_API,"/assets/"),u=d(Date.now()),l=d(!1),b=i=>l.value=i,g=x(()=>`${f}${a.url}.${p}?timestamp=${u.value}`);async function k(){l.value=!1,u.value=Date.now()}return(i,o)=>($(),U(C,{class:"q-pa-sm"},{default:t(()=>[e(Q,{style:{"max-width":"600px"}},{default:t(()=>[e(P,{title:`Upload ${r(a).label}`,showReload:!1,showBack:!0},null,8,["title"]),e(n,{horizontal:""},{default:t(()=>[e(n,{class:"q-pa-sm"},{default:t(()=>[s("div",L,[e(_,{src:g.value,ratio:1,alt:"user","img-style":{border:"1px",borderColor:"green",borderStyle:"solid"}},null,8,["src"]),e(S,{icon:"upload",label:"Upload","no-caps":"",dense:"",outline:"",class:"full-width q-mt-md",onClick:o[0]||(o[0]=z=>l.value=!0)})])]),_:1}),e(y,{vertical:""}),e(n,{class:"q-pa-sm"},{default:t(()=>[s("div",N,q(r(a).label),1),o[1]||(o[1]=s("ul",{class:"text-italic q-mt-sm"},[s("li",null,"Pastikan gambar sudah transparan"),s("li",null,"Gunakan file dengan ekstensi PNG")],-1))]),_:1})]),_:1})]),_:1}),e(T,{"show-uploader":l.value,url:`/config/profiles/upload/${r(a).url}`,width:200,height:200,"img-format":p,onUpdateUploader:b,onSuccessUpload:k},null,8,["show-uploader","url"])]),_:1}))}};export{M as default};

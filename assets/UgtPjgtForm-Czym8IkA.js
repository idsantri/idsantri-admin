import{Q as D,a as V,_ as B,b as J}from"./CarouselAlamat-nsQS5m7F.js";import{b5 as O,a4 as w,f as x,o as p,a as f,b as t,a5 as m,F as U,A as c,U as h,B as g,c as b,w as n,ab as M,e as H,C as I,Q as y,x as T}from"./index-DwrbA0R8.js";import{Q as $}from"./QForm-DCEv1Ikv.js";import{Q as A}from"./QSelect-CrgZ1FsI.js";import{_}from"./InputSelectArray-DFe88pva.js";import{U as z}from"./UgtPjgt-BHA9cMLM.js";import{u as E}from"./useCrudForm-DF0rM6hG.js";const G={__name:"PjgtIdentity",props:O({isNew:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const a=w(i,"modelValue");return(u,l)=>(p(),x(U,null,[l[5]||(l[5]=f("div",{class:"text-subtitle2"},"Identitas Diri",-1)),t(m,{dense:"",class:"q-my-sm",outlined:"",label:"ID",modelValue:a.value.id,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.id=e),disable:"",hint:"Diisi otomatis oleh sistem"},null,8,["modelValue"]),t(m,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Nama*",modelValue:a.value.nama,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.nama=e),rules:[e=>!!e||"Harus diisi!",e=>e?.length>=5||"Setidaknya 5 huruf!"],"error-color":"negative",autocapitalize:"words"},null,8,["modelValue","rules"]),t(A,{dense:"",hint:a.value.sex=="L"?"Laki-Laki":a.value.sex=="P"?"Perempuan":"",class:"q-my-sm",outlined:"",label:"Jenis Kelamin",modelValue:a.value.sex,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.sex=e),options:["L","P"],"emit-value":"","map-options":"","error-color":"negative",behavior:"menu"},null,8,["hint","modelValue"]),t(_,{modelValue:a.value.jenis_lembaga,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.jenis_lembaga=e),url:"jenis-lembaga-pendidikan",label:"Jenis Lembaga",hint:"",class:"q-my-sm"},null,8,["modelValue"]),t(m,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Nama Lembaga",modelValue:a.value.nama_lembaga,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.nama_lembaga=e),rules:[e=>!!e||"Harus diisi!"],"error-color":"negative",autocapitalize:"words"},null,8,["modelValue","rules"])],64))}},K={__name:"PjgtOthers",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(i){const a=w(i,"modelValue");return(u,l)=>(p(),x(U,null,[l[3]||(l[3]=f("div",{class:"text-subtitle2"},"Lain-Lain",-1)),t(_,{modelValue:a.value.wilayah,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.wilayah=e),url:"wilayah-ugt",label:"Wilayah PJGT",class:"q-my-sm",hint:""},null,8,["modelValue"]),t(m,{dense:"",hint:"08123456789",class:"q-my-sm",outlined:"",label:"Telepon",modelValue:a.value.telepon,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.telepon=e),rules:[e=>!e||!isNaN(e)||"Hanya angka!"],"error-color":"negative"},null,8,["modelValue","rules"]),t(m,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Email",modelValue:a.value.email,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.email=e)},null,8,["modelValue"])],64))}},W={class:"row justify-center"},te={__name:"UgtPjgtForm",props:{data:Object},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(i,{emit:a}){const u=i,l=a,e=c({}),d=!u.data?.id,{handleDelete:Q,handleCreate:j,handleUpdate:C,loading:F}=E(z,{emit:l,responseKey:"pjgt"});h(async()=>{Object.assign(e.value,u.data),e.value.provinsi||(e.value.provinsi="Jawa Timur")});const N=async()=>{const v=JSON.parse(JSON.stringify(e.value));return d?await j(v,!0):await C(u.data.id,v,!0)},L=async()=>await Q(u.data.id),r=c("identity"),k=[{label:1,value:"identity"},{label:2,value:"alamat"},{label:3,value:"others"}];return(v,o)=>{const q=g("FormHeader"),P=g("FormLoading"),S=g("FormActions");return p(),b(T,{class:"full-width",style:{"max-width":"425px"}},{default:n(()=>[t($,{onSubmit:M(N,["prevent"])},{default:n(()=>[t(q,{title:"Input Data PJGT","is-new":d}),I(F)?(p(),b(P,{key:0})):H("",!0),t(y,{class:"no-padding"},{default:n(()=>[t(D,{modelValue:r.value,"onUpdate:modelValue":o[3]||(o[3]=s=>r.value=s),"transition-prev":"slide-right","transition-next":"slide-left",animated:"","control-color":"primary",class:"full-width",style:{height:"60vh"},swipeable:"",infinite:""},{default:n(()=>[t(V,{name:"identity",class:"no-wrap flex-center"},{default:n(()=>[t(G,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=s=>e.value=s),"is-new":d},null,8,["modelValue"])]),_:1}),t(V,{name:"alamat",class:"no-wrap flex-center"},{default:n(()=>[t(B,{modelValue:e.value,"onUpdate:modelValue":o[1]||(o[1]=s=>e.value=s)},null,8,["modelValue"])]),_:1}),t(V,{name:"others",class:"no-wrap flex-center"},{default:n(()=>[t(K,{modelValue:e.value,"onUpdate:modelValue":o[2]||(o[2]=s=>e.value=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(y,{class:"q-pa-sm"},{default:n(()=>[f("div",W,[t(J,{"toggle-color":"green-10","text-color":"text-green-11","no-caps":"",glossy:"",modelValue:r.value,"onUpdate:modelValue":o[4]||(o[4]=s=>r.value=s),options:k},null,8,["modelValue"])])]),_:1}),t(S,{"btn-delete":!d,onOnDelete:L},null,8,["btn-delete"])]),_:1})]),_:1})}}};export{te as _};

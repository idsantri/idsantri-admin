import{q as i,ab as B,N as V,c as Q,o as x,w as e,g as a,l as w,Q as u,v as h,ac as N,s as T,E as b,e as v,a as k,a8 as A,p as F,J as H}from"./index-BD0rPuwI.js";import{Q as L}from"./QSpace-5xN-RTD3.js";import{Q as M}from"./QTable-24OscB3R.js";import{i as D,b as E}from"./format-date-DlwYCgkJ.js";import{_ as P}from"./FilterTanggal-CI3Ao_UO.js";import{Q as R}from"./QItemLabel-D6C2_kLw.js";import{Q as U,a as j}from"./QItemSection-IwpTB_GG.js";import{Q as J}from"./QList-BEPgv0aR.js";import{Q as K}from"./QBtnDropdown-C1QKmXiE.js";import{_ as O}from"./InputSelectSantriId-DbY6aM65.js";import{_ as z}from"./IndisiplinerForm-B2FW4F3w.js";import{I as G}from"./Indisipliner-Dr1heVMH.js";import"./QMarkupTable-DP4P_6d8.js";import"./QSelect-CYTXzFFA.js";import"./QChip-CZ2DfYuE.js";import"./QMenu-Bb-0PlhQ.js";import"./selection-D1mjVW1G.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-D6Rd3ynI.js";import"./id-BuNGTsqN.js";import"./QToolbar-DtZkS60q.js";import"./index-Bt3cYzg4.js";import"./QBtnGroup-PW693_0R.js";import"./Santri-D4LM7LTo.js";import"./ApiCrud-C6ys5aHm.js";import"./Api-CkWZCpKy.js";import"./index-n6Dqaau9.js";import"./api-error-DI2-xNds.js";import"./QRating-B9TyVLd7.js";import"./QForm-Bxs8j-wD.js";import"./hijri--5qD4USW.js";import"./format-number-B34ySHL_.js";import"./lists-store-h_cLlXO2.js";import"./ArrayCrud-CkcA-ixF.js";import"./DropDownAfter-DARN8D_I.js";import"./ClosePopup-CCVUmZVV.js";import"./Lists-Brk1_KEv.js";import"./InputSelectArray-C3_iyAte.js";import"./useCrudForm-DmdwiqlE.js";const W={__name:"DropDownMenu",setup(S){const r=i({santri_id:null,nama:""}),o=B();return V(()=>r.value.nama,m=>{m?.length>0&&r.value.santri_id&&o.push("/keamanan/indisipliner/santri/"+r.value.santri_id)}),(m,s)=>(x(),Q(K,{color:"green-10",label:"Filter By","no-caps":"",class:"text-green-11 q-px-md",dense:""},{default:e(()=>[a(J,null,{default:e(()=>[a(U,{class:"q-pa-sm"},{default:e(()=>[a(j,null,{default:e(()=>[a(R,null,{default:e(()=>[a(w,{flat:"",style:{width:"250px"}},{default:e(()=>[a(u,{class:"no-padding text-subtitle1"},{default:e(()=>[...s[1]||(s[1]=[h(" Filter by Santri ID ",-1)])]),_:1}),a(u,{class:"no-padding"},{default:e(()=>[a(O,{class:"q-mt-sm","active-only":!1,onEmitInput:s[0]||(s[0]=d=>Object.assign(r.value,d)),data:{}})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},X=["innerHTML"],Ma={__name:"IndisiplinerByDate",setup(S){const r=i([{}]),o=i(!1),m=N(),s=i({}),d=i(""),c={startDate:m.params.startDate||0,endDate:m.params.endDate||0},_=i(c.startDate),g=i(c.endDate),f=i(!1);function y(l){s.value=l}async function I(l,t){try{o.value=!0;const p=await G.getAll({params:{start_date:l,end_date:t}});r.value=p.indisipliner}catch(p){console.log("ðŸš€ ~ loadData ~ error:",p)}finally{o.value=!1}}T(async()=>{D(_.value)&&D(g.value)&&await I(_.value,g.value)});const C=[{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"kategori",label:"Kategori",align:"left",field:"kategori_text",sortable:!0},{name:"tgl_sidang",label:"Sidang",align:"left",field:l=>E(l.tgl_sidang),sortable:!0},{name:"no_pasal",label:"Pasal",align:"left",field:"no_pasal",sortable:!0},{name:"data_akhir",label:"Data Akhir",align:"left",field:"data_akhir",sortable:!0},{name:"alamat",label:"Alamat",align:"left",field:"alamat_pendek",sortable:!0,classes:"alamat"}];return(l,t)=>{const p=b("CardHeader"),q=b("CardPage");return x(),Q(q,null,{default:e(()=>[a(p,{title:"Data Santri Indisipliner","show-reload":!1},{buttons:e(()=>[a(v,{dense:"",icon:"sym_o_bar_chart",label:"Statistik","no-caps":"",class:"q-px-sm",outline:"",to:"/keamanan/indisipliner/statistik"})]),_:1}),a(u,{class:"q-pa-sm"},{default:e(()=>[a(P,{showBulanUjian:!0,"start-url":"/keamanan/indisipliner",onDataFilter:y},{default:e(()=>[a(W)]),_:1}),a(w,{class:"q-mt-sm",flat:"",bordered:""},{default:e(()=>[a(u,{class:"bg-green-7 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:e(()=>[k("span",{innerHTML:s.value.display||""},null,8,X),a(L),a(v,{dense:"",icon:"add",label:"Baru","no-caps":"",color:"green-11 q-px-md",class:"text-green-10",onClick:t[0]||(t[0]=n=>f.value=!0)})]),_:1}),a(M,{class:"dt q-pa-sm",rows:r.value,columns:C,loading:o.value,filter:d.value,"rows-per-page-options":[10,25,50,75,100,0],"no-data-label":"Silakan tentukan filter tanggal!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"name",flat:"",onRowClick:t[2]||(t[2]=(n,$,Y)=>l.$router.push(`/keamanan/indisipliner/${$.id}`))},{"top-left":e(()=>[...t[5]||(t[5]=[k("div",{class:"text-subtitle1 text-green-10"},"Data Indisipliner",-1)])]),"top-right":e(()=>[a(A,{outlined:"",dense:"",debounce:"300",modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=n=>d.value=n),placeholder:"Cari"},{append:e(()=>[a(F,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","loading","filter"])]),_:1})]),_:1}),a(H,{modelValue:f.value,"onUpdate:modelValue":t[4]||(t[4]=n=>f.value=n)},{default:e(()=>[a(z,{data:{},onSuccessDelete:n=>null,onSuccessSubmit:t[3]||(t[3]=n=>l.$router.push(`/keamanan/indisipliner/${n.id}`))})]),_:1},8,["modelValue"])]),_:1})}}};export{Ma as default};

import{q as m,ac as b,ab as _,s as w,c as g,o as y,w as t,g as n,v as i,t as e,a8 as $,p as v,a as h}from"./index-BZpYNzr9.js";import{Q as r}from"./QTd-BhVxHExH.js";import{Q as T}from"./QTr-CkAYPsZ7.js";import{Q as x}from"./QTable-C6T4wZ1C.js";import{a as Q}from"./api-get-BBMogrQv.js";import"./QList-B5QKCTe7.js";import"./QMarkupTable-BKkBeQvl.js";import"./QSelect-04we3Rrx.js";import"./QChip-BBs20mA3.js";import"./QItemSection-B7VNnIY5.js";import"./QItemLabel-BCjLbdsg.js";import"./QMenu-DO0vWl3t.js";import"./selection-a5U4oYIq.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-C_OXH9m4.js";import"./index-CJVqrZrv.js";import"./index-DZmCiZRw.js";import"./api-error-VFSTLYv0.js";const H={__name:"ContentTable",setup(C){const f=m(!1),{params:s}=b(),k=_(),d=m([]),u=m("");function c(l){k.push(`/madrasah/kelas/${l.id}/riwayat`)}w(async()=>{if(s.th_ajaran_h&&s.tingkat_id){s.kelas||delete s.kelas;const o=(await Q({endPoint:"kelas",params:s,loading:f})).murid.map(a=>({...a,alamat:`${a.desa} ${a.kecamatan} ${a.kabupaten}`,alamat_lengkap:`${a.jl} ${a.desa} ${a.kecamatan} ${a.kabupaten} ${a.provinsi}`}));d.value=o}else d.value=[]});const p=[{name:"id",label:"ID Kelas",align:"left",field:"id",sortable:!0},{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"alamat",label:"Alamat",align:"left",field:"alamat",sortable:!0,classes:"alamat"},{name:"pendidikan",label:"Kelas - Tingkat - Absen",align:"left",field:l=>`${l.kelas} ${l.tingkat_id}
			${l.no_absen?" ("+("0"+l.no_absen).slice(-2)+")":""}`,sortable:!0},{name:"wali",label:"Wali",align:"left",field:"wali_nama",sortable:!0},{name:"ortu",label:"Orang Tua",align:"left",field:l=>`${l.ayah} | ${l.ibu}`,sortable:!0}];return(l,o)=>(y(),g(x,{rows:d.value,columns:p,loading:f.value,"rows-per-page-options":[10,25,50,75,100,0],class:"dt",filter:u.value,"no-data-label":"Silakan tentukan Tahun ajaran dan tingkat pendidikan!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"id",flat:""},{"top-left":t(()=>[...o[1]||(o[1]=[h("div",{class:"text-subtitle1 text-green-10"},"Data Murid",-1)])]),"top-right":t(()=>[n($,{outlined:"",dense:"",debounce:"300",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=a=>u.value=a),placeholder:"Cari"},{append:t(()=>[n(v,{name:"search"})]),_:1},8,["modelValue"])]),body:t(a=>[n(T,{props:a,onClick:V=>c(a.row),style:{cursor:"pointer"}},{default:t(()=>[n(r,{key:"id",props:a},{default:t(()=>[i(e(a.row.id),1)]),_:2},1032,["props"]),n(r,{key:"id",props:a},{default:t(()=>[i(e(a.row.santri_id),1)]),_:2},1032,["props"]),n(r,{key:"nama",props:a},{default:t(()=>[i(e(a.row.nama)+" ("+e(a.row.sex)+") ",1)]),_:2},1032,["props"]),n(r,{key:"alamat",props:a,title:a.row.alamat_lengkap},{default:t(()=>[i(e(a.row.alamat.length>30?a.row.alamat.substr(0,30)+"â€¦":a.row.alamat),1)]),_:2},1032,["props","title"]),n(r,{key:"pendidikan",props:a},{default:t(()=>[i(e(a.row.kelas)+" "+e(a.row.tingkat_id)+" "+e(a.row.no_absen?" ("+("0"+a.row.no_absen).slice(-2)+")":""),1)]),_:2},1032,["props"]),n(r,{key:"wali",props:a},{default:t(()=>[i(e(a.row.wali_nama)+" ("+e(a.row.wali_status)+"; "+e(a.row.wali_sex)+") ",1)]),_:2},1032,["props"]),n(r,{key:"ortu",props:a},{default:t(()=>[i(e(a.row.ayah)+" | "+e(a.row.ibu),1)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["rows","loading","filter"]))}};export{H as default};

import{x as r,a7 as q,R as $,y as T,c as v,o as n,w as o,b as e,s as u,n as m,q as t,g as _,p as V,f as Q,v as d,ab as C,B}from"./index-Bf-p91mW.js";import{Q as D}from"./QToolbarTitle-Bi6rSosy.js";import{Q as S}from"./QToolbar-CUFZpZSE.js";import{Q as N}from"./QSpinnerCube-CRIto8Mg.js";import{Q as R}from"./QMarkupTable-BU6ysEzR.js";import{Q as c}from"./QRouteTab-CpyWYYTo.js";import{Q as U}from"./QTabs-vx_STaPS.js";import{Q as z}from"./QPage-DbeGPrD5.js";import{a as A}from"./api-get-CiRdORW1.js";import{a as K}from"./api-update-BYe6B3v5.js";import{_ as M}from"./CardSantri-7FybmZ1T.js";import{_ as P}from"./KelasForm-OmOkgvms.js";import"./QResizeObserver-CbBcyoPU.js";import"./rtl-DFPa-2ov.js";import"./index-D7WC_quC.js";import"./index-BtaF3-6r.js";import"./api-error-C0HjZ2a3.js";import"./QSkeleton-DEYFlc1v.js";import"./QImg-DJapb2Ub.js";import"./QItemSection-Bl4rOme3.js";import"./QItemLabel-sjS6zLD0.js";import"./QList-51Eu5HNp.js";import"./santri-store-Bj24Fsef.js";import"./QForm-OmDQHoiq.js";import"./lists-store-F5P_xNBX.js";import"./lists-data-mcTvx2m2.js";import"./api-post-CHcQycZS.js";import"./api-delete-BVHfd1pG.js";import"./InputSelectArray-Jz4ksDX6.js";import"./QSelect-Co09SqkM.js";import"./QChip-DeZPZCXp.js";import"./QMenu-BvL1IfNl.js";import"./selection-CE9S_xiH.js";import"./format-CJebrXOQ.js";import"./DropDownAfter-wYSCUu7Z.js";import"./QBtnDropdown-Br6y2eVM.js";import"./QBtnGroup-BDP931ZD.js";import"./ClosePopup-HTVnKVBl.js";import"./Lists-DSwT9YX9.js";import"./ApiCrud-SVFtkNw7.js";import"./InputSelectTingkatPendidikan-C_EqL8ok.js";const j={class:"row",style:{"max-width":"1400px"}},E={class:"col-12 col-md-6 q-pa-sm"},I={key:0,class:"q-pa-md"},G={key:1},L={class:"col-12 col-md-6 q-pa-sm"},Ua={__name:"KelasIndex",setup(F){const k=r(0),g=q().params.id,l=r({}),b=r(!1),p=r(!1),y=r({});async function w(i){const a=i==1,f=i==1?0:1;await K({endPoint:`kelas/${g}/set-active`,data:{aktif:a},confirm:!1})||(l.value.aktif=f)}async function x(){const i=await A({endPoint:`kelas/${g}`,loading:b});i.kelas&&(l.value=i.kelas)}return $(async()=>{await x()}),(i,a)=>{const f=T("router-view");return n(),v(z,{class:"q-pa-sm"},{default:o(()=>[e(u,{class:""},{default:o(()=>[e(m,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:o(()=>[...a[6]||(a[6]=[t("div",{class:"flex items-center"},[t("div",{class:"text-subtitle1"},"Data Murid")],-1)])]),_:1}),e(m,{class:"no-padding"},{default:o(()=>[t("div",j,[t("div",E,[e(u,{bordered:"",flat:""},{default:o(()=>[e(M,{id:l.value.santri_id,onLoaded:a[0]||(a[0]=s=>y.value=s)},null,8,["id"])]),_:1}),e(u,{class:"q-mt-sm",bordered:"",flat:""},{default:o(()=>[e(m,{class:"q-pa-sm"},{default:o(()=>[e(S,{class:"bg-green-1"},{default:o(()=>[e(D,{class:"text-subtitle1"},{default:o(()=>[...a[7]||(a[7]=[V(" Data Kelas ",-1)])]),_:1}),e(Q,{class:"q-px-sm q-mr-sm",outline:"",dense:"",onClick:x,icon:"sync","no-caps":""}),e(Q,{class:"q-px-md",outline:"",dense:"","icon-right":"edit",onClick:a[1]||(a[1]=s=>p.value=!0),label:"Edit","no-caps":""})]),_:1}),b.value?(n(),_("div",I,[e(N,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):(n(),_("div",G,[e(R,{flat:""},{default:o(()=>[t("tbody",null,[t("tr",null,[a[8]||(a[8]=t("td",{class:"text-italic"}," Tahun Ajaran ",-1)),t("td",null,d(l.value.th_ajaran_h+" | "+l.value.th_ajaran_m),1)]),t("tr",null,[a[9]||(a[9]=t("td",{class:"text-italic"}," Tingkat ",-1)),t("td",null,d(l.value.tingkat),1)]),t("tr",null,[a[10]||(a[10]=t("td",{class:"text-italic"}," Kelas ",-1)),t("td",null,d(l.value.kelas),1)]),t("tr",null,[a[11]||(a[11]=t("td",{class:"text-italic"}," Nomor Absen ",-1)),t("td",null,d(l.value.no_absen),1)]),t("tr",null,[a[12]||(a[12]=t("td",{class:"text-italic"}," Aktif ",-1)),t("td",null,[e(C,{modelValue:l.value.aktif,"onUpdate:modelValue":[a[2]||(a[2]=s=>l.value.aktif=s),w],color:"green","true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])])]),t("tr",null,[a[13]||(a[13]=t("td",{class:"text-italic"}," Keterangan ",-1)),t("td",null,d(l.value.keterangan),1)])])]),_:1})]))]),_:1})]),_:1})]),t("div",L,[e(u,{bordered:"",flat:""},{default:o(()=>[e(U,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-7 text-green-3","indicator-color":"green-11","active-color":"green-11"},{default:o(()=>[e(c,{name:"riwayat",label:"Riwayat",to:`/madrasah/kelas/${l.value.id}/riwayat`},null,8,["to"]),e(c,{name:"izin",label:"Izin",to:`/madrasah/kelas/${l.value.id}/izin`},null,8,["to"]),e(c,{name:"nilai",label:"Nilai Mapel",to:`/madrasah/kelas/${l.value.id}/nilai-mapel`},null,8,["to"])]),_:1}),(n(),v(m,{class:"q-pa-sm",key:k.value},{default:o(()=>[(n(),v(f,{key:i.$route.fullPath,santri_id:l.value.santri_id},null,8,["santri_id"]))]),_:1}))]),_:1})])])]),_:1})]),_:1}),e(B,{modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=s=>p.value=s)},{default:o(()=>[e(P,{data:l.value,onSuccessUpdate:a[3]||(a[3]=s=>{l.value=s,k.value++}),onSuccessDelete:a[4]||(a[4]=s=>i.$router.go(-1))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}};export{Ua as default};

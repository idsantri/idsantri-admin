import{q as r,s as w,E as i,c as x,o as d,w as l,g as e,Q as m,l as b,a as p,b as f,F as y,D as q,bL as Q,m as B,e as E}from"./index-Ba6UWhY3.js";import{a as S}from"./api-get-C54I_AkL.js";import{n as V}from"./index-CQzYHC66.js";import{S as L}from"./Status-BdCM2h2G.js";import"./index-ChQSy5Ts.js";import"./api-error-DVIp_c6X.js";import"./ApiCrud-8mMJRmXF.js";import"./Api-BMf39EYj.js";const P={class:"row"},R={__name:"ExportPage",setup(D){const o=r([]),n=r([]),s=r(!1);async function u(){try{o.value=[],s.value=!0;const t=await L.lists();o.value=t.status}catch{console.log("error get list status")}finally{s.value=!1}}w(async()=>{await u()});async function g(){const t=await S({endPoint:"export/santri",loading:s,params:{status:n.value}});if(!t)return;if(!t.url)return V("Url tidak ditemukan");const a=document.createElement("a");a.href=t.url,a.click(),a.remove()}return(t,a)=>{const _=i("CardHeader"),v=i("CardLoading"),k=i("CardPage");return d(),x(k,null,{default:l(()=>[e(_,{title:"Ekspor Data Santri",onOnReload:u}),e(m,{class:"q-pa-sm"},{default:l(()=>[e(b,{flat:"",bordered:"",class:"relative-position",style:{"max-width":"600px"}},{default:l(()=>[e(m,{class:"q-pa-sm",style:{"min-height":"200px"}},{default:l(()=>[a[1]||(a[1]=p("h2",{class:"text-subtitle1 text-italic q-pl-md"}," Tentukan status akhir santri yang ingin didownload ",-1)),p("div",P,[(d(!0),f(y,null,q(o.value,(c,C)=>(d(),f("div",{key:C,class:"col-6"},[e(Q,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=h=>n.value=h),val:c,label:c},null,8,["modelValue","val","label"])]))),128))])]),_:1}),e(B,{align:"right",class:"bg-green-6 q-pa-sm"},{default:l(()=>[e(E,{disable:!n.value.length||s.value,label:"Unduh","no-caps":"",class:"q-px-md",outline:"",color:"green-11",icon:"file_download",onClick:g},null,8,["disable"])]),_:1}),e(v,{showing:s.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})}}};export{R as default};

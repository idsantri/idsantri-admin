import{Q as I}from"./QSpace-D6pCerwp.js";import{B as i,ab as $,L as V,c as D,o as k,w as e,g as a,l as Q,Q as p,y as q,ac as H,X as L,C as g,a as b,e as P,a8 as T,a4 as h,H as F}from"./index-BSwPLBvN.js";import{Q as M}from"./QTable-CXpNMcKn.js";import{a as N}from"./api-get-DLoYpnPD.js";import{i as v,b as A}from"./format-date-DlwYCgkJ.js";import{_ as R}from"./FilterTanggal-D7wb9UvY.js";import{Q as U}from"./QItemLabel-CIOWhTht.js";import{Q as j,a as E}from"./QItemSection-WqxvrlOw.js";import{Q as z}from"./QList-Dn-IYx8z.js";import{Q as G}from"./QBtnDropdown-C4ZtMkBn.js";import{_ as K}from"./InputSelectSantriId-8oBNo5K0.js";import{_ as O}from"./IndisiplinerForm-zwA--ZPl.js";import"./QMarkupTable-BHGuGSYT.js";import"./QSelect-BjGQaI4Q.js";import"./QChip-Br_mmnnr.js";import"./QMenu-BnIg5_Ug.js";import"./selection-CiLPAPFJ.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-Ct_nQl4F.js";import"./index-BaAeepf0.js";import"./index-DWKPJyX7.js";import"./api-error-CD6hOSn6.js";import"./id-BuNGTsqN.js";import"./QToolbar-qqbqC3d5.js";import"./QBtnGroup-CFUVAF62.js";import"./Santri-DJomg_CO.js";import"./ApiCrud-CsgpJEPb.js";import"./Api-gH9zfM44.js";import"./QRating-Bjun3JSF.js";import"./QForm-pLnIPDm5.js";import"./hijri--5qD4USW.js";import"./format-number-B34ySHL_.js";import"./lists-store-BQBJ2JOd.js";import"./DropDownAfter-B_WHSSYE.js";import"./ClosePopup-9H5qeAFV.js";import"./Lists-kDpWTKyN.js";import"./InputSelectArray-CW313qGw.js";import"./useCrudForm-Di2BQFx5.js";const X={__name:"DropDownMenu",setup(x){const r=i({santri_id:null,nama:""}),d=$();return V(()=>r.value.nama,o=>{o?.length>0&&r.value.santri_id&&d.push("/keamanan/indisipliner/santri/"+r.value.santri_id)}),(o,s)=>(k(),D(G,{color:"green-10",label:"Filter By","no-caps":"",class:"text-green-11 q-px-md",dense:""},{default:e(()=>[a(z,null,{default:e(()=>[a(j,{class:"q-pa-sm"},{default:e(()=>[a(E,null,{default:e(()=>[a(U,null,{default:e(()=>[a(Q,{flat:"",style:{width:"250px"}},{default:e(()=>[a(p,{class:"no-padding text-subtitle1"},{default:e(()=>[...s[1]||(s[1]=[q(" Filter by Santri ID ",-1)])]),_:1}),a(p,{class:"no-padding"},{default:e(()=>[a(K,{class:"q-mt-sm","active-only":!1,onEmitInput:s[0]||(s[0]=m=>Object.assign(r.value,m)),data:{}})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},J=["innerHTML"],Fa={__name:"IndisiplinerByDate",setup(x){const r=i([{}]),d=i(!1),o=H(),s=i({}),m=i(""),f={startDate:o.params.startDate||0,endDate:o.params.endDate||0},c=i(f.startDate),_=i(f.endDate),u=i(!1);function w(l){s.value=l}L(async()=>{if(v(c.value)&&v(_.value)){const l=await N({endPoint:"indisipliner",loading:d,params:{start_date:c.value,end_date:_.value}});l&&(r.value=l.indisipliner)}});const S=[{name:"santri_id",label:"ID Santri",align:"left",field:"santri_id",sortable:!0},{name:"nama",label:"Nama",align:"left",field:"nama",sortable:!0},{name:"kategori",label:"Kategori",align:"left",field:"kategori_text",sortable:!0},{name:"tgl_sidang",label:"Sidang",align:"left",field:l=>A(l.tgl_sidang),sortable:!0},{name:"no_pasal",label:"Pasal",align:"left",field:"no_pasal",sortable:!0},{name:"data_akhir",label:"Data Akhir",align:"left",field:"data_akhir",sortable:!0},{name:"alamat",label:"Alamat",align:"left",field:"alamat_pendek",sortable:!0,classes:"alamat"}];return(l,t)=>{const C=g("CardHeader"),y=g("CardPage");return k(),D(y,null,{default:e(()=>[a(C,{title:"Data Santri Indisipliner","show-reload":!1}),a(p,{class:"q-pa-sm"},{default:e(()=>[a(R,{showBulanUjian:!0,"start-url":"/keamanan/indisipliner",onDataFilter:w},{default:e(()=>[a(X)]),_:1}),a(Q,{class:"q-mt-sm",flat:"",bordered:""},{default:e(()=>[a(p,{class:"bg-green-7 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:e(()=>[b("span",{innerHTML:s.value.display||""},null,8,J),a(I),a(P,{dense:"",icon:"add",label:"Baru","no-caps":"",color:"green-11 q-px-md",class:"text-green-10",onClick:t[0]||(t[0]=n=>u.value=!0)})]),_:1}),a(M,{class:"dt q-pa-sm",rows:r.value,columns:S,loading:d.value,filter:m.value,"rows-per-page-options":[10,25,50,75,100,0],"no-data-label":"Silakan tentukan filter tanggal!","no-results-label":"Tidak ditemukan kata kunci yang sesuai dengan pencarian Anda!","row-key":"name",flat:"",onRowClick:t[2]||(t[2]=(n,B,W)=>l.$router.push(`/keamanan/indisipliner/${B.id}`))},{"top-left":e(()=>[...t[5]||(t[5]=[b("div",{class:"text-subtitle1 text-green-10"},"Data Perizinan",-1)])]),"top-right":e(()=>[a(T,{outlined:"",dense:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=n=>m.value=n),placeholder:"Cari"},{append:e(()=>[a(h,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","loading","filter"])]),_:1})]),_:1}),a(F,{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=n=>u.value=n)},{default:e(()=>[a(O,{data:{},onSuccessDelete:n=>null,onSuccessSubmit:t[3]||(t[3]=n=>l.$router.push(`/keamanan/indisipliner/${n.id}`))})]),_:1},8,["modelValue"])]),_:1})}}};export{Fa as default};

import{Q as S}from"./QSpace-DIvX2TzF.js";import{A as Q,ae as b,c as n,o as a,w as s,b as t,Q as k,t as h,g as _,f,z as d,x as w}from"./index-DwrbA0R8.js";import{Q as o}from"./QSkeleton-BtQ289R_.js";import{Q as N}from"./QImg--g9yT0uK.js";import{Q as C,a as p}from"./QItemSection-CeSY4hvW.js";import{Q as y}from"./QItemLabel-Dzdetwv2.js";import{Q as B}from"./QList-Cc6jCv1k.js";import{a as q}from"./api-get-D4W4lze7.js";import{s as u}from"./santri-store-B8u08Q6k.js";const I={key:1},D={key:1},z={key:1},W={__name:"CardSantriSimple",props:{id:{type:[Number,String],validator(e){if(typeof e=="number")return!isNaN(e);if(typeof e=="string"){const c=Number(e);return!isNaN(c)}return!1}}},emits:["loaded"],setup(e,{emit:c}){const x=c,m=e,r=Q(!1),i=Q({}),g=async()=>{const l=await q({endPoint:"santri/"+m.id,loading:r});l&&(i.value=l.santri,u().setSantri(l.santri),u().setOrtu(l.ortu),u().setWali(l.wali))};return b(async()=>{if(m.id){const l=u().getSantri;l.id==m.id?i.value=l:await g(),x("loaded",i.value)}}),(l,v)=>(a(),n(w,{bordered:"",flat:""},{default:s(()=>[t(k,{class:"q-pa-sm text-subtitle2 bg-green-11 flex items-center"},{default:s(()=>[v[0]||(v[0]=h(" Data Santri ",-1)),t(S),t(_,{icon:"sync",dense:"",outline:"",size:"sm",class:"q-px-sm",onClick:g})]),_:1}),t(k,{class:"q-pa-sm"},{default:s(()=>[t(B,null,{default:s(()=>[t(C,{class:"no-padding"},{default:s(()=>[t(p,{avatar:""},{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"",class:"full-width full-height"})):(a(),n(N,{key:1,src:i.value?.image_url||"/user-default.png",ratio:3/4,alt:"santri"},null,8,["src"]))]),_:1}),t(p,null,{default:s(()=>[t(y,{overline:""},{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"text"})):(a(),f("div",I,d(i.value.nama?.toUpperCase())+" ("+d(i.value.id)+") ",1))]),_:1}),t(y,null,{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"text"})):(a(),f("div",D,d(i.value.data_akhir),1))]),_:1}),t(y,{caption:""},{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"text"})):(a(),f("div",z,d(i.value.alamat_pendek),1))]),_:1})]),_:1}),t(p,{avatar:""},{default:s(()=>[r.value||!e.id?(a(),n(o,{key:0,type:"QBtn",class:"full-width"})):(a(),n(_,{key:1,round:"",dense:"",glossy:"",icon:"info","no-caps":"",class:"q-px-sm bg-green-8 text-green-11",to:`/santri/${i.value.id}`},null,8,["to"]))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{W as _};

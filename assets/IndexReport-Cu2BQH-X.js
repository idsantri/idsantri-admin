import{Q as v}from"./QSpace-e5nOhYJp.js";import{v as r,R as Q,f as x,o as y,w as s,i as t,q as k,a8 as V,Q as c,j as C,p as f,k as q,m as w}from"./index-Cju_WcQt.js";import{Q as S}from"./QSelect-D99lhOsm.js";import{Q as j}from"./QEditor-TAy6Iv9E.js";import{Q as P}from"./QForm-B-IeWzDf.js";import{Q as B}from"./QPage-B1tTC_E4.js";import{a as O}from"./api-get-C-ZFMqL_.js";import{a as R}from"./api-post-P8g4q4LG.js";import{s as T,a as K}from"./format-text-BhuG3ucy.js";import"./QChip-DJA81wTZ.js";import"./QItemSection-CL0X_XCy.js";import"./QItemLabel-97msGuv9.js";import"./QMenu-BUIDrqEf.js";import"./selection-noklRUze.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./QBtnDropdown-69YMJW9Q.js";import"./QBtnGroup-oymYJuDk.js";import"./QTooltip-BBJe48W3.js";import"./use-fullscreen-BVouRRhr.js";import"./index-DgCvXGx8.js";import"./index-pFkrbuLE.js";import"./api-error-BS7WyEhR.js";const se={__name:"IndexReport",setup(N){const p=r({}),i=r(!1),m=r([]),l=r(""),n=r("");function g(a){n.value=a?p.value[a]?.footnote:""}async function b(){const a={footnote:n.value};await R({endPoint:`config/reports/${K(l.value)}`,data:a,loading:i})&&await d()}async function d(){const a=await O({endPoint:"config/reports",loading:i});Object.assign(p.value,a.reports);const o=Object.keys(a.reports).map(u=>({label:T(u),value:u}));m.value=o}return Q(async()=>{d()}),(a,e)=>(y(),x(B,{class:"q-pa-sm"},{default:s(()=>[t(k,{style:{"max-width":"600px"}},{default:s(()=>[t(P,{onSubmit:V(b,["prevent"])},{default:s(()=>[t(c,{class:"q-pa-sm bg-green-8 text-green-11 text-subtitle1 flex"},{default:s(()=>[e[3]||(e[3]=C(" Report (Print Out) ",-1)),t(v),t(f,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:e[0]||(e[0]=o=>a.$router.go(-1))})]),_:1}),t(c,{class:"q-pa-sm"},{default:s(()=>[t(S,{modelValue:l.value,"onUpdate:modelValue":[e[1]||(e[1]=o=>l.value=o),g],dense:"",class:"",outlined:"",label:"Report","emit-value":"","map-options":"",options:m.value,loading:i.value,"use-input":"",clearable:"",behavior:"menu"},null,8,["modelValue","options","loading"]),e[4]||(e[4]=q("div",{class:"text-caption q-mt-md"},"Catatan Kaki",-1)),t(j,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=o=>n.value=o),"min-height":"5rem",class:"q-mt-sm","paragraph-tag":"p",toolbar:[["left","center","right","justify"],["bold","italic","underline"],["hr"],["unordered","ordered","outdent","indent"],["undo","redo"]]},null,8,["modelValue"])]),_:1}),t(w,{align:"right",class:"bg-green-7"},{default:s(()=>[t(f,{label:"Simpan",type:"submit","no-caps":"",icon:"save",class:"bg-green-11"})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{se as default};

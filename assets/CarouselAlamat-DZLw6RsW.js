import{h as U,A as g,k,B as J,x as X,y as Y,z as ee,N as K,bc as ae,s as L,O as te,Z as ne,e as D,$ as W,bd as le,aF as oe,be as ie,bf as ue,a7 as G,c as se,o as Z,w as F,g as p,l as re,n as j,C as ce,q as B,b as ve,a as z,a8 as Q,F as de}from"./index-BD0rPuwI.js";import{u as me,a as ge,b as fe,c as pe}from"./use-panel-CxMrZlGR.js";import{u as be,a as ke,b as ye}from"./use-fullscreen-D6Rd3ynI.js";import{Q as Ce}from"./QBtnGroup-PW693_0R.js";import{a as Ve}from"./alamat-store-BVMbspkO.js";import{A as T}from"./Alamat-DvKt8sTP.js";import{Q as qe}from"./QBtnDropdown-C1QKmXiE.js";import{Q as Se}from"./QSelect-CYTXzFFA.js";import{C as E}from"./ClosePopup-CCVUmZVV.js";const _e=U({name:"QCarouselSlide",props:{...me,imgSrc:String},setup(e,{slots:o}){const t=g(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>k("div",{class:"q-carousel__slide",style:t.value},J(o.default))}}),we=["top","right","bottom","left"],Be=["regular","flat","outline","push","unelevated"],Re=U({name:"QCarousel",props:{...X,...fe,...ke,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Be.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>we.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...be,...ge],setup(e,{slots:o}){const{proxy:{$q:t}}=Y(),d=ee(e,t);let i=null,y;const{updatePanelsList:C,getPanelContent:P,panelDirectives:h,goToPanel:S,previousPanel:s,nextPanel:f,getEnabledPanels:r,panelIndex:c}=pe(),{inFullscreen:V}=ye(),q=g(()=>V.value!==!0&&e.height!==void 0?{height:e.height}:{}),w=g(()=>e.vertical===!0?"vertical":"horizontal"),u=g(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),$=g(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(V.value===!0?" fullscreen":"")+(d.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${w.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${u.value}`:"")),I=g(()=>{const m=[e.prevIcon||t.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||t.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&t.lang.rtl===!0?m.reverse():m}),n=g(()=>e.navigationIcon||t.iconSet.carousel.navigationIcon),a=g(()=>e.navigationActiveIcon||n.value),l=g(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));K(()=>e.modelValue,()=>{e.autoplay&&v()}),K(()=>e.autoplay,m=>{m?v():i!==null&&(clearTimeout(i),i=null)});function v(){const m=ae(e.autoplay)===!0?Math.abs(e.autoplay):5e3;i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,m>=0?f():s()},m)}L(()=>{e.autoplay&&v()}),te(()=>{i!==null&&clearTimeout(i)});function x(m,A){return k("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${m} q-carousel__navigation--${u.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[k("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},r().map(A))])}function H(){const m=[];if(e.navigation===!0){const A=o["navigation-icon"]!==void 0?o["navigation-icon"]:b=>k(D,{key:"nav"+b.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${b.active===!0?"":"in"}active`,...b.btnProps,onClick:b.onClick}),R=y-1;m.push(x("buttons",(b,N)=>{const M=b.props.name,O=c.value===N;return A({index:N,maxIndex:R,name:M,active:O,btnProps:{icon:O===!0?a.value:n.value,size:"sm",...l.value},onClick:()=>{S(M)}})}))}else if(e.thumbnails===!0){const A=e.controlColor!==void 0?` text-${e.controlColor}`:"";m.push(x("thumbnails",R=>{const b=R.props;return k("img",{key:"tmb#"+b.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${b.name===e.modelValue?"":"in"}active`+A,src:b.imgSrc||b["img-src"],onClick:()=>{S(b.name)}})}))}return e.arrows===!0&&c.value>=0&&((e.infinite===!0||c.value>0)&&m.push(k("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${w.value} absolute flex flex-center`},[k(D,{icon:I.value[0],...l.value,onClick:s})])),(e.infinite===!0||c.value<y-1)&&m.push(k("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${w.value} absolute flex flex-center`},[k(D,{icon:I.value[1],...l.value,onClick:f})]))),W(o.control,m)}return()=>(y=C(o),k("div",{class:$.value,style:q.value},[ne("div",{class:"q-carousel__slides-container"},P(),"sl-cont",e.swipeable,()=>h.value)].concat(H())))}}),Fe=U({name:"QBtnToggle",props:{...le,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(o=>("label"in o||"icon"in o||"slot"in o)&&"value"in o)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:o,emit:t}){const d=g(()=>e.options.find(r=>r.value===e.modelValue)!==void 0),i=g(()=>({type:"hidden",name:e.name,value:e.modelValue})),y=ie(i),C=g(()=>oe(e)),P=g(()=>({rounded:e.rounded,dense:e.dense,...C.value})),h=g(()=>e.options.map((r,c)=>{const{attrs:V,value:q,slot:w,...u}=r;return{slot:w,props:{key:c,"aria-pressed":q===e.modelValue?"true":"false",...V,...u,...P.value,disable:e.disable===!0||u.disable===!0,color:q===e.modelValue?s(u,"toggleColor"):s(u,"color"),textColor:q===e.modelValue?s(u,"toggleTextColor"):s(u,"textColor"),noCaps:s(u,"noCaps")===!0,noWrap:s(u,"noWrap")===!0,size:s(u,"size"),padding:s(u,"padding"),ripple:s(u,"ripple"),stack:s(u,"stack")===!0,stretch:s(u,"stretch")===!0,onClick($){S(q,r,$)}}}}));function S(r,c,V){e.readonly!==!0&&(e.modelValue===r?e.clearable===!0&&(t("update:modelValue",null,null),t("clear")):t("update:modelValue",r,c),t("click",V))}function s(r,c){return r[c]===void 0?e[c]:r[c]}function f(){const r=h.value.map(c=>k(D,c.props,c.slot!==void 0?o[c.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&d.value===!0&&y(r,"push"),W(o.default,r)}return()=>k(Ce,{class:"q-btn-toggle",...C.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},f)}}),_={__name:"InputSelectAlamat",props:ue({options:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},label:{type:String,default:()=>"Select Alamat"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=G(e,"modelValue");return(t,d)=>(Z(),se(Se,{dense:"",outlined:"",label:e.label,"emit-value":"","map-options":"",modelValue:o.value,"onUpdate:modelValue":d[2]||(d[2]=i=>o.value=i),options:e.options,loading:e.loading,behavior:"menu",clearable:""},{after:F(()=>[p(re,{flat:"",bordered:""},{default:F(()=>[p(qe,{flat:"","dropdown-icon":"more_vert",class:"q-px-sm",color:""},{default:F(()=>[j(p(D,{"no-caps":"",label:"Reload",flat:"",icon:"sync",class:"block",onClick:d[0]||(d[0]=i=>t.$emit("syncClick"))},null,512),[[E]]),p(ce),j(p(D,{"no-caps":"",label:"Setting",flat:"",icon:"toc",to:"/settings/alamat",class:"block",onClick:d[1]||(d[1]=i=>t.$emit("routeClick"))},null,512),[[E]])]),_:1})]),_:1})]),_:1},8,["label","modelValue","options","loading"]))}},Pe={class:"row q-my-sm"},Ue={__name:"CarouselAlamat",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=Ve(),t=G(e,"modelValue"),d=B([]),i=B([]),y=B([]),C=B([]),P=B(!1),h=B(!1),S=B(!1),s=B(!1);L(async()=>{await c(),t.value.provinsi&&await q(t.value.provinsi),t.value.provinsi&&t.value.kabupaten&&await u(t.value.provinsi,t.value.kabupaten),t.value.provinsi&&t.value.kabupaten&&t.value.kecamatan&&await I(t.value.provinsi,t.value.kabupaten,t.value.kecamatan)});function f(n,a){return!Array.isArray(n)||!a?[]:n.map(v=>v[a]).sort((v,x)=>v.toLowerCase().localeCompare(x.toLowerCase()))}async function r(){d.value=[];try{P.value=!0;const n=await T.searchByParams();if(n){o.setProvinsi(n.provinsi);const a=o.getProvinsi();d.value=f(a,"provinsi")}}catch(n){console.log("error get provinsi ",n)}finally{P.value=!1}}async function c(){d.value=[];const n=o.getProvinsi();n?.length>0?d.value=f(n,"provinsi"):await r()}async function V(){i.value=[];const n=t.value.provinsi;if(n)try{h.value=!0;const a=await T.searchByParams({provinsi:n});if(a){o.setKabupaten(a.kabupaten,{provinsi_name:n});const l=o.getKabupaten({provinsi_name:n});i.value=f(l,"kabupaten")}}catch(a){console.log("error get kabupaten ",a)}finally{h.value=!1}}async function q(n){if(i.value=[],!n)return;const a=o.getKabupaten({provinsi_name:n});a?.length>0?i.value=f(a,"kabupaten"):await V()}async function w(){y.value=[];const n=t.value.provinsi,a=t.value.kabupaten;if(!(!n||!a))try{S.value=!0;const l=await T.searchByParams({provinsi:n,kabupaten:a});if(l){o.setKecamatan(l.kecamatan,{provinsi_name:n,kabupaten_name:a});const v=o.getKecamatan({provinsi_name:n,kabupaten_name:a});y.value=f(v,"kecamatan")}}catch(l){console.log("error get kecamatan ",l)}finally{S.value=!1}}async function u(n,a){if(y.value=[],!n||!a)return;const l=o.getKecamatan({provinsi_name:n,kabupaten_name:a});l?.length>0?y.value=f(l,"kecamatan"):await w()}async function $(){C.value=[];const n=t.value.provinsi,a=t.value.kabupaten,l=t.value.kecamatan;if(!(!n||!a||!l))try{s.value=!0;const v=await T.searchByParams({provinsi:n,kabupaten:a,kecamatan:l});if(v){o.setDesa(v.desa,{provinsi_name:n,kabupaten_name:a,kecamatan_name:l});const x=o.getDesa({provinsi_name:n,kabupaten_name:a,kecamatan_name:l});C.value=f(x,"desa")}}catch(v){console.log("error get desa ",v)}finally{s.value=!1}}async function I(n,a,l){if(C.value=[],!n||!a||!l)return;const v=o.getDesa({provinsi_name:n,kabupaten_name:a,kecamatan_name:l});v?.length>0?C.value=f(v,"desa"):await $()}return K(()=>t.value.provinsi,async(n,a)=>{n!=a&&(t.value.kabupaten="",t.value.kecamatan="",t.value.desa="",await q(n))}),K(()=>t.value.kabupaten,async(n,a)=>{n!=a&&(t.value.kecamatan="",t.value.desa="",await u(t.value.provinsi,n))}),K(()=>t.value.kecamatan,async(n,a)=>{n!=a&&(t.value.desa="",await I(t.value.provinsi,t.value.kabupaten,n))}),(n,a)=>(Z(),ve(de,null,[a[16]||(a[16]=z("div",{class:"text-subtitle2"},"Data Alamat",-1)),p(_,{onSyncClick:a[0]||(a[0]=l=>r()),onRouteClick:a[1]||(a[1]=l=>n.$emit("emitRoute")),label:"Provinsi",modelValue:t.value.provinsi,"onUpdate:modelValue":a[2]||(a[2]=l=>t.value.provinsi=l),options:d.value,loading:P.value,class:"q-my-sm"},null,8,["modelValue","options","loading"]),p(_,{onSyncClick:a[3]||(a[3]=l=>V()),onRouteClick:a[4]||(a[4]=l=>n.$emit("emitRoute")),label:"Kabupaten/Kota",modelValue:t.value.kabupaten,"onUpdate:modelValue":a[5]||(a[5]=l=>t.value.kabupaten=l),options:i.value,loading:h.value,class:"q-my-sm"},null,8,["modelValue","options","loading"]),p(_,{onSyncClick:a[6]||(a[6]=l=>w()),onRouteClick:a[7]||(a[7]=l=>n.$emit("emitRoute")),label:"Kecamatan",modelValue:t.value.kecamatan,"onUpdate:modelValue":a[8]||(a[8]=l=>t.value.kecamatan=l),options:y.value,loading:S.value,class:"q-my-sm"},null,8,["modelValue","options","loading"]),p(_,{onSyncClick:a[9]||(a[9]=l=>$()),onRouteClick:a[10]||(a[10]=l=>n.$emit("emitRoute")),label:"Desa/Kelurahan",modelValue:t.value.desa,"onUpdate:modelValue":a[11]||(a[11]=l=>t.value.desa=l),options:C.value,loading:s.value,class:"q-my-sm"},null,8,["modelValue","options","loading"]),z("div",Pe,[p(Q,{dense:"",class:"col q-mr-sm",outlined:"",label:"RT",modelValue:t.value.rt,"onUpdate:modelValue":a[12]||(a[12]=l=>t.value.rt=l),type:"number"},null,8,["modelValue"]),p(Q,{dense:"",class:"col q-ml-sm",outlined:"",label:"RW",modelValue:t.value.rw,"onUpdate:modelValue":a[13]||(a[13]=l=>t.value.rw=l),type:"number"},null,8,["modelValue"])]),p(Q,{dense:"",hint:"Dusun, kampung, jalan, gang, nomor rumah ...",class:"q-my-sm",outlined:"",label:"Dusun",modelValue:t.value.jl,"onUpdate:modelValue":a[14]||(a[14]=l=>t.value.jl=l),autogrow:""},null,8,["modelValue"]),p(Q,{dense:"",hint:"",class:"q-my-sm",outlined:"",label:"Kode Pos",modelValue:t.value.kode_pos,"onUpdate:modelValue":a[15]||(a[15]=l=>t.value.kode_pos=l),rules:[l=>!l||l?.length==5&&!isNaN(l)||"5 digit angka!"],"error-color":"negative"},null,8,["modelValue","rules"])],64))}};export{Re as Q,Ue as _,_e as a,Fe as b};

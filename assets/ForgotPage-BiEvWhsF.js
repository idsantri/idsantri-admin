import{q as m,ac as w,ap as h,s as k,b as v,o as _,g as e,a as i,n as x,w as r,Q as d,l as c,a9 as y,e as u,af as q,a4 as Q}from"./index-Bq9vEVpm.js";import{Q as S}from"./QSpinnerCube-CKLaGFFP.js";import{a as A}from"./index-B2_mozAq.js";import{t as V}from"./array-object-BytDdNh7.js";import{b as B}from"./index-pVAv07ZB.js";const C={class:""},I={class:"q-gutter-y-md column"},R={__name:"ForgotPage",emits:["title","errors"],setup(M,{emit:p}){const s=p;s("title","Lupa Kata Sandi?"),s("errors",[]);const o=m(!1),f=w(),l=m(""),n=h("firstInput");k(()=>{n.value.focus()});const g=async()=>{s("errors",[]);try{o.value=!0;const t=await A.post("forgot-password",{email:l.value});await B(t.data.message,0),f.push("/reset-password")}catch(t){s("errors",V(t.response?.data?.message||"Terjadi sebuah kesalahan")),n.value.focus()}finally{o.value=!1}};return(t,a)=>(_(),v("div",C,[e(c,{class:"q-mb-lg",flat:""},{default:r(()=>[e(d,{class:"no-padding no-margin"},{default:r(()=>[...a[1]||(a[1]=[i("p",{class:"q-pa-sm no-margin text-green-10 text-justify bg-green-2 rounded-borders"}," Tidak masalah. Masukkan email/surel Anda di bawah ini dan kami akan mengirimkan instruksi untuk mengatur ulang kata sandi Anda. ",-1)])]),_:1})]),_:1}),i("form",{onSubmit:q(g,["prevent"])},[i("div",I,[e(y,{class:"no-margin no-padding","bg-color":"green-1",outlined:"",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=b=>l.value=b),required:"",label:"Email/Surel",placeholder:"Masukkan email/surel Anda!",type:"email",ref_key:"firstInput",ref:n},null,8,["modelValue"]),e(u,{type:"submit",class:"full-width q-pa-sm text-green-10",color:"green-3",label:"Kirim instruksi"}),e(c,{class:"",flat:""},{default:r(()=>[e(d,{class:"text-green-10 text-center bg-green-2 q-pa-sm"},{default:r(()=>[e(u,{outline:"",color:"green-10",class:"full-width text-weight-regular","no-caps":"",to:"/login",label:"Kembali ke halaman login"}),e(u,{outline:"",color:"green-10",class:"full-width text-weight-regular q-mt-sm","no-caps":"",to:"/reset-password",label:"Atur ulang password"})]),_:1})]),_:1})])],32),x(e(S,{color:"green-12",size:"14em",class:"absolute-center"},null,512),[[Q,o.value]])]))}};export{R as default};

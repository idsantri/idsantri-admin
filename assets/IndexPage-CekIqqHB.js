import{Q as I}from"./QSpace-CT-pwkHs.js";import{Q as T}from"./QItemLabel-Clz1Xits.js";import{Q as q,a as x}from"./QItemSection-D4HO8eJd.js";import{A as g,ab as D,a9 as O,W as $,c as p,o as u,w as a,b as e,y as L,Q as w,a as v,l as P,v as n,a3 as U,C as f,f as j,t as S,g as V}from"./index-Bjf6jOrL.js";import{Q as C}from"./QList-DrJ2aexG.js";import{Q as J}from"./QBtnDropdown-CATaFFO-.js";import{Q as K}from"./QSkeleton-Dg6K1xsX.js";import{Q as d}from"./QTd-DUNgUIwQ.js";import{Q as o}from"./QTooltip-icuN36_E.js";import{Q as b}from"./QRating-dn9p8rXE.js";import{Q as z}from"./QTr-Dc0P-ko4.js";import{Q as M}from"./QTable-CO9G8_fV.js";import{Q as A}from"./QPage-CdhCNm0R.js";import{C as F}from"./ClosePopup-Ced6Y-Os.js";import{a as R}from"./api-get-SNzLoUbu.js";import{a as H}from"./api-post-DtZGmdtB.js";import{_ as E}from"./FilterKelas-CReyZp7c.js";import"./QBtnGroup-BZf-O_co.js";import"./QMenu-DO2tkYnP.js";import"./selection-C-yT_gHt.js";import"./format-CJebrXOQ.js";import"./QMarkupTable-DhfjFCDy.js";import"./QSelect-BCDk0qVl.js";import"./QChip-CKBUwVMq.js";import"./rtl-DFPa-2ov.js";import"./use-fullscreen-CRS_nenH.js";import"./index-DV84x6RN.js";import"./index-BRCx2Z00.js";import"./api-error-C_UMNjEa.js";import"./QToolbarTitle-DexAJwlS.js";import"./QToolbar-Bk7787Iv.js";import"./api-get-lists-C5iByTU1.js";const G=["innerHTML"],W={key:0},X={key:1},Ta={__name:"IndexPage",setup(Y){const Q=g(""),{params:s}=D(),y=g(!1),m=g([{sopan:0,disiplin:0,rapi:0}]),_=O([{}]);async function N(){const i=await R({endPoint:"nilai-ahwal",params:{th_ajaran_h:s.th_ajaran_h,tingkat_id:s.tingkat_id,kelas:s.kelas,ujian_ke:s.ujian_ke},loading:y});m.value=i.ahwal,Object.assign(_,JSON.parse(JSON.stringify(i.ahwal)))}async function k(i,t){await H({endPoint:"nilai-ahwal",data:{kelas_id:t.kelas_id,hal:i,ujian_ke:s.ujian_ke,skor:t[i]}})?Object.assign(_,JSON.parse(JSON.stringify(m.value))):m.value=JSON.parse(JSON.stringify(_))}$(async()=>{s.th_ajaran_h&&s.tingkat_id&&s.kelas&&s.ujian_ke&&await N()});const B=[{name:"no_absen",label:"No",align:"center",field:i=>i.no_absen,format:i=>`${i||""}`,sortable:!0},{name:"kelas_id",label:"ID Kelas",align:"center",field:i=>i.kelas_id,format:i=>`${i}`,sortable:!0},{name:"santri_id",label:"ID Santri",align:"center",field:i=>i.santri_id,sortable:!0},{name:"nama",label:"Nama",align:"left",field:i=>i.nama,sortable:!0},{name:"sopan",label:"Kesopanan",align:"center",field:i=>i.sopan,sortable:!0},{name:"disiplin",label:"Kedisiplinan",align:"center",field:"disiplin",sortable:!0},{name:"rapi",label:"Kerapian",align:"center",field:"rapi",sortable:!0}];return(i,t)=>(u(),p(A,{class:"q-pa-sm"},{default:a(()=>[e(E,{"start-url":"/madrasah/nilai-ahwal",onDataFilter:t[0]||(t[0]=l=>Q.value=l),title:"Filter Data: <span class='text-weight-medium'>Nilai Ahwal (Kepribadian)</span>","show-ujian-ke":!0}),e(L,{class:"q-mt-sm"},{default:a(()=>[e(w,{class:"bg-green-8 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:a(()=>[v("span",{innerHTML:Q.value},null,8,G),e(I),e(J,{outline:"","no-caps":"",class:"text-green-11 q-px-md",size:"",dense:"","dropdown-icon":"more_vert"},{default:a(()=>[e(C,null,{default:a(()=>[P((u(),p(q,{to:"/madrasah/nilai-mapel"},{default:a(()=>[e(x,null,{default:a(()=>[e(T,null,{default:a(()=>[...t[1]||(t[1]=[n("Nilai Mapel",-1)])]),_:1})]),_:1}),e(x,{avatar:""},{default:a(()=>[e(U,{name:"show_chart"})]),_:1})]),_:1})),[[F]])]),_:1})]),_:1})]),_:1}),!f(s).th_ajaran_h||!f(s).tingkat_id||!f(s).kelas||!f(s).ujian_ke?(u(),p(w,{key:0,class:"q-pa-sm"},{default:a(()=>[...t[2]||(t[2]=[v("div",{class:"text-center q-pa-lg text-negative text-italic"}," Tentukan Tahun Ajaran, Tingkat Pendidikan, Kelas, dan Ujian! ",-1)])]),_:1})):(u(),p(w,{key:1,class:"q-pa-sm"},{default:a(()=>[y.value?(u(),j("div",W,[e(K,{type:"text",height:"4rem"})])):(u(),j("div",X,[e(M,{flat:"",rows:m.value,columns:B,"row-key":"kelas_id","rows-per-page-options":[10,25,50,100,0]},{body:a(l=>[e(z,{props:l},{default:a(()=>[e(d,{key:"no_absen",props:l},{default:a(()=>[n(S(l.row.no_absen),1)]),_:2},1032,["props"]),e(d,{key:"kelas_id",props:l},{default:a(()=>[e(V,{outline:"",label:l.row.kelas_id,color:"green-10",dense:"",class:"q-px-md",to:`/madrasah/kelas/${l.row.kelas_id}`},null,8,["label","to"])]),_:2},1032,["props"]),e(d,{key:"santri_id",props:l},{default:a(()=>[e(V,{outline:"",label:l.row.santri_id,color:"green-10",dense:"",class:"q-px-md",to:`/santri/${l.row.santri_id}`},null,8,["label","to"])]),_:2},1032,["props"]),e(d,{key:"nama",props:l},{default:a(()=>[n(S(l.row.nama),1)]),_:2},1032,["props"]),e(d,{key:"sopan",props:l},{default:a(()=>[e(b,{modelValue:l.row.sopan,"onUpdate:modelValue":[r=>l.row.sopan=r,r=>k("sopan",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[3]||(t[3]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[4]||(t[4]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[5]||(t[5]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[6]||(t[6]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[7]||(t[7]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),e(d,{key:"disiplin",props:l},{default:a(()=>[e(b,{modelValue:l.row.disiplin,"onUpdate:modelValue":[r=>l.row.disiplin=r,r=>k("disiplin",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[8]||(t[8]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[9]||(t[9]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[10]||(t[10]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[11]||(t[11]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[12]||(t[12]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),e(d,{key:"rapi",props:l},{default:a(()=>[e(b,{modelValue:l.row.rapi,"onUpdate:modelValue":[r=>l.row.rapi=r,r=>k("rapi",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[13]||(t[13]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[14]||(t[14]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[15]||(t[15]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[16]||(t[16]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[17]||(t[17]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]))]),_:1}))]),_:1})]),_:1}))}};export{Ta as default};

import{Q as T,a as O}from"./QToolbar-CQT746vW.js";import{B as k,ah as V,c as u,o as e,w as a,g as t,Q as N,y as Q,e as p,bK as x,b as m,t as s,a as S,z as h,l as W}from"./index-BxW-Zl0Y.js";import{Q as d}from"./QSkeleton-C8aF4tWC.js";import{Q as $}from"./QImg-zCerElnr.js";import{Q as b,a as f}from"./QItemSection-Bb15NIFh.js";import{Q as v}from"./QItemLabel-mC5VkLuy.js";import{Q as q}from"./QList-50wBOg-c.js";import{a as A}from"./api-get-Voz9MJxZ.js";import{s as c}from"./santri-store-BMYy9yfl.js";const D={key:1},E={key:1},L={key:1},z={key:1},G={key:1},X={__name:"CardSantri",props:{id:{type:[Number,String],validator(l){if(typeof l=="number")return!isNaN(l);if(typeof l=="string"){const g=Number(l);return!isNaN(g)}return!1}}},emits:["loaded"],setup(l,{emit:g}){const C=g,w=l,o=k(!1),i=k({}),y=k({}),_=k({}),B=async()=>{const n=await A({endPoint:"santri/"+w.id,loading:o});n&&(i.value=n.santri,_.value=n.wali,y.value=n.ortu,c().setSantri(n.santri),c().setOrtu(n.ortu),c().setWali(n.wali))};return V(async()=>{if(w.id){const n=c().getSantri,r=c().getWali,I=c().getOrtu;n.id==w.id?(i.value=n,y.value=I,_.value=r):await B(),C("loaded",i.value)}}),(n,r)=>(e(),u(W,{flat:"",bordered:""},{default:a(()=>[t(N,{class:"no-padding"},{default:a(()=>[t(T,{class:"bg-green-1"},{default:a(()=>[t(O,{class:"text-subtitle1"},{default:a(()=>[...r[0]||(r[0]=[Q(" Identitas Santri ",-1)])]),_:1}),t(p,{icon:"sync",outline:"",onClick:B})]),_:1})]),_:1}),t(N,{class:"q-py-sm q-px-none"},{default:a(()=>[t(q,{dense:""},{default:a(()=>[t(b,null,{default:a(()=>[t(f,{avatar:""},{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"QAvatar"})):(e(),u(x,{key:1,class:"d-flex"},{default:a(()=>[t($,{src:i.value?.image_url||"/user-default.png",ratio:1,cover:""},null,8,["src"])]),_:1}))]),_:1}),t(f,null,{default:a(()=>[t(v,{overline:""},{default:a(()=>[...r[1]||(r[1]=[Q(" Santri ",-1)])]),_:1}),t(v,null,{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"text"})):(e(),m("div",D,s(i.value.nama)+" ("+s(i.value.sex)+")",1))]),_:1}),t(v,{caption:"",lines:"1"},{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"text"})):(e(),m("div",E,s(i.value?.alamat_pendek||"-"),1))]),_:1}),t(v,{caption:"",lines:"1",class:"text-italic"},{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"text"})):(e(),m("div",L,s(i.value?.data_akhir||"-"),1))]),_:1})]),_:1}),t(f,{avatar:""},{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"QBtn",class:"full-width"})):(e(),u(p,{key:1,outline:"",color:"green",to:`/santri/${i.value?.id}`},{default:a(()=>[S("small",null,s(i.value?.id),1)]),_:1},8,["to"]))]),_:1})]),_:1}),t(h,{inset:"item"}),t(b,null,{default:a(()=>[t(f,{top:"",avatar:""},{default:a(()=>[t(x)]),_:1}),t(f,null,{default:a(()=>[t(v,{overline:""},{default:a(()=>[...r[2]||(r[2]=[Q(" Wali ",-1)])]),_:1}),t(v,null,{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"text"})):(e(),m("div",z,s(_.value?.nama)+" ("+s(_.value?.sex)+"; "+s(i.value?.wali_status)+")",1))]),_:1})]),_:1}),t(f,{avatar:""},{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"QBtn",class:"full-width"})):(e(),u(p,{key:1,outline:"",color:"green",to:`/wali/${i.value?.wali_id}`},{default:a(()=>[S("small",null,s(i.value?.wali_id),1)]),_:1},8,["to"]))]),_:1})]),_:1}),t(h,{inset:"item"}),t(b,null,{default:a(()=>[t(f,{top:"",avatar:""},{default:a(()=>[t(x)]),_:1}),t(f,null,{default:a(()=>[t(v,{overline:""},{default:a(()=>[...r[3]||(r[3]=[Q(" Orang Tua ",-1)])]),_:1}),t(v,null,{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"text"})):(e(),m("div",G,s(y.value?.ayah)+" | "+s(y.value?.ibu),1))]),_:1})]),_:1}),t(f,{avatar:""},{default:a(()=>[o.value||!l.id?(e(),u(d,{key:0,type:"QBtn",class:"full-width"})):(e(),u(p,{key:1,outline:"",color:"green",to:`/ortu/${i.value?.ortu_id}`},{default:a(()=>[S("small",null,s(i.value?.ortu_id),1)]),_:1},8,["to"]))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{X as _};

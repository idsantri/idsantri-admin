import{a8 as v,A as d,W as b,c as w,o,w as s,b as e,y as _,Q as u,v as y,a as c,f as m,F as Q,z as q,bG as C,k as V,g as B}from"./index-0PBDf7I0.js";import{Q as h}from"./QPage-B2JjDCGV.js";import{a as p}from"./api-get-CJU_3mwN.js";import{l as E}from"./loading-store-DRDFBxcW.js";import{n as P}from"./index-BDNa_dSq.js";import"./index-BXLuJznK.js";import"./api-error-C1WPqECD.js";const S={class:"row"},W={__name:"ExportPage",setup(N){const{loadingMain:l}=v(E()),r=d([]),n=d([]);async function f(){const t=await p({endPoint:"status/lists",loading:l});r.value=t.status}b(async()=>{await f()});async function g(){const t=await p({endPoint:"export/santri",loading:l,params:{status:n.value}});if(!t)return;if(!t.url)return P("Url tidak ditemukan");const a=document.createElement("a");a.href=t.url,a.click(),a.remove()}return(t,a)=>(o(),w(h,{class:"q-pa-sm"},{default:s(()=>[e(_,{style:{"max-width":"600px"}},{default:s(()=>[e(u,{class:"bg-green-8 text-green-11 text-subtitle1 q-pa-sm"},{default:s(()=>[...a[1]||(a[1]=[y(" Ekspor Data Santri ",-1)])]),_:1}),e(u,{class:"q-pa-sm"},{default:s(()=>[a[2]||(a[2]=c("h2",{class:"text-subtitle1 text-italic q-pl-md"}," Tentukan status akhir santri yang ingin didownload ",-1)),c("div",S,[(o(!0),m(Q,null,q(r.value,(i,k)=>(o(),m("div",{key:k,class:"col-6"},[e(C,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=x=>n.value=x),val:i,label:i},null,8,["modelValue","val","label"])]))),128))])]),_:1}),e(V,{align:"right",class:"bg-green-6 q-pa-sm"},{default:s(()=>[e(B,{label:"Unduh","no-caps":"",class:"q-px-md",outline:"",color:"green-11",icon:"file_download",onClick:g})]),_:1})]),_:1})]),_:1}))}};export{W as default};

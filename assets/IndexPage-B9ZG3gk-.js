import{Q as B}from"./QSpace-rI7O3oMi.js";import{q as u,s as P,E as f,c,o as s,w as e,g as a,Q as V,l as j,b as g,F as _,D as b,v as h,t as v,e as w,a as i,a9 as H,p as M}from"./index-CEqRNMKa.js";import{Q as N,a as k}from"./QTable---ca2-S5.js";import{Q as y}from"./QTr-CxmFrTOz.js";import{Q as x}from"./QTd-hbrFc-CC.js";import{A as E}from"./ApiCrud-DQp7e7nl.js";import"./QList-BwIiBKrg.js";import"./QMarkupTable-Dw-js6Pc.js";import"./QSelect-Cq7a2gGZ.js";import"./QField-D4menuIJ.js";import"./QChip-CJrHXeq1.js";import"./QItem-CE7Gw7UR.js";import"./QItemLabel-DHWqC7wC.js";import"./QMenu-CIUGaSD_.js";import"./selection-Dn82c7hT.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-CA6Cw_DM.js";import"./Api-BLJ5CcMO.js";import"./index-DMQSfvx3.js";import"./index-DUDauND2.js";import"./apiPost-D18tN-j-.js";class I extends E{constructor(){super("rapor")}getById(){throw new Error("Method not implemented.")}update(){throw new Error("Method not implemented.")}async setting(){return(await this._apiGet({endPoint:`${this._path}/setting`})).data}}const Q=new I,se={__name:"IndexPage",setup(C){const d=u([]),n=u(!1),p=u("");async function m(){try{n.value=!0;const r=await Q.setting();d.value=r.rapor_setting}catch(r){console.error("ðŸš€ ~ loadData ~ error:",r)}finally{n.value=!1}}P(async()=>{await m()});async function A(r){try{n.value=!0,await Q.remove({id:r}),await m()}catch(l){console.error("ðŸš€ ~ deleteRow ~ error:",l)}finally{n.value=!1}}const D=[{name:"th_ajaran_h",label:"Th Ajaran H",align:"left",field:"th_ajaran_h",sortable:!0},{name:"tingkat",label:"Tingkat",align:"left",field:"tingkat",sortable:!0},{name:"kelas",label:"Kelas",align:"left",field:"kelas",sortable:!0},{name:"rapor_ke",label:"Ke",align:"left",field:"rapor_ke",sortable:!0},{name:"tgl_rapor",label:"Tanggal",align:"left",field:"tgl_rapor",sortable:!0},{name:"model_ujian",label:"Model",align:"left",field:"model_ujian",sortable:!0}];return(r,l)=>{const R=f("CardHeader"),T=f("CardPage");return s(),c(T,null,{default:e(()=>[a(R,{title:"Rapor (Printed)",onOnReload:m}),a(V,{class:"q-pa-sm"},{default:e(()=>[a(j,{style:{"max-width":"1024px"},flat:"",bordered:""},{default:e(()=>[a(N,{rows:d.value,loading:n.value,columns:D,"rows-per-page-options":[10,25,50,100,0],"row-key":"name",filter:p.value},{top:e(()=>[l[1]||(l[1]=i("div",{class:"text-green-10"},[i("div",{class:"text-subtitle1"},"Daftar Rapor yang Sudah Dicetak"),i("div",{class:"text-caption text-italic",style:{"line-height":"1rem"}}," Hapus data berikut agar DATA RAPOR (Nilai Mapel, Nilai Ahwal, dan Absensi) tidak terkunci! "),i("div",{class:"text-overline q-mb-sm",style:{"line-height":"1.5rem"}},"(Akses Admin)")],-1)),a(B),a(H,{outlined:"",dense:"",debounce:"300",color:"primary",placeholder:"Cari",modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=t=>p.value=t)},{append:e(()=>[a(M,{name:"search"})]),_:1},8,["modelValue"])]),header:e(t=>[a(y,{props:t},{default:e(()=>[(s(!0),g(_,null,b(t.cols,o=>(s(),c(k,{key:o.name,props:t},{default:e(()=>[h(v(o.label),1)]),_:2},1032,["props"]))),128)),a(k,{class:"text-center"},{default:e(()=>[a(w,{icon:"delete",color:"negative",dense:"",flat:"",disable:"",title:"Hapus"})]),_:1})]),_:2},1032,["props"])]),body:e(t=>[a(y,{props:t},{default:e(()=>[(s(!0),g(_,null,b(t.cols,o=>(s(),c(x,{key:o.name,props:t},{default:e(()=>[h(v(o.value),1)]),_:2},1032,["props"]))),128)),a(x,{class:"text-center"},{default:e(()=>[a(w,{icon:"sym_o_delete",color:"negative",dense:"",flat:"",onClick:o=>A(t.row.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","loading","filter"])]),_:1})]),_:1})]),_:1})}}};export{se as default};

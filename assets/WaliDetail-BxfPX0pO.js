import{Q as w}from"./QSpace-DJeipgZa.js";import{a8 as x,a7 as h,a4 as b,x as m,k as q,R as C,c as W,o as $,w as i,b as e,s as y,n as c,q as t,f as d}from"./index-Bf-p91mW.js";import{Q}from"./QPage-DbeGPrD5.js";import{f as D}from"./format-date-DlwYCgkJ.js";import{_ as B}from"./CardColumn-CnWjUfn4.js";import{_ as I}from"./CardSantriLists-D6aDMAtK.js";import{w as r}from"./wali-store-CFqGJVhA.js";import{f as S}from"./format-text-BhuG3ucy.js";import{d as N}from"./dialog-store-Bszvjqv7.js";import{W as R}from"./Wali-BwJJLxEn.js";import"./id-BuNGTsqN.js";import"./QSpinnerCube-CRIto8Mg.js";import"./QImg-DJapb2Ub.js";import"./QItemSection-Bl4rOme3.js";import"./QItemLabel-sjS6zLD0.js";import"./QList-51Eu5HNp.js";import"./ApiCrud-SVFtkNw7.js";import"./index-BtaF3-6r.js";import"./index-D7WC_quC.js";import"./api-error-C0HjZ2a3.js";const j={class:"flex items-center"},A={class:"row",style:{"max-width":"1024px"}},K={class:"col-12 col-md-6 q-pa-sm"},z={class:"col-12 col-md-6 q-pa-sm"},na={__name:"WaliDetail",setup(E){const{wali:a}=x(r()),u=h().params.id,p=N(),{searchWali:v,crudWali:f}=b(p),n=m([]),s=m(!1);async function _(){r().$reset();try{s.value=!0;const l=await R.getById({id:u});l&&(r().setWali(l.wali),n.value=a.value.santri)}catch{}finally{s.value=!1}}const g=q(()=>({ID:a.value.id,Nama:`${a.value.nama?.toUpperCase()} (${a.value.sex.toUpperCase()})`,NIK:a.value.nik||"-",Alamat:S(a.value.jl,a.value.rt,a.value.rw,a.value.desa,a.value.kecamatan,a.value.kabupaten,a.value.provinsi,a.value.kode_pos),Kelahiran:`${a.value.tmp_lahir||"-"}, ${D(a.value.tgl_lahir)}`,Pekerjaan:a.value.pekerjaan||"-",Kontak:(a.value.telepon||"-")+"; "+(a.value.email||"-")}));C(async()=>{await _()});function k(){r().setEdit(),f.value=!0}return(l,o)=>($(),W(Q,{class:"q-pa-sm"},{default:i(()=>[e(y,{class:""},{default:i(()=>[e(c,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:i(()=>[t("div",j,[o[1]||(o[1]=t("div",{class:"text-subtitle1"},"Data Wali",-1)),e(w),e(d,{label:"Cari",onClick:o[0]||(o[0]=U=>v.value=!0),size:"sm",color:"green-2",class:"text-green-10 q-mr-sm",icon:"search"}),e(d,{"no-caps":"",size:"sm",color:"green-2",class:"text-green-10",icon:"edit",label:"Edit",onClick:k})])]),_:1}),e(c,{class:"no-padding"},{default:i(()=>[t("div",A,[t("div",K,[e(B,{data:g.value,loading:s.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"])]),t("div",z,[e(I,{data:n.value,loading:s.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})]),_:1}))}};export{na as default};

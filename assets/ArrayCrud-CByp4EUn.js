const L=(()=>{const d=t=>!t||typeof t!="object"?(console.warn("ArrayCrud: Parameter bukan object yang valid"),!1):!0,l=(t,n,e="last")=>{if(!d(n))return t;const r=[...t];return e==="first"?r.unshift(n):r.push(n),r},a=(t,n,e,r="id")=>d(e)?t.map(s=>s[r]==n?{...s,...e}:s):t,p=(t,n,e="id",r="last")=>{const s=n[e];return f(t,s,e)?a(t,s,n,e):l(t,n,r)},g=(t,n,e,r="id")=>t.map(s=>s[r]==n?{...s,[e]:!s[e]}:s),v=(t,n,e="id")=>t.filter(r=>r[e]!=n),C=(t,n,e="id")=>t.find(r=>r[e]==n)||null,f=(t,n,e="id")=>t.some(r=>r[e]==n);return{create:l,update:a,updateOrCreate:p,toggle:g,remove:v,findById:C,exists:f,search:(t,n)=>{if(!n)return t;const e=n.toLowerCase();return t.filter(r=>Object.values(r).some(s=>String(s).toLowerCase().includes(e)))},sort:(t,n,e="asc")=>{const r=[...t];return r.sort((s,o)=>{const u=s[n],c=o[n],i=String(u).localeCompare(String(c),void 0,{numeric:!0,sensitivity:"base"});return e==="asc"?i:-i}),r},sortPrimitiveArray:(t,n="asc")=>{const e=[...t];return e.sort((r,s)=>{const o=r.localeCompare(s,void 0,{sensitivity:"base"});return n.toLowerCase()==="desc"?-o:o}),e},groupBy:(t,n)=>t.reduce((e,r)=>{const s=typeof n=="function"?n(r):r[n];return e[s]||(e[s]=[]),e[s].push(r),e},{}),paginate:(t,n=1,e=10)=>{const r=(n-1)*e;return t.slice(r,r+e)},flattenNestedKey:(t,n,e="_")=>t.map(r=>{const{[n]:s,...o}=r;if(!s)return r;const u={};for(const[c,i]of Object.entries(s))u[`${n}${e}${c}`]=i;return{...o,...u}}),findMax:(t,n="id")=>t.length?t.reduce((e,r)=>r[n]>e[n]?r:e,t[0]):null,findMin:(t,n="id")=>t.length?t.reduce((e,r)=>r[n]<e[n]?r:e,t[0]):null}})();export{L as A};

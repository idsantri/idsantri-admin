import{q as v,c as y,o as b,w as d,g as e,b as B,f as C,bL as Y,F as M,D as R,v as K,t as G,e as V,ap as U,s as A,Y as H,E as D,af as O,G as I,Q as S,a9 as x,l as q,J as P,N as z}from"./index-DR2CEZR0.js";import{Q}from"./QSpace-DOg8vEJK.js";import{a as E}from"./alamat-store-C3qHaYQW.js";import{a as T,Q as X}from"./QTable-vOr7gFZq.js";import{Q as J}from"./QTr-Blb_mLzE.js";import{Q as W}from"./QTd-DRGK2HIV.js";import{Q as N}from"./QForm-DUbKQ737.js";import{A as h}from"./Alamat-CmibE-rR.js";import{u as L}from"./useCrudForm-p-z8lbO1.js";import{n as Z}from"./index-CfIJTyOD.js";import"./QList-BNpCTGZO.js";import"./QMarkupTable-CMV9tfmx.js";import"./QSelect-0U3eRCbl.js";import"./QField-DlBlyvWL.js";import"./QChip-BuVLeKi9.js";import"./QItem-CIny6pNk.js";import"./QItemLabel-CoqsRKEJ.js";import"./QMenu-CWbJgUlK.js";import"./selection-udYJUrEX.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-cskmkqH7.js";import"./Api-DR7rJy8H.js";import"./index-hOPLlut5.js";import"./apiPost-D8wci2uF.js";import"./ApiCrud-D-RefZRP.js";const ee={key:0,class:"text-center"},j={__name:"TableAlamat",props:{rows:{type:Array},columns:{type:Array},loading:{type:Boolean,default:()=>!1},noCheckBox:{type:Boolean,default:()=>!1}},setup(_){const r=v([]);return(o,i)=>(b(),y(X,{flat:"",bordered:"",rows:_.rows,columns:_.columns,"row-key":"id",selection:"single",selected:r.value,"onUpdate:selected":i[1]||(i[1]=n=>r.value=n),"rows-per-page-options":[0],"virtual-scroll":"",style:{height:"75vh"},loading:_.loading},{header:d(n=>[e(J,{props:n},{default:d(()=>[_.noCheckBox?C("",!0):(b(),y(T,{key:0,class:"text-center"},{default:d(()=>[...i[2]||(i[2]=[K("!",-1)])]),_:1})),(b(!0),B(M,null,R(n.cols,u=>(b(),y(T,{key:u.name,props:n},{default:d(()=>[K(G(u.label),1)]),_:2},1032,["props"]))),128)),e(T,{class:"text-center"},{default:d(()=>[...i[3]||(i[3]=[K("!",-1)])]),_:1})]),_:2},1032,["props"])]),body:d(n=>[e(J,{props:n},{default:d(()=>[_.noCheckBox?C("",!0):(b(),B("td",ee,[e(Y,{modelValue:n.selected,"onUpdate:modelValue":[u=>n.selected=u,i[0]||(i[0]=u=>o.$emit("onSelect",r.value[0]))],dense:"","checked-icon":"sym_o_check_circle","unchecked-icon":"sym_o_radio_button_unchecked"},null,8,["modelValue","onUpdate:modelValue"])])),(b(!0),B(M,null,R(n.cols,u=>(b(),y(W,{key:u.name,props:n},{default:d(()=>[K(G(u.value),1)]),_:2},1032,["props"]))),128)),e(W,{class:"text-center"},{default:d(()=>[e(V,{icon:"edit",dense:"",color:"green-10",outline:"",onClick:u=>o.$emit("onEdit",n.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","selected","loading"]))}},ae={__name:"AlamatProvinsiForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(_,{emit:r}){const o=_,i=r,n=v({...o.data}),u=!o.data?.id,m=U("firstInput");A(async()=>{await H(),m.value&&m.value.focus()});const{handleDelete:c,handleCreate:w,handleUpdate:g,loading:k}=L(h.Provinsi,{emit:i,responseKey:"provinsi"}),f=async l=>{const t=new FormData(l.target),p=Object.fromEntries(t.entries());return u?await w(p,!0):await g(o.data.id,p,!0)},a=async()=>await c(o.data.id);return(l,t)=>{const p=D("FormHeader"),F=D("FormLoading"),$=D("FormActions");return b(),y(q,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[e(N,{onSubmit:O(f,["prevent"])},{default:d(()=>[e(p,{title:"Input Provinsi","is-new":u}),I(k)?(b(),y(F,{key:0})):C("",!0),e(S,null,{default:d(()=>[e(x,{modelValue:n.value.id,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value.id=s),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Provinsi",rules:[s=>!!s||"Harus diisi!",s=>/^[a-zA-Z0-9]+$/.test(s)||"Harus berisi huruf atau angka!"],ref_key:"firstInput",ref:m},null,8,["modelValue","rules"]),e(x,{modelValue:n.value.provinsi,"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.provinsi=s),name:"provinsi",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Provinsi",rules:[s=>!!s||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),e($,{"btn-delete":!u,onOnDelete:a},null,8,["btn-delete"])]),_:1})]),_:1})}}},te={__name:"DataProvinsi",setup(_){const r=v([]),o=v(!1),i=v({}),n=v(!1),u=E();async function m(){r.value=[];const f=u.getProvinsi();f?.length>0?r.value=f:await c()}async function c(){try{o.value=!0;const f=await h.Provinsi.getAll();f&&f.provinsi&&(u.setProvinsi(f.provinsi),r.value=u.getProvinsi())}catch{console.log("error get provinsi")}finally{o.value=!1}}function w(){i.value={},n.value=!0}function g(f){i.value=f,n.value=!0}A(async()=>{await m()});const k=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0},{name:"provinsi",align:"left",label:"Provinsi",field:"provinsi",sortable:!0}];return(f,a)=>(b(),y(q,null,{default:d(()=>[e(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:d(()=>[a[2]||(a[2]=K(" Provinsi ",-1)),e(Q),e(V,{onClick:c,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),e(V,{onClick:w,icon:"add",round:"",dense:"",flat:""})]),_:1}),e(j,{rows:r.value,columns:k,loading:o.value,onOnSelect:a[0]||(a[0]=l=>f.$emit("onSelect",l)),onOnEdit:g},null,8,["rows","loading"]),e(P,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=l=>n.value=l)},{default:d(()=>[e(ae,{data:i.value,onSuccessDelete:c,onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},ne={__name:"AlamatKabupatenForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(_,{emit:r}){const o=_,i=r,n=v({...o.data}),u=!o.data?.id,m=U("firstInput");A(async()=>{await H(),m.value&&m.value.focus()});const{handleDelete:c,handleCreate:w,handleUpdate:g,loading:k}=L(h.Kabupaten,{emit:i,responseKey:"kabupaten"}),f=async l=>{const t=new FormData(l.target),p=Object.fromEntries(t.entries());return u?await w(p,!0):await g(o.data.id,p,!0)},a=async()=>await c(o.data.id);return(l,t)=>{const p=D("FormHeader"),F=D("FormLoading"),$=D("FormActions");return b(),y(q,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[e(N,{onSubmit:O(f,["prevent"])},{default:d(()=>[e(p,{title:"Input Kabupaten/Kota","is-new":u}),I(k)?(b(),y(F,{key:0})):C("",!0),e(S,null,{default:d(()=>[e(x,{modelValue:n.value.provinsi_id,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value.provinsi_id=s),name:"provinsi_id",dense:"",class:"",outlined:"",required:"",label:"Kode Provinsi",rules:[s=>!!s||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),e(x,{modelValue:n.value.id,"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.id=s),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kabupaten/Kota",rules:[s=>!!s||"Harus diisi!",s=>/^[a-zA-Z0-9]+$/.test(s)||"Harus berisi huruf atau angka!"],ref_key:"firstInput",ref:m},null,8,["modelValue","rules"]),e(x,{modelValue:n.value.kabupaten,"onUpdate:modelValue":t[2]||(t[2]=s=>n.value.kabupaten=s),name:"kabupaten",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Kabupaten/Kota",rules:[s=>!!s||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),e($,{"btn-delete":!u,onOnDelete:a},null,8,["btn-delete"])]),_:1})]),_:1})}}},le={__name:"DataKabupaten",props:{provinsi_id:{type:String,required:!0,default:""}},setup(_){const r=_,o=v([]),i=v(!1),n=v({}),u=v(!1),m=E();async function c(){o.value=[];const{provinsi_id:a}=r;if(a)try{i.value=!0;const l=await h.Kabupaten.getAll({params:{provinsi_id:a}});l&&l.kabupaten&&(m.setKabupaten(l.kabupaten,{provinsi_id:a}),o.value=m.getKabupaten({provinsi_id:a}))}catch{console.log("error get kabupaten")}finally{i.value=!1}}async function w(){o.value=[];const{provinsi_id:a}=r;if(!a)return;const l=m.getKabupaten({provinsi_id:a});l?.length>0?o.value=l:c()}function g(){const{provinsi_id:a}=r;if(!a)return Z("Pilih provinsi terlebih dahulu!");n.value={provinsi_id:a},u.value=!0}function k(a){n.value=a,u.value=!0}z(()=>r.provinsi_id,async a=>{await w()});const f=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:a=>`${a.replace(/(\w{2})(\w{2})/,"$1.$2")}`},{name:"kabupaten",align:"left",label:"Kabupaten",field:"kabupaten",sortable:!0}];return(a,l)=>(b(),y(q,null,{default:d(()=>[e(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:d(()=>[l[2]||(l[2]=K(" Kabupaten/Kota ",-1)),e(Q),e(V,{onClick:c,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),e(V,{onClick:g,icon:"add",round:"",dense:"",flat:""})]),_:1}),e(j,{rows:o.value,columns:f,loading:i.value,onOnSelect:l[0]||(l[0]=t=>a.$emit("onSelect",t)),onOnEdit:k},null,8,["rows","loading"]),e(P,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t)},{default:d(()=>[e(ne,{data:n.value,onSuccessDelete:c,onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},se={__name:"AlamatKecamatanForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(_,{emit:r}){const o=_,i=r,n=v({...o.data}),u=!o.data?.id,m=U("firstInput");A(async()=>{await H(),m.value&&m.value.focus()});const{handleDelete:c,handleCreate:w,handleUpdate:g,loading:k}=L(h.Kecamatan,{emit:i,responseKey:"kecamatan"}),f=async l=>{const t=new FormData(l.target),p=Object.fromEntries(t.entries());return u?await w(p,!0):await g(o.data.id,p,!0)},a=async()=>await c(o.data.id);return(l,t)=>{const p=D("FormHeader"),F=D("FormLoading"),$=D("FormActions");return b(),y(q,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[e(N,{onSubmit:O(f,["prevent"])},{default:d(()=>[e(p,{title:"Input Kecamatan/Distrik","is-new":u}),I(k)?(b(),y(F,{key:0})):C("",!0),e(S,null,{default:d(()=>[e(x,{modelValue:n.value.kabupaten_id,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value.kabupaten_id=s),name:"kabupaten_id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kabupaten/Kota",rules:[s=>!!s||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),e(x,{modelValue:n.value.id,"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.id=s),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kecamatan/Distrik",rules:[s=>!!s||"Harus diisi!",s=>/^[a-zA-Z0-9]+$/.test(s)||"Harus berisi huruf atau angka!"],ref_key:"firstInput",ref:m},null,8,["modelValue","rules"]),e(x,{modelValue:n.value.kecamatan,"onUpdate:modelValue":t[2]||(t[2]=s=>n.value.kecamatan=s),name:"kecamatan",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Kecamatan/Distrik",rules:[s=>!!s||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),e($,{"btn-delete":!u,onOnDelete:a},null,8,["btn-delete"])]),_:1})]),_:1})}}},oe={__name:"DataKecamatan",props:{provinsi_id:{type:String,required:!0,default:""},kabupaten_id:{type:String,required:!0,default:""}},setup(_){const r=_,o=v([]),i=v(!1),n=v({}),u=v(!1),m=E();async function c(){o.value=[];const{provinsi_id:a,kabupaten_id:l}=r;if(!(!l||!a))try{i.value=!0;const t=await h.Kecamatan.getAll({params:{kabupaten_id:l}});t&&t.kecamatan&&(m.setKecamatan(t.kecamatan,{provinsi_id:a,kabupaten_id:l}),o.value=m.getKecamatan({provinsi_id:a,kabupaten_id:l}))}catch{console.log("error get kecamatan")}finally{i.value=!1}}async function w(){o.value=[];const{provinsi_id:a,kabupaten_id:l}=r;if(!l||!a)return;const t=m.getKecamatan({provinsi_id:a,kabupaten_id:l});t?.length>0?o.value=t:await c()}function g(){const{kabupaten_id:a}=r;if(!a)return Z("Pilih kabupaten terlebih dahulu!");n.value={kabupaten_id:a},u.value=!0}function k(a){n.value=a,u.value=!0}z(()=>r.kabupaten_id,async a=>{await w()});const f=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:a=>`${a.replace(/(\w{2})(\w{2})(\w{2})/,"$1.$2.$3")}`},{name:"kecamatan",align:"left",label:"Kecamatan",field:"kecamatan",sortable:!0}];return(a,l)=>(b(),y(q,null,{default:d(()=>[e(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:d(()=>[l[2]||(l[2]=K(" Kecamatan/Distrik ",-1)),e(Q),e(V,{onClick:c,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),e(V,{onClick:g,icon:"add",round:"",dense:"",flat:""})]),_:1}),e(j,{rows:o.value,columns:f,loading:i.value,onOnSelect:l[0]||(l[0]=t=>a.$emit("onSelect",t)),onOnEdit:k},null,8,["rows","loading"]),e(P,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t)},{default:d(()=>[e(se,{data:n.value,onSuccessDelete:c,onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},ue={__name:"AlamatDesaForm",props:{data:{type:Object,required:!1,default:()=>{}}},emits:["successDelete","successSubmit","successUpdate","successCreate"],setup(_,{emit:r}){const o=_,i=r,n=v({...o.data}),u=!o.data?.id,m=U("firstInput");A(async()=>{await H(),m.value&&m.value.focus()});const{handleDelete:c,handleCreate:w,handleUpdate:g,loading:k}=L(h.Desa,{emit:i,responseKey:"desa"}),f=async l=>{const t=new FormData(l.target),p=Object.fromEntries(t.entries());return u?await w(p,!0):await g(o.data.id,p,!0)},a=async()=>await c(o.data.id);return(l,t)=>{const p=D("FormHeader"),F=D("FormLoading"),$=D("FormActions");return b(),y(q,{class:"full-width",style:{"max-width":"425px"}},{default:d(()=>[e(N,{onSubmit:O(f,["prevent"])},{default:d(()=>[e(p,{title:"Input Desa/Kelurahan","is-new":u}),I(k)?(b(),y(F,{key:0})):C("",!0),e(S,null,{default:d(()=>[e(x,{modelValue:n.value.kecamatan_id,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value.kecamatan_id=s),name:"kecamatan_id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Kecamatan/Distrik",rules:[s=>!!s||"Harus diisi!"],readonly:""},null,8,["modelValue","rules"]),e(x,{modelValue:n.value.id,"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.id=s),name:"id",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Kode Desa/Kelurahan",rules:[s=>!!s||"Harus diisi!",s=>/^[a-zA-Z0-9]+$/.test(s)||"Harus berisi huruf atau angka!"],ref_key:"firstInput",ref:m},null,8,["modelValue","rules"]),e(x,{modelValue:n.value.desa,"onUpdate:modelValue":t[2]||(t[2]=s=>n.value.desa=s),name:"desa",dense:"",class:"q-my-sm",outlined:"",required:"",label:"Nama Desa/Kelurahan",rules:[s=>!!s||"Harus diisi!"]},null,8,["modelValue","rules"])]),_:1}),e($,{"btn-delete":!u,onOnDelete:a},null,8,["btn-delete"])]),_:1})]),_:1})}}},ie={__name:"DataDesa",props:{provinsi_id:{type:String,required:!0,default:""},kabupaten_id:{type:String,required:!0,default:""},kecamatan_id:{type:String,required:!0,default:""}},setup(_){const r=_,o=v([]),i=v(!1),n=v({}),u=v(!1),m=E();async function c(){o.value=[];const{provinsi_id:a,kabupaten_id:l,kecamatan_id:t}=r;if(!(!l||!a||!t))try{i.value=!0;const p=await h.Desa.getAll({params:{kecamatan_id:t}});p&&p.desa&&(m.setDesa(p.desa,{provinsi_id:a,kabupaten_id:l,kecamatan_id:t}),o.value=m.getDesa({provinsi_id:a,kabupaten_id:l,kecamatan_id:t}))}catch{console.log("error get desa")}finally{i.value=!1}}async function w(){o.value=[];const{provinsi_id:a,kabupaten_id:l,kecamatan_id:t}=r;if(!l||!a||!t)return;const p=m.getDesa({provinsi_id:a,kabupaten_id:l,kecamatan_id:t});p?.length>0?o.value=p:await c()}function g(){const{kecamatan_id:a}=r;if(!a)return Z("Pilih kecamatan terlebih dahulu!");n.value={kecamatan_id:a},u.value=!0}function k(a){n.value=a,u.value=!0}z(()=>r.kecamatan_id,async a=>{await w()});const f=[{name:"id",label:"ID",align:"left",field:"id",sortable:!0,format:a=>`${a.replace(/(\w{2})(\w{2})(\w{2})(\w{4})/,"$1.$2.$3.$4")}`},{name:"desa",align:"left",label:"Desa",field:"desa",sortable:!0}];return(a,l)=>(b(),y(q,null,{default:d(()=>[e(S,{class:"q-pa-sm bg-green-7 text-green-11 text-subtitle1 flex flex-center"},{default:d(()=>[l[1]||(l[1]=K(" Desa/Kelurahan ",-1)),e(Q),e(V,{onClick:c,icon:"sync",round:"",dense:"",flat:"",class:"q-mr-md"}),e(V,{onClick:g,icon:"add",round:"",dense:"",flat:""})]),_:1}),e(j,{rows:o.value,columns:f,loading:i.value,onOnSelect:t=>null,"no-check-box":!0,onOnEdit:k},null,8,["rows","loading"]),e(P,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=t=>u.value=t)},{default:d(()=>[e(ue,{data:n.value,onSuccessDelete:c,onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}))}},Oe={__name:"IndexAlamat",setup(_){const r=v(""),o=v(""),i=v("");function n(c){r.value=c?.id??"",o.value="",i.value=""}function u(c){o.value=c?.id??"",i.value=""}function m(c){i.value=c?.id??""}return(c,w)=>{const g=D("CardHeader"),k=D("CardPage");return b(),y(k,null,{default:d(()=>[e(g,{title:"Pengaturan Alamat",showReload:!1}),e(S,{class:"no-padding full-width row no-wrap justify-start items-start content-start scroll"},{default:d(()=>[e(te,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:n}),e(le,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:u,provinsi_id:r.value},null,8,["provinsi_id"]),e(oe,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},onOnSelect:m,provinsi_id:r.value,kabupaten_id:o.value},null,8,["provinsi_id","kabupaten_id"]),e(ie,{class:"q-ma-sm",style:{"min-width":"400px","max-width":"400px"},provinsi_id:r.value,kabupaten_id:o.value,kecamatan_id:i.value},null,8,["provinsi_id","kabupaten_id","kecamatan_id"])]),_:1})]),_:1})}}};export{Oe as default};

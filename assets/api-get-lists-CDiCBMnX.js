import{aA as f}from"./index-BKgLw7qS.js";import{a as o}from"./index-pAYl4WkA.js";import{a as g}from"./api-error-Dc8TQ_NU.js";const _=f("lists-madrasah",{state:()=>({thAjaran:[],ujian:[{value:1,label:"Satu"},{value:2,label:"Dua"},{value:3,label:"Tiga"},{value:4,label:"Empat"}],bulanUjianSetting:[],bulanUjianList:[]}),getters:{getThAjaran:a=>a.thAjaran,getUjian:a=>a.ujian},actions:{setThAjaran(a){this.thAjaran=a},addTingkatToTahun(a,t){this.thAjaran.forEach(n=>{n.th_ajaran_h==t&&(n.tingkat=a)})},getTingkatByTahun(a){return this.thAjaran.find(n=>n.th_ajaran_h==a)?.tingkat||[]},addKelasToTingkatByTahun(a,t,n){this.thAjaran.forEach(i=>{i.th_ajaran_h==n&&i.tingkat.forEach(e=>{e.tingkat_id==t&&(e.kelas=a)})})},getKelasByTingkatAndTahun(a,t){const n=this.thAjaran.find(e=>e.th_ajaran_h==t);return n?n.tingkat.find(e=>e.tingkat_id==a)?.kelas||[]:[]},getAllTingkat(){return this.thAjaran.map(t=>t.tingkat).filter(t=>t).reduce((t,n)=>t.concat(n),[]).filter((t,n,i)=>i.findIndex(e=>e.tingkat_id===t.tingkat_id)===n)||[]},addBulanUjianSetting(a){a.forEach(t=>{this.bulanUjianSetting.some(n=>n.id==t.id)||this.bulanUjianSetting.push(t)})},getBulanUjianSettingByTingkatId(a){return this.bulanUjianSetting.filter(n=>n.tingkat_id==a)||[]},addBulanUjianList(a){a.forEach(t=>{this.bulanUjianList.some(n=>n.th_ajaran_h==t.th_ajaran_h&&n.tingkat_id==t.tingkat_id&&n.bu==t.bu)||this.bulanUjianList.push(t)})},getBulanUjianListByTahunAndTingkatId(a,t){return this.bulanUjianList.filter(i=>i.th_ajaran_h==a&&i.tingkat_id==t)||[]}},persist:{storage:sessionStorage}});function j(a){for(let t=0;t<a.length;t++)if(typeof a[t]=="object")return!0;return!1}async function k({loadingArray:a,loading:t,key:n,url:i,params:e,sort:s=null}){a&&(a.value[n]=!0),t&&typeof t.value=="boolean"&&(t.value=!0);try{const{data:u}=await o.get(i,{params:e}),l=u.data[n].filter(r=>r!=null);return j(l)||(s==="asc"||s===!0?l.sort((r,h)=>r.localeCompare(h,void 0,{sensitivity:"base"})):(s==="desc"||s===!1)&&l.sort((r,h)=>h.localeCompare(r,void 0,{sensitivity:"base"}))),l}catch(u){return g(u),!1}finally{a&&(a.value[n]=!1),t&&typeof t.value=="boolean"&&(t.value=!1)}}export{k as g,_ as l};

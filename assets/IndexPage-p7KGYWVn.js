import{Q}from"./QItemLabel-eSgkXZH5.js";import{Q as w,a as p}from"./QItem-DcqOGtWG.js";import{ad as C,q as f,E as i,c as m,o as d,w as e,g as a,n as h,v,p as q,Q as n,l as b,a as D,e as P,J as V}from"./index-C57i_hMy.js";import{Q as j}from"./QList-Cnw6cxTH.js";import{Q as E}from"./QSpace-Cd49B8iz.js";import{Q as I}from"./QSpinnerCube-Dp3-ZiGI.js";import{C as y}from"./ClosePopup-D5fiLQXK.js";import{n as _}from"./index-DmYQsRXq.js";import{a as B}from"./api-get-BYH7Gftn.js";import{_ as H}from"./FilterKelas-gkfPRZb_.js";import"./index-b7ivpJli.js";import"./api-error-AQlb8q4F.js";import"./QToolbar-Df8GXT4q.js";import"./api-get-lists-DY62dLZk.js";import"./QSelect-DQdJ2QrH.js";import"./QField-C9p_0mp8.js";import"./QChip-BvIVBwVA.js";import"./QMenu-B9LZCPwA.js";import"./selection-DkrmP5of.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";const L=["innerHTML"],ra={__name:"IndexPage",setup(S){const{params:r}=C(),l=f(!1),u=f("");async function c(){if(!r.th_ajaran_h||!r.tingkat_id){_("Tentukan tahun ajaran dan tingkat pendidikan!");return}const o=await B({endPoint:"export/kelas",loading:l,params:{th_ajaran_h:r.th_ajaran_h,tingkat_id:r.tingkat_id}});if(!o)return;if(!o.url)return _("Url tidak ditemukan");const t=document.createElement("a");t.href=o.url,t.click(),t.remove()}return(o,t)=>{const g=i("CardHeader"),k=i("router-view"),x=i("CardPage");return d(),m(x,null,{default:e(()=>[a(g,{title:"Data Murid","show-reload":!1},{more:e(()=>[a(j,null,{default:e(()=>[h((d(),m(w,{to:"/madrasah/kenaikan-kelas"},{default:e(()=>[a(p,null,{default:e(()=>[a(Q,null,{default:e(()=>[...t[2]||(t[2]=[v("Kenaikan Kelas",-1)])]),_:1})]),_:1}),a(p,{avatar:""},{default:e(()=>[a(q,{name:"trending_up",flat:""})]),_:1})]),_:1})),[[y]])]),_:1})]),_:1}),a(n,{class:"q-pa-sm"},{default:e(()=>[a(H,{"show-ujian-ke":!1,"start-url":"/madrasah/murid",onDataFilter:t[0]||(t[0]=s=>u.value=s)})]),_:1}),a(n,{class:"q-pa-sm"},{default:e(()=>[a(b,{flat:"",bordered:""},{default:e(()=>[a(n,{class:"bg-green-8 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:e(()=>[D("span",{innerHTML:u.value||""},null,8,L),a(E),a(P,{dense:"",icon:"sym_o_download",label:"Excel","no-caps":"",class:"bg-green-11 text-green-10 q-px-md",onClick:c,title:"Download Excel"})]),_:1}),a(n,{class:"q-pa-sm"},{default:e(()=>[a(V,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=s=>l.value=s),persistent:""},{default:e(()=>[a(I,{color:"green-12",size:"8em",class:"flex q-ma-lg q-mx-auto"})]),_:1},8,["modelValue"]),(d(),m(k,{key:o.$route.fullPath}))]),_:1})]),_:1})]),_:1})]),_:1})}}};export{ra as default};

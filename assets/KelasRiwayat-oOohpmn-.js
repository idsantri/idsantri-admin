import{q as r,ad as S,N as V,E as $,b as d,o as n,g as t,a as B,w as o,F as L,D as N,c as j,aj as q,G as b,e as c,v as m,t as s,C as D,J as E,l as F}from"./index-BeuhZ-ol.js";import{Q as G,a as h}from"./QItem-qAKJqzX7.js";import{Q as I}from"./QSpace-D9jlXOGO.js";import{Q as f}from"./QItemLabel-CMAJZVV_.js";import{Q as K}from"./QList-SMP-2XJV.js";import{a as R}from"./api-get-ItlXgaJz.js";import{_ as T}from"./KelasForm-CxDn8iJ2.js";import"./index-Cg0spb8C.js";import"./index-BXhUsTyQ.js";import"./api-error-FN4ckS3j.js";import"./QForm-zVA3WIzN.js";import"./InputSelectArray-r7BH8FdB.js";import"./QSelect-CSuiH4Z6.js";import"./QField-4_Uk7UCx.js";import"./QChip-CWLqqxtS.js";import"./QMenu-8-e25rsX.js";import"./selection-DHH_NrKf.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./lists-store-CbsLE9yb.js";import"./ArrayCrud-CkcA-ixF.js";import"./DropDownAfter-B3VX2FZv.js";import"./QBtnDropdown-BwtBZtIz.js";import"./QBtnGroup-DYd-aqjJ.js";import"./ClosePopup-3JOTOK1J.js";import"./Lists-CFN_8hfr.js";import"./ApiCrud-CEdYpkid.js";import"./Api-BhplmBSY.js";import"./InputSelectTingkatPendidikan-Cj7C-Kir.js";import"./useCrudForm-DNtu3sdk.js";import"./InputSelectTahunAjaran-0cImFqfr.js";const z={key:0,class:"text-italic text-center q-pa-lg"},J={key:1},O={class:"absolute-bottom-right q-ma-sm"},ka={__name:"KelasRiwayat",props:{santri_id:{type:[String,Number]}},setup(g){const k=g,u=r(!1),{params:_}=S(),v=r(!1),y=r({}),l=r([]),p=r({});function C(){y.value={nama:p.value.nama||"",santri_id:p.value.id||""},u.value=!0}async function Q(i){const e=await R({endPoint:`kelas/santri/${i}`,loading:v});e.kelas&&(l.value=e.kelas,p.value=e.santri)}return V(()=>k.santri_id,i=>{i?Q(i):l.value=[]},{immediate:!0}),(i,e)=>{const w=$("CardLoading");return n(),d("div",null,[t(F,{bordered:"",flat:""},{default:o(()=>[l.value?.length?(n(),d("div",J,[(n(!0),d(L,null,N(l.value,(a,x)=>(n(),j(K,{key:x},{default:o(()=>[t(G,{class:q(a.id==b(_).id?"bg-green-1":"")},{default:o(()=>[t(h,{side:""},{default:o(()=>[t(c,{round:"",dense:"",glossy:"",color:"green-6",icon:"play_arrow",to:`/madrasah/kelas/${a.id}/riwayat`,disable:a.id==b(_).id},null,8,["to","disable"])]),_:2},1024),t(h,null,{default:o(()=>[t(f,{overline:"",class:"flex"},{default:o(()=>[m(s(a.th_ajaran_h)+" | "+s(a.th_ajaran_m)+" ",1),t(I),m(" "+s(a.id),1)]),_:2},1024),t(f,null,{default:o(()=>[m(s(a.tingkat)+" â€” "+s(a.kelas)+" "+s(a.no_absen?"("+("0"+a.no_absen).slice(-2)+")":""),1)]),_:2},1024),t(f,{caption:"",class:"text-italic"},{default:o(()=>[m(s(a.keterangan?a.keterangan:"-"),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]),t(D)]),_:2},1024))),128))])):(n(),d("div",z,"Tidak ada untuk ditampilkan")),t(w,{showing:v.value},null,8,["showing"]),t(E,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a)},{default:o(()=>[t(T,{data:y.value,onSuccessCreate:e[0]||(e[0]=a=>i.$router.push(`/madrasah/kelas/${a.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1}),B("div",O,[t(c,{style:{},icon:"sync",round:"",dense:"",outline:"",color:"green-10",glossy:"",class:"q-mr-sm",onClick:e[2]||(e[2]=a=>Q(g.santri_id))}),t(c,{style:{opacity:"0.8"},icon:"add",round:"",dense:"",color:"green-10",glossy:"",class:"text-green-11",onClick:C})])])}}};export{ka as default};

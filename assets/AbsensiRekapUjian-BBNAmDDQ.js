import{v as d,a7 as y,R as k,r as o,o as i,i as r,w as l,Q as c,k as t,j,t as e,z as S,y as v,F as h,s as T,p as b,q as w}from"./index-1h6WQa8x.js";import{Q as A}from"./QSkeleton-BA_8lTLb.js";import{Q as q}from"./QMarkupTable-CljO3Fff.js";import{a as I}from"./api-get-BY6mtHh6.js";import{_ as Q}from"./FilterKelas-CQcIF6Wt.js";import{t as N}from"./format-text-BhuG3ucy.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CpzetzrR.js";import"./index-_Ec9HkD1.js";import"./api-error-B2Y93K9w.js";import"./QToolbarTitle-DdD-fGk3.js";import"./QToolbar-vKMNabI2.js";import"./QSpace-CR7bsMEl.js";import"./lists-madrasah-store-C0k6j_EP.js";import"./QSelect-DyXiAk3o.js";import"./QChip-DJ1cSnO8.js";import"./QItemSection-CDMonx4a.js";import"./QItemLabel-BCrbjFPh.js";import"./QMenu-C8eKSCkY.js";import"./selection-Bkxc-DqK.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./api-get-lists-BZgeu587.js";const U={class:"text-subtitle1"},$=["innerHTML"],B={key:0},D={key:1},F={colspan:"50"},M={key:2},R={class:"text-center"},V={class:"text-center"},L={class:"text-center"},z={class:"text-left td-nama"},H={class:"bg-grey-1"},E={class:"bg-grey-1"},G={class:"bg-grey-1"},K={class:"bg-grey-1"},P={class:"bg-green-1"},J={class:"bg-green-1"},O={class:"bg-green-1"},W={class:"bg-green-1"},X={class:"bg-grey-1"},Y={class:"bg-grey-1"},Z={class:"bg-grey-1"},tt={class:"bg-grey-1"},st={class:"bg-green-2"},et={class:"bg-green-2"},at={class:"bg-green-2"},nt={class:"bg-green-2"},rt={__name:"AbsensiRekapUjian",setup(lt){const _=d(!1),g=y(),p=d([]),a={absensi:g.params.absensi,th_ajaran_h:g.params.th_ajaran_h,tingkat_id:g.params.tingkat_id,kelas:g.params.kelas},u=d("");async function x(){if(a.th_ajaran_h&&a.tingkat_id&&a.kelas){const m=await I({endPoint:`absensi/${a.absensi}/rekap-ujian`,loading:_,params:{th_ajaran_h:a.th_ajaran_h,tingkat_id:a.tingkat_id,kelas:a.kelas}});p.value=m["absensi_"+a.absensi]}}return k(async()=>{await x()}),(m,n)=>(i(),o(h,null,[r(Q,{"show-ujian-ke":!1,"start-url":`/madrasah/absensi/rekap-ujian/${a.absensi}`,onDataFilter:n[0]||(n[0]=s=>u.value=s)},null,8,["start-url"]),r(w,{class:"q-mt-sm"},{default:l(()=>[r(c,{class:"bg-green-7 text-green-1 text-subtitle1 q-px-sm q-py-xs"},{default:l(()=>[t("div",U,[n[1]||(n[1]=j(" ➡️ ",-1)),t("strong",null," Absensi "+e(S(N)(a.absensi)),1)])]),_:1}),r(c,{class:"bg-green-3 text-green-10 text-subtitle1 q-pa-sm"},{default:l(()=>[t("div",null,[t("span",{innerHTML:u.value||"Tentukan filter!"},null,8,$)])]),_:1}),r(c,{class:"no-padding"},{default:l(()=>[r(q,{flat:""},{default:l(()=>[n[3]||(n[3]=t("thead",null,[t("tr",null,[t("th",{rowspan:"2",class:"text-center"},"No."),t("th",{rowspan:"2",class:"text-center"},"ID Santri"),t("th",{rowspan:"2",class:"text-center"},"ID Kelas"),t("th",{rowspan:"2",class:"text-left"},"Nama"),t("th",{colspan:"4",class:"bg-grey-1"},"Ujian-1"),t("th",{colspan:"4",class:"bg-green-1"},"Ujian-2"),t("th",{colspan:"4",class:"bg-grey-1"},"Ujian-3"),t("th",{colspan:"4",class:"bg-green-2"},"Setahun")]),t("tr",null,[t("th",{class:"bg-grey-1"},"S"),t("th",{class:"bg-grey-1"},"I"),t("th",{class:"bg-grey-1"},"A"),t("th",{class:"bg-grey-1"},"T"),t("th",{class:"bg-green-1"},"S"),t("th",{class:"bg-green-1"},"I"),t("th",{class:"bg-green-1"},"A"),t("th",{class:"bg-green-1"},"T"),t("th",{class:"bg-grey-1"},"S"),t("th",{class:"bg-grey-1"},"I"),t("th",{class:"bg-grey-1"},"A"),t("th",{class:"bg-grey-1"},"T"),t("th",{class:"bg-green-2"},"S"),t("th",{class:"bg-green-2"},"I"),t("th",{class:"bg-green-2"},"A"),t("th",{class:"bg-green-2"},"T")])],-1)),!a.th_ajaran_h||!a.tingkat_id||!a.kelas?(i(),o("tbody",B,[...n[2]||(n[2]=[t("tr",null,[t("td",{colspan:"50"},[t("div",{class:"text-center text-negative text-body1 text-italic bg-red-1 q-pa-md"}," Tentukan filter! ")])],-1)])])):v("",!0),_.value?(i(),o("tbody",D,[t("tr",null,[t("td",F,[r(A,{height:"50px"})])])])):(i(),o("tbody",M,[(i(!0),o(h,null,T(p.value,(s,f)=>(i(),o("tr",{key:f},[t("td",R,e(s.no_absen?s.no_absen.toString().padStart(2,0):""),1),t("td",V,[r(b,{flat:"",dense:"","no-caps":"",class:"text-green-10 bg-green-11 q-px-sm",style:{"min-width":"50px"},to:`/santri/${s.santri_id}`},{default:l(()=>[t("small",null,e(s.santri_id),1)]),_:2},1032,["to"])]),t("td",L,[r(b,{flat:"",dense:"","no-caps":"",class:"text-green-10 bg-green-11 q-px-sm",style:{"min-width":"50px"},to:`/madrasah/kelas/${s.kelas_id}`},{default:l(()=>[t("small",null,e(s.kelas_id),1)]),_:2},1032,["to"])]),t("td",z,e(s.nama),1),t("td",H,e(s.u1s),1),t("td",E,e(s.u1i),1),t("td",G,e(s.u1a),1),t("td",K,e(s.u1t),1),t("td",P,e(s.u2s),1),t("td",J,e(s.u2i),1),t("td",O,e(s.u2a),1),t("td",W,e(s.u2t),1),t("td",X,e(s.u3s),1),t("td",Y,e(s.u3i),1),t("td",Z,e(s.u3a),1),t("td",tt,e(s.u3t),1),t("td",st,e(s.sum_s),1),t("td",et,e(s.sum_i),1),t("td",at,e(s.sum_a),1),t("td",nt,e(s.sum_t),1)]))),128))])),n[4]||(n[4]=t("tfoot",null,null,-1))]),_:1})]),_:1}),r(c,{class:"bg-green-6 text-green-11 text-subtitle1 q-pa-sm flex flex-center"},{default:l(()=>[...n[5]||(n[5]=[t("div",{class:"text-caption text-italic text-center"}," S=Sakit; I=Izin; A=Alpa; T=Terlambat ",-1)])]),_:1})]),_:1})],64))}},Qt=C(rt,[["__scopeId","data-v-786719b1"]]);export{Qt as default};

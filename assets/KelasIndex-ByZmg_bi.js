import{A as r,a9 as q,U as $,B as T,c,o as n,w as o,b as e,x as u,Q as m,a as t,f as Q,t as V,g as _,z as d,ad as C,E as B}from"./index-DwrbA0R8.js";import{Q as D}from"./QToolbarTitle-CH0GyKDM.js";import{Q as S}from"./QToolbar-BCLZ34c-.js";import{Q as U}from"./QSpinnerCube-CuByR_Bu.js";import{Q as z}from"./QMarkupTable-DzcRgr6j.js";import{Q as v}from"./QRouteTab-Cf40nn4z.js";import{Q as A}from"./QTabs-DVDZZsdu.js";import{Q as N}from"./QPage-BU8r9xHl.js";import{a as K}from"./api-get-D4W4lze7.js";import{a as M}from"./api-update-BSsi6Fy5.js";import{_ as P}from"./CardSantri-rn5Hw0C-.js";import{_ as R}from"./KelasForm-BqSfeYhU.js";import"./QResizeObserver-DfB8ppEz.js";import"./rtl-DFPa-2ov.js";import"./index-B6LiMDVO.js";import"./index-BlZcD66n.js";import"./api-error-DGWaEiw1.js";import"./QSkeleton-BtQ289R_.js";import"./QImg--g9yT0uK.js";import"./QItemSection-CeSY4hvW.js";import"./QItemLabel-Dzdetwv2.js";import"./QList-Cc6jCv1k.js";import"./santri-store-B8u08Q6k.js";import"./QForm-DCEv1Ikv.js";import"./InputSelectArray-DFe88pva.js";import"./QSelect-CrgZ1FsI.js";import"./QChip-DvUCR8tL.js";import"./QMenu-BEnErdhw.js";import"./selection-DRCgFU0J.js";import"./format-CJebrXOQ.js";import"./lists-store-Cp7AZ7Mr.js";import"./DropDownAfter-D2Wgui76.js";import"./QBtnDropdown-DqbNLFX1.js";import"./QBtnGroup-CPjXoyXA.js";import"./ClosePopup-kZj4_oIv.js";import"./Lists-g9uME9Wy.js";import"./ApiCrud-KwrbSuI8.js";import"./Api-DWdZFNbG.js";import"./InputSelectTingkatPendidikan-QegHHTOV.js";import"./useCrudForm-DF0rM6hG.js";import"./InputSelectTahunAjaran-AqTIf2if.js";const j={class:"row",style:{"max-width":"1400px"}},E={class:"col-12 col-md-6 q-pa-sm"},I={key:0,class:"q-pa-md"},G={key:1},L={class:"col-12 col-md-6 q-pa-sm"},Aa={__name:"KelasIndex",setup(F){const k=r(0),g=q().params.id,l=r({}),b=r(!1),p=r(!1),w=r({});async function y(i){const a=i==1,f=i==1?0:1;await M({endPoint:`kelas/${g}/set-active`,data:{aktif:a},confirm:!1})||(l.value.aktif=f)}async function x(){const i=await K({endPoint:`kelas/${g}`,loading:b});i.kelas&&(l.value=i.kelas)}return $(async()=>{await x()}),(i,a)=>{const f=T("router-view");return n(),c(N,{class:"q-pa-sm"},{default:o(()=>[e(u,{class:""},{default:o(()=>[e(m,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:o(()=>[...a[6]||(a[6]=[t("div",{class:"flex items-center"},[t("div",{class:"text-subtitle1"},"Data Murid")],-1)])]),_:1}),e(m,{class:"no-padding"},{default:o(()=>[t("div",j,[t("div",E,[e(u,{bordered:"",flat:""},{default:o(()=>[e(P,{id:l.value.santri_id,onLoaded:a[0]||(a[0]=s=>w.value=s)},null,8,["id"])]),_:1}),e(u,{class:"q-mt-sm",bordered:"",flat:""},{default:o(()=>[e(m,{class:"q-pa-sm"},{default:o(()=>[e(S,{class:"bg-green-1"},{default:o(()=>[e(D,{class:"text-subtitle1"},{default:o(()=>[...a[7]||(a[7]=[V(" Data Kelas ",-1)])]),_:1}),e(_,{class:"q-px-sm q-mr-sm",outline:"",dense:"",onClick:x,icon:"sync","no-caps":""}),e(_,{class:"q-px-md",outline:"",dense:"","icon-right":"edit",onClick:a[1]||(a[1]=s=>p.value=!0),label:"Edit","no-caps":""})]),_:1}),b.value?(n(),Q("div",I,[e(U,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):(n(),Q("div",G,[e(z,{flat:""},{default:o(()=>[t("tbody",null,[t("tr",null,[a[8]||(a[8]=t("td",{class:"text-italic"}," Tahun Ajaran ",-1)),t("td",null,d(l.value.th_ajaran_h+" | "+l.value.th_ajaran_m),1)]),t("tr",null,[a[9]||(a[9]=t("td",{class:"text-italic"}," Tingkat ",-1)),t("td",null,d(l.value.tingkat),1)]),t("tr",null,[a[10]||(a[10]=t("td",{class:"text-italic"}," Kelas ",-1)),t("td",null,d(l.value.kelas),1)]),t("tr",null,[a[11]||(a[11]=t("td",{class:"text-italic"}," Nomor Absen ",-1)),t("td",null,d(l.value.no_absen),1)]),t("tr",null,[a[12]||(a[12]=t("td",{class:"text-italic"}," Aktif ",-1)),t("td",null,[e(C,{modelValue:l.value.aktif,"onUpdate:modelValue":[a[2]||(a[2]=s=>l.value.aktif=s),y],color:"green","true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])])]),t("tr",null,[a[13]||(a[13]=t("td",{class:"text-italic"}," Keterangan ",-1)),t("td",null,d(l.value.keterangan),1)])])]),_:1})]))]),_:1})]),_:1})]),t("div",L,[e(u,{bordered:"",flat:""},{default:o(()=>[e(A,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-7 text-green-3","indicator-color":"green-11","active-color":"green-11"},{default:o(()=>[e(v,{name:"riwayat",label:"Riwayat",to:`/madrasah/kelas/${l.value.id}/riwayat`},null,8,["to"]),e(v,{name:"izin",label:"Izin",to:`/madrasah/kelas/${l.value.id}/izin`},null,8,["to"]),e(v,{name:"nilai",label:"Nilai Mapel",to:`/madrasah/kelas/${l.value.id}/nilai-mapel`},null,8,["to"])]),_:1}),(n(),c(m,{class:"q-pa-sm",key:k.value},{default:o(()=>[(n(),c(f,{key:i.$route.fullPath,santri_id:l.value.santri_id},null,8,["santri_id"]))]),_:1}))]),_:1})])])]),_:1})]),_:1}),e(B,{modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=s=>p.value=s)},{default:o(()=>[e(R,{data:l.value,onSuccessUpdate:a[3]||(a[3]=s=>{l.value=s,k.value++}),onSuccessDelete:a[4]||(a[4]=s=>i.$router.go(-1))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}};export{Aa as default};

import{Q as b}from"./QSpace-CT-pwkHs.js";import{A as p,W as T,c as m,o as s,w as a,b as e,y as C,Q as j,v as u,g as f,f as _,F as k,z as v,t as x,a as i,a7 as D,a3 as P}from"./index-Bjf6jOrL.js";import{Q as V,a as Q}from"./QTable-CO9G8_fV.js";import{Q as y}from"./QTr-Dc0P-ko4.js";import{Q as w}from"./QTd-DUNgUIwQ.js";import{Q as q}from"./QPage-CdhCNm0R.js";import{a as B}from"./api-delete-CRrWmgbL.js";import{a as N}from"./api-get-SNzLoUbu.js";import"./QList-DrJ2aexG.js";import"./QMarkupTable-DhfjFCDy.js";import"./QSelect-BCDk0qVl.js";import"./QChip-CKBUwVMq.js";import"./QItemSection-D4HO8eJd.js";import"./QItemLabel-Clz1Xits.js";import"./QMenu-DO2tkYnP.js";import"./selection-C-yT_gHt.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./use-fullscreen-CRS_nenH.js";import"./index-DV84x6RN.js";import"./index-BRCx2Z00.js";import"./api-error-C_UMNjEa.js";const re={__name:"IndexPage",setup(R){const c=p([]),n=p(!1),d=p("");async function g(){const o=await N({endPoint:"rapor/setting",loading:n});Object.assign(c.value,o.rapor_setting)}T(async()=>{await g()});async function h(o){await B({endPoint:`rapor/${o}`,loading:n})&&await g()}const A=[{name:"th_ajaran_h",label:"Th Ajaran H",align:"left",field:"th_ajaran_h",sortable:!0},{name:"tingkat",label:"Tingkat",align:"left",field:"tingkat",sortable:!0},{name:"kelas",label:"Kelas",align:"left",field:"kelas",sortable:!0},{name:"rapor_ke",label:"Ke",align:"left",field:"rapor_ke",sortable:!0},{name:"tgl_rapor",label:"Tanggal",align:"left",field:"tgl_rapor",sortable:!0},{name:"model_ujian",label:"Model",align:"left",field:"model_ujian",sortable:!0}];return(o,l)=>(s(),m(q,{class:"q-pa-sm"},{default:a(()=>[e(C,{style:{"max-width":"1000px"}},{default:a(()=>[e(j,{class:"q-pa-sm bg-green-8 text-green-11 text-subtitle1 flex"},{default:a(()=>[l[2]||(l[2]=u(" Rapor (Printed) ",-1)),e(b),e(f,{"no-caps":"",label:"Kembali",icon:"reply",dense:"",class:"q-px-md",outline:"",onClick:l[0]||(l[0]=t=>o.$router.go(-1))})]),_:1}),e(V,{class:"q-ma-sm",rows:c.value,loading:n.value,columns:A,"rows-per-page-options":[10,25,50,100,0],"row-key":"name",filter:d.value},{top:a(()=>[l[3]||(l[3]=i("div",{class:"text-green-10"},[i("div",{class:"text-subtitle1"}," Daftar Rapor yang Sudah Dicetak "),i("div",{class:"text-caption text-italic",style:{"line-height":"1rem"}}," Hapus data berikut agar DATA RAPOR (Nilai Mapel, Nilai Ahwal, dan Absensi) tidak terkunci! "),i("div",{class:"text-overline q-mb-sm",style:{"line-height":"1.5rem"}}," (Akses Admin) ")],-1)),e(b),e(D,{outlined:"",dense:"",debounce:"300",color:"primary",placeholder:"Cari",modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t)},{append:a(()=>[e(P,{name:"search"})]),_:1},8,["modelValue"])]),header:a(t=>[e(y,{props:t},{default:a(()=>[(s(!0),_(k,null,v(t.cols,r=>(s(),m(Q,{key:r.name,props:t},{default:a(()=>[u(x(r.label),1)]),_:2},1032,["props"]))),128)),e(Q,{class:"text-center"},{default:a(()=>[e(f,{icon:"delete",color:"negative",dense:"",flat:"",disable:"",title:"Hapus"})]),_:1})]),_:2},1032,["props"])]),body:a(t=>[e(y,{props:t},{default:a(()=>[(s(!0),_(k,null,v(t.cols,r=>(s(),m(w,{key:r.name,props:t},{default:a(()=>[u(x(r.value),1)]),_:2},1032,["props"]))),128)),e(w,{class:"text-center"},{default:a(()=>[e(f,{icon:"sym_o_delete",color:"negative",dense:"",flat:"",onClick:r=>h(t.row.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","loading","filter"])]),_:1})]),_:1}))}};export{re as default};

import{Q as w}from"./QSpace-DIvX2TzF.js";import{aa as x,a9 as h,a6 as b,A as m,q,U as C,c as Q,o as W,w as i,b as t,x as $,Q as c,a as e,g as d}from"./index-DwrbA0R8.js";import{Q as y}from"./QPage-BU8r9xHl.js";import{f as D}from"./format-date-DlwYCgkJ.js";import{_ as B}from"./CardColumn-D-JIcb49.js";import{_ as I}from"./CardSantriLists-Mc0kaNV8.js";import{w as r}from"./wali-store-Y0g1wam9.js";import{f as S}from"./format-text-DnCGEu2I.js";import{d as A}from"./dialog-store-B2dVTE87.js";import{W as N}from"./Wali-4-1MnSqB.js";import"./id-BuNGTsqN.js";import"./QSpinnerCube-CuByR_Bu.js";import"./QImg--g9yT0uK.js";import"./QItemSection-CeSY4hvW.js";import"./QItemLabel-Dzdetwv2.js";import"./QList-Cc6jCv1k.js";import"./ApiCrud-KwrbSuI8.js";import"./Api-DWdZFNbG.js";import"./index-BlZcD66n.js";import"./index-B6LiMDVO.js";import"./api-error-DGWaEiw1.js";const j={class:"flex items-center"},K={class:"row",style:{"max-width":"1024px"}},R={class:"col-12 col-md-6 q-pa-sm"},U={class:"col-12 col-md-6 q-pa-sm"},ma={__name:"WaliDetail",setup(z){const{wali:a}=x(r()),u=h().params.id,p=A(),{searchWali:v,crudWali:f}=b(p),n=m([]),s=m(!1);async function _(){r().$reset();try{s.value=!0;const l=await N.getById({id:u});l&&(r().setWali(l.wali),n.value=a.value.santri)}catch{}finally{s.value=!1}}const g=q(()=>({ID:a.value.id,Nama:`${a.value.nama?.toUpperCase()} (${a.value.sex.toUpperCase()})`,NIK:a.value.nik||"-",Alamat:S(a.value.jl,a.value.rt,a.value.rw,a.value.desa,a.value.kecamatan,a.value.kabupaten,a.value.provinsi,a.value.kode_pos),Kelahiran:`${a.value.tmp_lahir||"-"}, ${D(a.value.tgl_lahir)}`,Pekerjaan:a.value.pekerjaan||"-",Kontak:(a.value.telepon||"-")+"; "+(a.value.email||"-")}));C(async()=>{await _()});function k(){r().setEdit(),f.value=!0}return(l,o)=>(W(),Q(y,{class:"q-pa-sm"},{default:i(()=>[t($,{class:""},{default:i(()=>[t(c,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:i(()=>[e("div",j,[o[1]||(o[1]=e("div",{class:"text-subtitle1"},"Data Wali",-1)),t(w),t(d,{label:"Cari",onClick:o[0]||(o[0]=P=>v.value=!0),size:"sm",color:"green-2",class:"text-green-10 q-mr-sm",icon:"search"}),t(d,{"no-caps":"",size:"sm",color:"green-2",class:"text-green-10",icon:"edit",label:"Edit",onClick:k})])]),_:1}),t(c,{class:"no-padding"},{default:i(()=>[e("div",K,[e("div",R,[t(B,{data:g.value,loading:s.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"])]),e("div",U,[t(I,{data:n.value,loading:s.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})]),_:1}))}};export{ma as default};

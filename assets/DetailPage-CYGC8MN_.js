import{ad as D,ae as T,q as k,A as Q,ac as R,E as p,c as V,o as j,w as o,g as e,Q as d,G as s,a,t as n,v as B,e as b,l as H,J as L}from"./index-lfsacdTL.js";import{Q as y}from"./QMarkupTable-Bz2fobx8.js";import{_ as N}from"./PulanganForm-t4psRImq.js";import{u as $}from"./pulangan-store-tnsAZWEY.js";import{c as g}from"./format-date-DBaFa2rd.js";import{b as f}from"./hijri-CTUg_lXm.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QSelect-vmgT3_C5.js";import"./QField-hdeCXAkJ.js";import"./QChip-DHaC6y90.js";import"./QItem-D2V1ywYc.js";import"./QItemLabel-DetB28No.js";import"./QMenu-BqUuC3DM.js";import"./selection-Bw-KeTFA.js";import"./rtl-DFPa-2ov.js";import"./format-CJebrXOQ.js";import"./QForm-DwVKhKnd.js";import"./useCrudForm-CC03GL-p.js";import"./InputSelectTahunAjaran-B3a2QXnf.js";import"./lists-store-Ywu0iLUb.js";import"./ArrayCrud-CByp4EUn.js";import"./DropDownAfter-C-z_78OX.js";import"./QBtnDropdown-BlyQ6xWg.js";import"./QBtnGroup-wWkAnDNe.js";import"./ClosePopup-UdmwPR6b.js";import"./Lists-BT4EY6Br.js";import"./ApiCrud-FTDmQjbi.js";import"./Api-DXhapTLT.js";import"./index-BjANHOw7.js";import"./index-D3OjluQT.js";import"./apiPost-61dWqKCW.js";import"./id-BuNGTsqN.js";import"./format-number-B34ySHL_.js";const U={class:"flex items-center"},z={class:""},A=["innerHTML"],I={__name:"DetailPage",setup(K){const{id:r}=D().params,i=$(),{loading:_,pulangan:M}=T(i),m=k(!1),t=Q(()=>M.value.find(u=>u.id==r||u.slug==r)),w=R(),x=async()=>{await i.loadById(r)},C=u=>{i.update(r,u)},P=()=>{i.remove(r),w.replace("/pulangan")};return(u,l)=>{const S=p("CardHeader"),c=p("CardLoading"),q=p("CardPage");return j(),V(q,null,{default:o(()=>[e(S,{title:"Detail Pulangan",onOnReload:x,"show-edit":!0,onOnEdit:l[0]||(l[0]=v=>m.value=!0)}),e(d,{class:"q-pa-sm"},{default:o(()=>[e(c,{showing:s(_)},null,8,["showing"]),e(y,{flat:"",bordered:""},{default:o(()=>[a("tbody",null,[a("tr",null,[l[2]||(l[2]=a("td",{class:"label"},"Tahun Ajaran",-1)),a("td",null,n(t.value?.th_ajaran_h),1)]),a("tr",null,[l[3]||(l[3]=a("td",{class:"label"},"Pulangan",-1)),a("td",null,n(t.value?.nama),1)]),a("tr",null,[l[4]||(l[4]=a("td",{class:"label"},"Tanggal Pulang",-1)),a("td",null,n(s(g)(t.value?.tgl_pulang_m,"cccc, dd MMMM yyyy"))+" | "+n(s(f)(t.value?.tgl_pulang_h)),1)]),a("tr",null,[l[5]||(l[5]=a("td",{class:"label"},"Tanggal Kembali",-1)),a("td",null,n(s(g)(t.value?.tgl_kembali_m,"cccc, dd MMMM yyyy"))+" | "+n(s(f)(t.value?.tgl_kembali_h)),1)]),a("tr",null,[l[6]||(l[6]=a("td",{class:"label"},"Santri Pulang",-1)),a("td",U,[B(n(t.value?.pulang_only_count?.toRupiah(!1))+" dari "+n(t.value?.pulang_count?.toRupiah(!1))+" santri (aktif) ",1),e(b,{class:"q-ml-sm q-px-sm",icon:"info",label:"Selengkapnya âŸ«","no-caps":"",outline:"",size:"sm",color:"green-10",to:`/pulangan/${t.value?.id}/santri`},null,8,["to"])])])])]),_:1})]),_:1}),e(d,{class:"q-pa-none"},{default:o(()=>[e(H,{separator:"",flat:"",class:"q-ma-sm"},{default:o(()=>[e(d,{class:"q-pa-sm bg-green-7 text-green-11 flex items-center justify-between"},{default:o(()=>[l[7]||(l[7]=a("div",null,"Detail Surat",-1)),e(b,{outline:"","no-caps":"",class:"q-px-sm",size:"sm",icon:"edit",label:"Edit",to:`/pulangan/${t.value?.id}/detail/edit`},null,8,["to"])]),_:1}),e(d,{class:"q-pa-sm"},{default:o(()=>[e(c,{showing:s(_)},null,8,["showing"]),e(y,{flat:"",bordered:""},{default:o(()=>[a("tbody",null,[a("tr",null,[l[8]||(l[8]=a("td",{class:"label"},"Nomor Surat",-1)),a("td",null,n(t.value?.no_surat),1)]),a("tr",null,[l[9]||(l[9]=a("td",{class:"label"},"Tanggal Surat",-1)),a("td",null,n(t.value?.tgl_surat_m&&s(g)(t.value?.tgl_surat_m,"dd MMMM yyyy"))+" | "+n(s(f)(t.value?.tgl_surat_h)),1)]),a("tr",null,[l[10]||(l[10]=a("td",{class:"label"},"Pengurus",-1)),a("td",z,n(t.value?.p_nama)+" ("+n(t.value?.p_jabatan)+")",1)]),a("tr",null,[l[11]||(l[11]=a("td",{class:"label",style:{"vertical-align":"top"}},"Keterangan",-1)),a("td",null,[a("span",{innerHTML:t.value?.keterangan},null,8,A)])])])]),_:1})]),_:1})]),_:1})]),_:1}),e(L,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=v=>m.value=v)},{default:o(()=>[e(N,{data:t.value,onSuccessUpdate:C,onSuccessDelete:P},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Pa=E(I,[["__scopeId","data-v-b6d82237"]]);export{Pa as default};

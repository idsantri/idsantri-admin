import{be as a}from"./index-DM_jncYt.js";import{A as i}from"./ApiCrud-CFKNXvgl.js";import{A as o}from"./ArrayCrud-CByp4EUn.js";class u extends i{constructor(){super("apb/account-groups")}}const s=new u,l=a("account-group-store",{state:()=>({loading:!1,groups:[],filterText:"",filterCategory:""}),getters:{optionsCategory:r=>{const t=r.groups.map(e=>e.category).filter(e=>e!==null);return[...new Set(t)]},filteredGroups:r=>r.filterCategory?r.groups.filter(t=>t.category===r.filterCategory):r.groups},actions:{async loadAll(){try{this.loading=!0;const r=await s.getAll();this.groups=r.groups}catch(r){console.error("ðŸš€ ~ loadData ~ _err:",r)}finally{this.loading=!1}},async updateActive(r,t){try{this.loading=!0,this.groups=o.update(this.groups,t.id,{active:r}),await s.update({id:t.id,data:{name:t.name,category:t.category,active:r}})}catch(e){this.groups=o.update(this.groups,t.id,{active:!r}),console.error("ðŸš€ ~ toggleHidden ~ err:",e)}finally{this.loading=!1}},update(r,t){this.groups=o.update(this.groups,r,t)},remove(r){this.groups=o.remove(this.groups,r)},create(r){this.groups=o.create(this.groups,r)}},persist:{storage:sessionStorage}});export{s as A,l as u};

import{q as _,ad as I,s as T,au as P,E as w,c as x,o as v,w as n,g as l,a,Q as g,e as k,v as f,b as z,F as E,D as K,aj as F,G as r,t as o,J as V,l as S}from"./index-CEqRNMKa.js";import{Q as B,a as L}from"./QToolbar-wE0hZ0P4.js";import{Q as R}from"./QSpace-rI7O3oMi.js";import{Q as M}from"./QRating-C8OI_HGb.js";import{a as N,f as Q}from"./format-date-DBaFa2rd.js";import{f as U,m as C,b as D}from"./hijri-CTUg_lXm.js";import{Q as A,a as $}from"./QItem-CE7Gw7UR.js";import{Q as G}from"./QList-BwIiBKrg.js";import{_ as j}from"./IndisiplinerForm-Q-m5w629.js";import{I as H}from"./Indisipliner-CnrC7ywp.js";import{_ as J}from"./CardSantriSimple-C1G2qtFD.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-CJebrXOQ.js";import"./id-BuNGTsqN.js";import"./format-number-B34ySHL_.js";import"./QSelect-Cq7a2gGZ.js";import"./QField-D4menuIJ.js";import"./QChip-CJrHXeq1.js";import"./QItemLabel-DHWqC7wC.js";import"./QMenu-CIUGaSD_.js";import"./selection-Dn82c7hT.js";import"./rtl-DFPa-2ov.js";import"./QForm-BLkSNr4R.js";import"./InputSelectSantriId-CbyPcKXF.js";import"./Santri-DFvv300L.js";import"./ApiCrud-DQp7e7nl.js";import"./Api-BLJ5CcMO.js";import"./index-DMQSfvx3.js";import"./index-DUDauND2.js";import"./apiPost-D18tN-j-.js";import"./lists-store-DgR8HQaa.js";import"./ArrayCrud-CByp4EUn.js";import"./DropDownAfter-9gl95ku2.js";import"./QBtnDropdown-xGuuc5eh.js";import"./QBtnGroup-BeWlmbWW.js";import"./ClosePopup-CfU5FfYf.js";import"./Lists-Bb6B22On.js";import"./InputSelectArray-BdV20Le8.js";import"./useCrudForm-B6DzUwVC.js";import"./QSkeleton-0P7MF2sQ.js";import"./QImg-QOdUUYq6.js";import"./santri-store-CUagSAoY.js";const W={class:"relative-position"},X={class:"flex"},Y={__name:"IndisiplinerRiwayat",props:{santri_id:{required:!0}},setup(y){const u=y,e=_([]),m=_(!1),p=_(!1),{params:c}=I();T(async()=>{u.santri_id?await d(u.santri_id):e.value=[]}),P(async()=>{u.santri_id?await d(u.santri_id):e.value=[]});async function d(t){try{m.value=!0;const s=await H.getAll({params:{santri_id:t}});e.value=s.indisipliner}catch(s){console.log("ðŸš€ ~ getRiwayat ~ error:",s)}finally{m.value=!1}}return(t,s)=>{const q=w("CardLoading");return v(),x(S,{flat:"",bordered:"",class:""},{default:n(()=>[l(g,{class:"bg-green-7 no-padding"},{default:n(()=>[l(B,{class:"no-padding no-margin"},{default:n(()=>[l(k,{icon:"sync","no-caps":"",onClick:s[0]||(s[0]=i=>d(y.santri_id)),flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),l(L,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:n(()=>[...s[4]||(s[4]=[f(" Riwayat Indisipliner ",-1)])]),_:1}),l(k,{color:"green-11",outline:"",dense:"","no-caps":"",icon:"add",label:"Tambah",class:"q-mr-sm q-px-md",onClick:s[1]||(s[1]=i=>p.value=!0)})]),_:1})]),_:1}),a("div",W,[e.value?.length?(v(),x(g,{key:1,class:"q-pa-sm"},{default:n(()=>[l(G,{separator:"",bordered:""},{default:n(()=>[(v(!0),z(E,null,K(e.value,(i,b)=>(v(),x(A,{key:b,class:F([i.id==r(c).id?"bg-green-1":"","q-pa-sm"])},{default:n(()=>[l($,null,{default:n(()=>[a("table",null,[a("tbody",null,[a("tr",null,[s[6]||(s[6]=a("td",{class:"label"},"Tanggal Sidang:",-1)),a("td",X,[f(o(r(N)(i.tgl_sidang)+" | "+r(U)(r(C)(i.tgl_sidang)))+" ",1),l(R),f(" "+o(i.th_ajaran_h),1)])]),a("tr",null,[s[7]||(s[7]=a("td",{class:"label"},"Pasal",-1)),a("td",null,o(i.no_pasal),1)]),a("tr",null,[s[8]||(s[8]=a("td",{class:"label"},"Kategori",-1)),a("td",null,o(i.kategori_text),1)]),a("tr",null,[s[9]||(s[9]=a("td",{class:"label"},"Sanksi",-1)),a("td",null,o(i.takzir),1)])])])]),_:2},1024),l($,{side:"",class:"no-padding"},{default:n(()=>[l(k,{disable:i.id==r(c).id,icon:"info",glossy:"",dense:"",round:"",outline:"",color:"green",to:`/keamanan/indisipliner/${i.id}`},null,8,["disable","to"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})):(v(),x(g,{key:0,class:"text-italic text-center q-pa-lg"},{default:n(()=>[...s[5]||(s[5]=[f(" Tidak ada untuk ditampilkan ",-1)])]),_:1})),l(q,{showing:m.value},null,8,["showing"])]),l(V,{modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=i=>p.value=i)},{default:n(()=>[l(j,{data:{santri_id:y.santri_id,nama:e.value[0]?.nama,data_akhir:e.value[0]?.data_akhir},onSuccessDelete:i=>null,onSuccessSubmit:s[2]||(s[2]=i=>t.$router.push(`/keamanan/indisipliner/${i.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Z={class:"row",style:{"max-width":"1200px"}},h={class:"col-xs-12 col-sm-6"},aa={class:"col-xs-12 col-sm-6"},ta={class:"q-ma-sm"},la={__name:"IndisiplinerDetail",setup(y){const u=I(),e=_({}),m=_(!1),p=_(!1);async function c(){try{m.value=!0;const d=await H.getById({id:u.params.id});e.value=d.indisipliner}catch(d){console.log("ðŸš€ ~ loadData ~ error:",d)}finally{m.value=!1}}return T(async()=>{u.params.id&&await c()}),(d,t)=>{const s=w("CardHeader"),q=w("CardLoading"),i=w("CardPage");return v(),x(i,null,{default:n(()=>[l(s,{title:"Detail Santri Indisipliner","show-reload":!1}),a("div",Z,[a("div",h,[l(S,{class:"q-ma-sm",flat:"",bordered:""},{default:n(()=>[l(g,{class:"bg-green-7 no-padding"},{default:n(()=>[l(B,{class:"no-padding no-margin"},{default:n(()=>[l(k,{icon:"sync","no-caps":"",onClick:c,flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),l(L,{class:"text-subtitle1 text-green-11 q-px-none"},{default:n(()=>[...t[3]||(t[3]=[f(" Data Santri Indisipliner ",-1)])]),_:1}),l(k,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Cetak","no-caps":"",icon:"print",color:"green-11",disable:""}),l(k,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Edit","no-caps":"",icon:"edit",color:"green-2",onClick:t[0]||(t[0]=b=>p.value=!0)})]),_:1})]),_:1}),l(g,{class:"q-pa-sm"},{default:n(()=>[l(J,{id:e.value.santri_id},null,8,["id"]),l(S,{bordered:"",flat:"",class:"q-mt-sm"},{default:n(()=>[l(g,{class:"q-pa-sm text-subtitle1 bg-green-11 flex"},{default:n(()=>[t[4]||(t[4]=f(" Data Pelanggaran ",-1)),l(R)]),_:1}),l(g,{class:"q-pa-sm"},{default:n(()=>[a("table",null,[a("tbody",null,[a("tr",null,[t[5]||(t[5]=a("td",{class:"text-italic"},"Kategori:",-1)),a("td",null,[f(o(e.value.kategori_text)+" â€” ",1),l(M,{name:"kategori","model-value":e.value.kategori||0,max:"5",color:"red",icon:"thumb_down","icon-selected":"thumb_down",readonly:""},null,8,["model-value"])])]),a("tr",null,[t[6]||(t[6]=a("td",{class:"text-italic"},"Kasus",-1)),a("td",null,o(r(Q)(e.value.tgl_kasus)+" | "+r(D)(r(C)(e.value.tgl_kasus))),1)]),a("tr",null,[t[7]||(t[7]=a("td",{class:"text-italic"},"Sidang:",-1)),a("td",null,o(r(Q)(e.value.tgl_sidang)+" | "+r(D)(r(C)(e.value.tgl_sidang))),1)]),a("tr",null,[t[8]||(t[8]=a("td",{class:"text-italic"},"Pasal:",-1)),a("td",null,o(e.value.pasal),1)]),a("tr",null,[t[9]||(t[9]=a("td",{class:"text-italic"},"Deskripsi:",-1)),a("td",null,o(e.value.deskripsi),1)]),a("tr",null,[t[10]||(t[10]=a("td",{class:"text-italic"},"Eksekutor:",-1)),a("td",null,o(e.value.eksekutor),1)]),a("tr",null,[t[11]||(t[11]=a("td",{class:"text-italic"},"Saksi:",-1)),a("td",null,o(e.value.saksi),1)]),a("tr",null,[t[12]||(t[12]=a("td",{class:"text-italic"},"Takzir:",-1)),a("td",null,o(e.value.takzir),1)]),a("tr",null,[t[13]||(t[13]=a("td",{class:"text-italic"},"Keterangan:",-1)),a("td",null,o(e.value.keterangan),1)])])]),l(q,{showing:m.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})]),_:1})]),a("div",aa,[a("div",ta,[l(Y,{class:"",santri_id:e.value.santri_id},null,8,["santri_id"])])])]),l(V,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=b=>p.value=b)},{default:n(()=>[l(j,{data:e.value,onSuccessDelete:t[1]||(t[1]=b=>d.$router.go(-1)),onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Aa=O(la,[["__scopeId","data-v-ad36e522"]]);export{Aa as default};

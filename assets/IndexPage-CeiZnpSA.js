import{q as g,ad as C,ab as O,s as $,E as j,c as w,o as u,w as a,g as e,e as b,Q as m,l as D,a as V,G as f,b as N,v as n,t as S}from"./index-C57i_hMy.js";import{Q as K}from"./QSpace-Cd49B8iz.js";import{Q as P}from"./QSkeleton-Bre-juLf.js";import{Q as d}from"./QTd-CbM8g_O9.js";import{Q as o}from"./QTooltip-DaEsRa0j.js";import{Q as y}from"./QRating-B60PQuUk.js";import{Q as U}from"./QTr-C4-bdco9.js";import{Q as I}from"./QTable-Bk3Cin9q.js";import{a as J}from"./api-get-BYH7Gftn.js";import{a as L}from"./api-post-D5bDWAss.js";import{_ as c}from"./FilterKelas-gkfPRZb_.js";import"./QMenu-B9LZCPwA.js";import"./selection-DkrmP5of.js";import"./format-CJebrXOQ.js";import"./QList-Cnw6cxTH.js";import"./QMarkupTable-DDL1khjv.js";import"./QSelect-DQdJ2QrH.js";import"./QField-C9p_0mp8.js";import"./QChip-BvIVBwVA.js";import"./QItem-DcqOGtWG.js";import"./QItemLabel-eSgkXZH5.js";import"./rtl-DFPa-2ov.js";import"./use-fullscreen-DgFwq3F7.js";import"./index-b7ivpJli.js";import"./index-DmYQsRXq.js";import"./api-error-AQlb8q4F.js";import"./QToolbar-Df8GXT4q.js";import"./api-get-lists-DY62dLZk.js";const H=["innerHTML"],M={key:0},z={key:1},ya={__name:"IndexPage",setup(A){const x=g(""),{params:s}=C(),Q=g(!1),p=g([{sopan:0,disiplin:0,rapi:0}]),_=O([{}]);async function B(){const i=await J({endPoint:"nilai-ahwal",params:{th_ajaran_h:s.th_ajaran_h,tingkat_id:s.tingkat_id,kelas:s.kelas,ujian_ke:s.ujian_ke},loading:Q});p.value=i.ahwal,Object.assign(_,JSON.parse(JSON.stringify(i.ahwal)))}async function k(i,t){await L({endPoint:"nilai-ahwal",data:{kelas_id:t.kelas_id,hal:i,ujian_ke:s.ujian_ke,skor:t[i]}})?Object.assign(_,JSON.parse(JSON.stringify(p.value))):p.value=JSON.parse(JSON.stringify(_))}$(async()=>{s.th_ajaran_h&&s.tingkat_id&&s.kelas&&s.ujian_ke&&await B()});const q=[{name:"no_absen",label:"No",align:"center",field:i=>i.no_absen,format:i=>`${i||""}`,sortable:!0},{name:"kelas_id",label:"ID Kelas",align:"center",field:i=>i.kelas_id,format:i=>`${i}`,sortable:!0},{name:"santri_id",label:"ID Santri",align:"center",field:i=>i.santri_id,sortable:!0},{name:"nama",label:"Nama",align:"left",field:i=>i.nama,sortable:!0},{name:"sopan",label:"Kesopanan",align:"center",field:i=>i.sopan,sortable:!0},{name:"disiplin",label:"Kedisiplinan",align:"center",field:"disiplin",sortable:!0},{name:"rapi",label:"Kerapian",align:"center",field:"rapi",sortable:!0}];return(i,t)=>{const v=j("CardHeader"),T=j("CardPage");return u(),w(T,null,{default:a(()=>[e(v,{title:"Data Nilai Ahwal (Kepribadian)","show-reload":!1},{buttons:a(()=>[e(b,{icon:"show_chart",label:"Nilai Mapel",to:"/madrasah/nilai-mapel",outline:"",dense:"","no-caps":"",class:"q-px-sm"})]),_:1}),e(m,{class:"q-pa-sm"},{default:a(()=>[e(c,{"start-url":"/madrasah/nilai-ahwal",onDataFilter:t[0]||(t[0]=l=>x.value=l),title:"Filter Data: <span class='text-weight-medium'>Nilai Ahwal (Kepribadian)</span>","show-ujian-ke":!0})]),_:1}),e(m,{class:"q-pa-sm"},{default:a(()=>[e(D,{class:"",bordered:"",flat:""},{default:a(()=>[e(m,{class:"bg-green-8 text-green-1 text-subtitle1 q-pa-sm flex flex-center"},{default:a(()=>[V("span",{innerHTML:x.value},null,8,H),e(K)]),_:1}),!f(s).th_ajaran_h||!f(s).tingkat_id||!f(s).kelas||!f(s).ujian_ke?(u(),w(m,{key:0,class:"q-pa-sm"},{default:a(()=>[...t[1]||(t[1]=[V("div",{class:"text-center q-pa-lg text-negative text-italic"}," Tentukan Tahun Ajaran, Tingkat Pendidikan, Kelas, dan Ujian! ",-1)])]),_:1})):(u(),w(m,{key:1,class:"q-pa-sm"},{default:a(()=>[Q.value?(u(),N("div",M,[e(P,{type:"text",height:"4rem"})])):(u(),N("div",z,[e(I,{flat:"",rows:p.value,columns:q,"row-key":"kelas_id","rows-per-page-options":[10,25,50,100,0]},{body:a(l=>[e(U,{props:l},{default:a(()=>[e(d,{key:"no_absen",props:l},{default:a(()=>[n(S(l.row.no_absen),1)]),_:2},1032,["props"]),e(d,{key:"kelas_id",props:l},{default:a(()=>[e(b,{outline:"",label:l.row.kelas_id,color:"green-10",dense:"",class:"q-px-md",to:`/madrasah/kelas/${l.row.kelas_id}`},null,8,["label","to"])]),_:2},1032,["props"]),e(d,{key:"santri_id",props:l},{default:a(()=>[e(b,{outline:"",label:l.row.santri_id,color:"green-10",dense:"",class:"q-px-md",to:`/santri/${l.row.santri_id}`},null,8,["label","to"])]),_:2},1032,["props"]),e(d,{key:"nama",props:l},{default:a(()=>[n(S(l.row.nama),1)]),_:2},1032,["props"]),e(d,{key:"sopan",props:l},{default:a(()=>[e(y,{modelValue:l.row.sopan,"onUpdate:modelValue":[r=>l.row.sopan=r,r=>k("sopan",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[2]||(t[2]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[3]||(t[3]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[4]||(t[4]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[5]||(t[5]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[6]||(t[6]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),e(d,{key:"disiplin",props:l},{default:a(()=>[e(y,{modelValue:l.row.disiplin,"onUpdate:modelValue":[r=>l.row.disiplin=r,r=>k("disiplin",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[7]||(t[7]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[8]||(t[8]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[9]||(t[9]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[10]||(t[10]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[11]||(t[11]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),e(d,{key:"rapi",props:l},{default:a(()=>[e(y,{modelValue:l.row.rapi,"onUpdate:modelValue":[r=>l.row.rapi=r,r=>k("rapi",l.row)],max:"5",size:"1.7em",color:"green-14"},{"tip-1":a(()=>[e(o,null,{default:a(()=>[...t[12]||(t[12]=[n("Buruk",-1)])]),_:1})]),"tip-2":a(()=>[e(o,null,{default:a(()=>[...t[13]||(t[13]=[n("Lumayan",-1)])]),_:1})]),"tip-3":a(()=>[e(o,null,{default:a(()=>[...t[14]||(t[14]=[n("Sedang",-1)])]),_:1})]),"tip-4":a(()=>[e(o,null,{default:a(()=>[...t[15]||(t[15]=[n("Baik",-1)])]),_:1})]),"tip-5":a(()=>[e(o,null,{default:a(()=>[...t[16]||(t[16]=[n("Istimewa",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]))]),_:1}))]),_:1})]),_:1})]),_:1})}}};export{ya as default};

import{Q as g}from"./QSelect-udWnZaoN.js";import{u as v}from"./lists-store-CD0Hggyp.js";import{_ as y}from"./DropDownAfter-CV4tl_Qw.js";import{bi as S,a8 as R,ae as V,A as w,s as b,ap as h,c as n,o as i,w as k,f as _,G as x}from"./index-B_fOp8I2.js";const P={__name:"InputSelectArray",props:S({url:{type:String,require:!0},sort:{type:String,default:()=>"asc"},btnSetting:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t,{expose:c}){const l=R(t,"modelValue"),o=t,a=v(),f=V(a),{loading:m}=f,p=o.url.replace(/-/g,"_"),s=w(()=>a.getStateByKey(p,o.sort,!0));async function u(){await a.fetchList(o.url)}b(async()=>{(!s.value||s.value.length==0)&&await u()});const e=h("selectRef");return c({focus:()=>{e.value&&e.value.focus()},showPopup:()=>{e.value&&e.value.showPopup()}}),(B,r)=>(i(),n(g,{dense:"",outlined:"","emit-value":"","map-options":"",options:s.value,loading:x(m),behavior:"menu",clearable:"",modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d),ref_key:"selectRef",ref:e},{after:k(()=>[t.btnSetting?(i(),n(y,{key:0,"route-to":t.url,onReload:u},null,8,["route-to"])):_("",!0)]),_:1},8,["options","loading","modelValue"]))}};export{P as _};

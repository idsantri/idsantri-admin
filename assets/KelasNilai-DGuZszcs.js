import{Q as _}from"./QTab-Cw8OEL3G.js";import{Q as k}from"./QSpace-Cd2TOquo.js";import{q as g,ad as F,s as y,N as Q,E as w,c as f,o as u,w as d,g as r,Q as b,e as C,b as x,a,v as j,t as l,F as z,D as q,l as R}from"./index-4p260kvZ.js";import{Q as B}from"./QTabs-BraVJU2f.js";import{Q as U}from"./QMarkupTable-CLFpw3DC.js";import{N as V}from"./NilaiMapel-D-3reIvI.js";import"./QResizeObserver-XtTUB-Lt.js";import"./rtl-DFPa-2ov.js";import"./ApiCrud-p1I8ArCK.js";import"./Api-CfpY0NLz.js";import"./index-Kc9iSi_0.js";import"./index-Dt0LXLau.js";import"./apiPost-CXI5RCo3.js";const S={key:0},T={class:"text-right"},M={class:"text-right"},D={class:"text-right"},E={class:"text-right"},K={class:"text-left"},L={class:"text-left"},A=["title"],H=["title"],I=["title"],G=["title"],J={title:"Nilai rata-rata",class:"text-right"},O={class:"bg-green-2"},P={class:"text-caption text-weight-bold text-green-10"},W={class:"text-right"},X={class:"text-right"},Y={class:"text-right"},Z={class:"text-right"},$={class:"text-right"},aa=`Kalkulasi nilai rapor dan ijazah:
â–ªï¸ dengan nilai harian:
 ðŸ”¸(((nilai_ujian + nilai_remedial) * 2) + nilai_harian) / 3 / 10 
â–ªï¸ tanpa nilai harian:
 ðŸ”¸(nilai_ujian + nilai_remedial) / 10

Catatan:
Berlaku standar nilai-minimal rapor dan ijazah.`,ga={__name:"KelasNilai",setup(ta){const t=g("ujian"),N=F(),s=g([{}]),h=g(!1);y(async()=>{await v(t.value)}),Q(t,async o=>{await v(o)});async function v(o){try{h.value=!0;const e=await V.getAll({params:{kelas_id:N.params.id,category:o},notifySuccess:!1});s.value=e.nilai}catch(e){console.error("ðŸš€ ~ getNilai ~ error:",e)}finally{h.value=!1}}function n(o,e){let c=0,i=0;if(o?.length){o.forEach(m=>{m[e]!==null&&(c+=parseFloat(m[e]),i++)});const p=c/i;return isNaN(p)?null:p}else return null}return(o,e)=>{const c=w("CardLoading");return u(),f(R,{flat:"",bordered:"",class:"bg-green-1"},{default:d(()=>[r(b,{class:"q-pa-sm"},{default:d(()=>[r(B,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-2 text-green-10",modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=i=>t.value=i)},{default:d(()=>[r(_,{name:"ujian",label:"Ujian"}),r(_,{name:"harian",label:"Harian"}),r(_,{name:"rapor",label:"Rapor"}),r(_,{name:"ijazah",label:"Ijazah"}),r(k),r(C,{icon:"info",flat:"",class:"q-mr-sm",title:aa})]),_:1},8,["modelValue"])]),_:1}),r(b,{class:"q-px-sm q-pb-sm q-pt-none"},{default:d(()=>[s.value?.length==0?(u(),x("div",S,[...e[1]||(e[1]=[a("div",{class:"flex flex-center q-pa-lg text-center text-negative text-italic"},[j(" Tidak ada untuk ditampilkan "),a("br"),j("Silakan input nilai terlebih dahulu! ")],-1)])])):(u(),f(U,{key:1,flat:"",bordered:""},{default:d(()=>[a("thead",null,[a("tr",null,[e[2]||(e[2]=a("th",{class:"text-left"},"Kode",-1)),e[3]||(e[3]=a("th",{class:"text-left"},"Mapel",-1)),a("th",T,l(t.value.substring(0,1).toUpperCase()+"-1"),1),a("th",M,l(t.value.substring(0,1).toUpperCase()+"-2"),1),a("th",D,l(t.value.substring(0,1).toUpperCase()+"-3"),1),a("th",E,l(t.value.substring(0,1).toUpperCase()+"-4"),1),e[4]||(e[4]=a("th",{class:"text-right"},"Rerata",-1))])]),a("tbody",null,[(u(!0),x(z,null,q(s.value,(i,p)=>(u(),x("tr",{key:p},[a("td",K,l(i.id),1),a("td",L,l(i.name),1),a("td",{title:"Nilai "+t.value+" pada ujian ke-1",class:"text-right"},l(i.nilai_1),9,A),a("td",{title:"Nilai "+t.value+" pada ujian ke-2",class:"text-right"},l(i.nilai_2),9,H),a("td",{title:"Nilai "+t.value+" pada ujian ke-3",class:"text-right"},l(i.nilai_3),9,I),a("td",{title:"Nilai "+t.value+" pada ujian ke-4",class:"text-right"},l(i.nilai_4),9,G),a("td",J,l(isNaN(i.rerata)||i.rerata==null?null:t.value=="rapor"||t.value=="ijazah"?parseFloat(i.rerata).toFixed(1):parseFloat(i.rerata).toFixed(2)),1)]))),128))]),a("tfoot",O,[a("tr",P,[e[5]||(e[5]=a("td",{colspan:"2"},"Rata-Rata",-1)),a("td",W,l(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_1")?.toFixed(1):n(s.value,"nilai_1")?.toFixed(2)),1),a("td",X,l(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_2")?.toFixed(1):n(s.value,"nilai_2")?.toFixed(2)),1),a("td",Y,l(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_3")?.toFixed(1):n(s.value,"nilai_3")?.toFixed(2)),1),a("td",Z,l(t.value=="rapor"||t.value=="ijazah"?n(s.value,"nilai_4")?.toFixed(1):n(s.value,"nilai_4")?.toFixed(2)),1),a("td",$,l(t.value=="rapor"||t.value=="ijazah"?n(s.value,"rerata")?.toFixed(1):n(s.value,"rerata")?.toFixed(2)),1)])])]),_:1})),r(c,{showing:h.value},null,8,["showing"])]),_:1})]),_:1})}}};export{ga as default};

import{Q as k}from"./QSpace-CoisEuyS.js";import{a5 as w,a7 as x,a4 as b,v as l,R as h,f as q,o as C,w as o,i as t,q as Q,Q as c,k as s,p as d}from"./index-BOc7y3E3.js";import{Q as $}from"./QPage-BVhxSLxX.js";import{f as W}from"./format-date-DlwYCgkJ.js";import{_ as D}from"./CardColumn-DhQ2VI8W.js";import{_ as S}from"./CardSantriLists-CAKBakjL.js";import{w as p}from"./wali-store-BHKGNqwq.js";import{f as j}from"./format-text-BhuG3ucy.js";import{d as B}from"./dialog-store-BozMjCmH.js";import{a as I}from"./api-get-DUTCLQ7F.js";import"./id-BuNGTsqN.js";import"./QSpinnerCube-clsjI4Wm.js";import"./QImg-Bs0fh872.js";import"./QItemSection-U4VUPMG0.js";import"./QItemLabel-CrvmL7Ku.js";import"./QList-DGdmu--E.js";import"./index-CHOBZr16.js";import"./index-CdkvXyXH.js";import"./api-error-CtGrtfSx.js";const N={class:"flex items-center"},y={class:"row",style:{"max-width":"1024px"}},A={class:"col-12 col-md-6 q-pa-sm"},K={class:"col-12 col-md-6 q-pa-sm"},ia={__name:"WaliDetail",setup(P){const a=w({}),u=x().params.id,f=B(),{searchWali:_,crudWali:g}=b(f),r=l({}),n=l([]),i=l(!1);h(async()=>{const m=await I({endPoint:`wali/${u}`,loading:i});Object.assign(a,m.wali),r.value={ID:a.id,Nama:`${a.nama.toUpperCase()} (${a.sex.toUpperCase()})`,NIK:a.nik||"-",Alamat:j(a.jl,a.rt,a.rw,a.desa,a.kecamatan,a.kabupaten,a.provinsi,a.kode_pos),Kelahiran:`${a.tmp_lahir||"-"}, ${W(a.tgl_lahir)}`,Pekerjaan:a.pekerjaan||"-",Kontak:(a.telepon||"-")+"; "+(a.email||"-")},n.value=a.santri,p().setWali(a)});function v(){p().setEdit(),g.value=!0}return(m,e)=>(C(),q($,{class:"q-pa-sm"},{default:o(()=>[t(Q,{class:""},{default:o(()=>[t(c,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:o(()=>[s("div",N,[e[1]||(e[1]=s("div",{class:"text-subtitle1"},"Data Wali",-1)),t(k),t(d,{label:"Cari",onClick:e[0]||(e[0]=z=>_.value=!0),size:"sm",color:"green-2",class:"text-green-10 q-mr-sm",icon:"search"}),t(d,{"no-caps":"",size:"sm",color:"green-2",class:"text-green-10",icon:"edit",label:"Edit",onClick:v})])]),_:1}),t(c,{class:"no-padding"},{default:o(()=>[s("div",y,[s("div",A,[t(D,{data:r.value,loading:i.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"])]),s("div",K,[t(S,{data:n.value,loading:i.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})]),_:1}))}};export{ia as default};

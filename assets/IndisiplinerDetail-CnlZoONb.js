import{q as _,ac as $,s as I,as as j,E as w,c as b,o as v,w as n,g as l,a,Q as g,e as k,v as f,b as z,F as E,D as F,aj as H,G as r,t as i,J as T,l as S}from"./index-C1T48Jlu.js";import{Q as V,a as B}from"./QToolbar-B1adw6r-.js";import{Q as L}from"./QSpace-CQVl4CfZ.js";import{Q as K}from"./QRating-BGScJcfB.js";import{a as M,f as C}from"./format-date-OVhbBx9F.js";import{a as N,m as U,c as Q}from"./hijri-Bs48DFvR.js";import{Q as A,a as D}from"./QItem-D3m5gLgA.js";import{Q as G}from"./QList-BgPXFnLU.js";import{h as J}from"./tahun-ajaran-Dhryo64N.js";import{_ as R}from"./IndisiplinerForm-D6qcBZkO.js";import{I as P}from"./Indisipliner-Dgn-GmKZ.js";import{_ as O}from"./CardSantriSimple-C04UBCtX.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-CJebrXOQ.js";import"./id-BuNGTsqN.js";import"./format-number-B34ySHL_.js";import"./QSelect-B5PP_4rR.js";import"./QChip-RBIovdBZ.js";import"./QItemLabel-nt3r5mEU.js";import"./QMenu-BU6lKKwH.js";import"./selection-Bn3UuK4N.js";import"./rtl-DFPa-2ov.js";import"./QForm-D8IYzmEx.js";import"./InputSelectSantriId-CuFEo4FB.js";import"./Santri-BZ-EKdpu.js";import"./ApiCrud-QtKnvoL9.js";import"./Api-CcqiN8SM.js";import"./index-eqGrmZEw.js";import"./index-C7k5uAC5.js";import"./api-error-6g31vJcR.js";import"./lists-store-Dx8bhHlZ.js";import"./ArrayCrud-CkcA-ixF.js";import"./DropDownAfter-B-YflZMO.js";import"./QBtnDropdown-DFyedQaB.js";import"./QBtnGroup-B-iCPWXz.js";import"./ClosePopup-BMbJeAyt.js";import"./Lists-Kf4G9M5P.js";import"./InputSelectArray-DnryGQRi.js";import"./useCrudForm-23znjDTZ.js";import"./QSkeleton-D6-CVH8a.js";import"./QImg-BtWeHn6c.js";import"./api-get-Cn4jERHd.js";import"./santri-store-CKYxSwqs.js";const X={class:"relative-position"},Y={class:"flex"},Z={__name:"IndisiplinerRiwayat",props:{santri_id:{required:!0}},setup(y){const u=y,e=_([]),m=_(!1),p=_(!1),{params:c}=$();I(async()=>{u.santri_id?await d(u.santri_id):e.value=[]}),j(async()=>{u.santri_id?await d(u.santri_id):e.value=[]});async function d(t){try{m.value=!0;const s=await P.getAll({params:{santri_id:t}});e.value=s.indisipliner}catch(s){console.log("ðŸš€ ~ getRiwayat ~ error:",s)}finally{m.value=!1}}return(t,s)=>{const q=w("CardLoading");return v(),b(S,{flat:"",bordered:"",class:""},{default:n(()=>[l(g,{class:"bg-green-7 no-padding"},{default:n(()=>[l(V,{class:"no-padding no-margin"},{default:n(()=>[l(k,{icon:"sync","no-caps":"",onClick:s[0]||(s[0]=o=>d(y.santri_id)),flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),l(B,{class:"text-subtitle1 q-ml-sm text-green-11"},{default:n(()=>[...s[4]||(s[4]=[f(" Riwayat Indisipliner ",-1)])]),_:1}),l(k,{color:"green-11",outline:"",dense:"","no-caps":"",icon:"add",label:"Tambah",class:"q-mr-sm q-px-md",onClick:s[1]||(s[1]=o=>p.value=!0)})]),_:1})]),_:1}),a("div",X,[e.value?.length?(v(),b(g,{key:1,class:"q-pa-sm"},{default:n(()=>[l(G,{separator:"",bordered:""},{default:n(()=>[(v(!0),z(E,null,F(e.value,(o,x)=>(v(),b(A,{key:x,class:H([o.id==r(c).id?"bg-green-1":"","q-pa-sm"])},{default:n(()=>[l(D,null,{default:n(()=>[a("table",null,[a("tbody",null,[a("tr",null,[s[6]||(s[6]=a("td",{class:"label"},"Tanggal Sidang:",-1)),a("td",Y,[f(i(r(M)(o.tgl_sidang)+" | "+r(N)(o.tgl_sidang))+" ",1),l(L),f(" "+i(r(J)(r(U)(o.tgl_sidang))),1)])]),a("tr",null,[s[7]||(s[7]=a("td",{class:"label"},"Pasal",-1)),a("td",null,i(o.no_pasal),1)]),a("tr",null,[s[8]||(s[8]=a("td",{class:"label"},"Kategori",-1)),a("td",null,i(o.kategori_text),1)]),a("tr",null,[s[9]||(s[9]=a("td",{class:"label"},"Sanksi",-1)),a("td",null,i(o.takzir),1)])])])]),_:2},1024),l(D,{side:"",class:"no-padding"},{default:n(()=>[l(k,{disable:o.id==r(c).id,icon:"info",glossy:"",dense:"",round:"",outline:"",color:"green",to:`/keamanan/indisipliner/${o.id}`},null,8,["disable","to"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})):(v(),b(g,{key:0,class:"text-italic text-center q-pa-lg"},{default:n(()=>[...s[5]||(s[5]=[f(" Tidak ada untuk ditampilkan ",-1)])]),_:1})),l(q,{showing:m.value},null,8,["showing"])]),l(T,{modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=o=>p.value=o)},{default:n(()=>[l(R,{data:{santri_id:y.santri_id,nama:e.value[0]?.nama,data_akhir:e.value[0]?.data_akhir},onSuccessDelete:o=>null,onSuccessSubmit:s[2]||(s[2]=o=>t.$router.push(`/keamanan/indisipliner/${o.id}`))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},h={class:"row",style:{"max-width":"1200px"}},aa={class:"col-xs-12 col-sm-6"},ta={class:"col-xs-12 col-sm-6"},la={class:"q-ma-sm"},sa={__name:"IndisiplinerDetail",setup(y){const u=$(),e=_({}),m=_(!1),p=_(!1);async function c(){try{m.value=!0;const d=await P.getById({id:u.params.id});e.value=d.indisipliner}catch(d){console.log("ðŸš€ ~ loadData ~ error:",d)}finally{m.value=!1}}return I(async()=>{u.params.id&&await c()}),(d,t)=>{const s=w("CardHeader"),q=w("CardLoading"),o=w("CardPage");return v(),b(o,null,{default:n(()=>[l(s,{title:"Detail Santri Indisipliner","show-reload":!1}),a("div",h,[a("div",aa,[l(S,{class:"q-ma-sm",flat:"",bordered:""},{default:n(()=>[l(g,{class:"bg-green-7 no-padding"},{default:n(()=>[l(V,{class:"no-padding no-margin"},{default:n(()=>[l(k,{icon:"sync","no-caps":"",onClick:c,flat:"",dense:"",class:"q-pl-sm",color:"green-11",title:"Muat ulang"}),l(B,{class:"text-subtitle1 text-green-11 q-px-none"},{default:n(()=>[...t[3]||(t[3]=[f(" Data Santri Indisipliner ",-1)])]),_:1}),l(k,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Cetak","no-caps":"",icon:"print",color:"green-11",disable:""}),l(k,{dense:"",class:"q-px-md q-mr-sm text-green-10",label:"Edit","no-caps":"",icon:"edit",color:"green-2",onClick:t[0]||(t[0]=x=>p.value=!0)})]),_:1})]),_:1}),l(g,{class:"q-pa-sm"},{default:n(()=>[l(O,{id:e.value.santri_id},null,8,["id"]),l(S,{bordered:"",flat:"",class:"q-mt-sm"},{default:n(()=>[l(g,{class:"q-pa-sm text-subtitle1 bg-green-11 flex"},{default:n(()=>[t[4]||(t[4]=f(" Data Pelanggaran ",-1)),l(L)]),_:1}),l(g,{class:"q-pa-sm"},{default:n(()=>[a("table",null,[a("tbody",null,[a("tr",null,[t[5]||(t[5]=a("td",{class:"text-italic"},"Kategori:",-1)),a("td",null,[f(i(e.value.kategori_text)+" â€” ",1),l(K,{name:"kategori","model-value":e.value.kategori||0,max:"5",color:"red",icon:"thumb_down","icon-selected":"thumb_down",readonly:""},null,8,["model-value"])])]),a("tr",null,[t[6]||(t[6]=a("td",{class:"text-italic"},"Kasus",-1)),a("td",null,i(r(C)(e.value.tgl_kasus)+" | "+r(Q)(e.value.tgl_kasus)),1)]),a("tr",null,[t[7]||(t[7]=a("td",{class:"text-italic"},"Sidang:",-1)),a("td",null,i(r(C)(e.value.tgl_sidang)+" | "+r(Q)(e.value.tgl_sidang)),1)]),a("tr",null,[t[8]||(t[8]=a("td",{class:"text-italic"},"Pasal:",-1)),a("td",null,i(e.value.pasal),1)]),a("tr",null,[t[9]||(t[9]=a("td",{class:"text-italic"},"Deskripsi:",-1)),a("td",null,i(e.value.deskripsi),1)]),a("tr",null,[t[10]||(t[10]=a("td",{class:"text-italic"},"Eksekutor:",-1)),a("td",null,i(e.value.eksekutor),1)]),a("tr",null,[t[11]||(t[11]=a("td",{class:"text-italic"},"Saksi:",-1)),a("td",null,i(e.value.saksi),1)]),a("tr",null,[t[12]||(t[12]=a("td",{class:"text-italic"},"Takzir:",-1)),a("td",null,i(e.value.takzir),1)]),a("tr",null,[t[13]||(t[13]=a("td",{class:"text-italic"},"Keterangan:",-1)),a("td",null,i(e.value.keterangan),1)])])]),l(q,{showing:m.value},null,8,["showing"])]),_:1})]),_:1})]),_:1})]),_:1})]),a("div",ta,[a("div",la,[l(Z,{class:"",santri_id:e.value.santri_id},null,8,["santri_id"])])])]),l(T,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=x=>p.value=x)},{default:n(()=>[l(R,{data:e.value,onSuccessDelete:t[1]||(t[1]=x=>d.$router.go(-1)),onSuccessSubmit:c},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}},Ja=W(sa,[["__scopeId","data-v-88cfab1f"]]);export{Ja as default};

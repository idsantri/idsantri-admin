import{ac as k,ab as q,a8 as w,A as u,q as C,W as h,B as $,c as W,o as x,w as o,b as e,y,g as c,Q as B,a as r}from"./index-Bjf6jOrL.js";import{Q as D}from"./QPage-CdhCNm0R.js";import{f as Q}from"./format-date-DlwYCgkJ.js";import{_ as I}from"./CardSantriLists-DQbn2lGv.js";import{w as s}from"./wali-store-BDNTwufI.js";import{f as A}from"./format-text-DnCGEu2I.js";import{d as N}from"./dialog-store-C3zBQC9e.js";import{W as R}from"./Wali-DOaLR-ov.js";import{C as S}from"./CardListTabel-Bs8KDqAD.js";import"./id-BuNGTsqN.js";import"./QSpace-CT-pwkHs.js";import"./QImg-B6Zk7vAt.js";import"./QItemSection-D4HO8eJd.js";import"./QItemLabel-Clz1Xits.js";import"./QList-DrJ2aexG.js";import"./ApiCrud-Cz799mD5.js";import"./Api-v4AqqFFf.js";import"./index-BRCx2Z00.js";import"./index-DV84x6RN.js";import"./api-error-C_UMNjEa.js";import"./QMarkupTable-DhfjFCDy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"row",style:{"max-width":"1024px"}},K={class:"col-12 col-md-6 q-pa-sm"},E={class:"col-12 col-md-6 q-pa-sm"},ua={__name:"WaliDetail",setup(H){const{wali:a}=k(s()),d=q().params.id,p=N(),{searchWali:v,crudWali:f}=w(p),i=u([]),t=u(!1);async function n(){s().$reset();try{t.value=!0;const l=await R.getById({id:d});l&&(s().setWali(l.wali),i.value=a.value.santri)}catch{}finally{t.value=!1}}const _=C(()=>[{label:"ID",value:a.value.id},{label:"Nama",value:`${a.value?.nama||""} (${a.value?.sex?.toUpperCase()??""})`},{label:"NIK",value:a.value?.nik||"-"},{label:"Alamat",value:A(a.value.jl,a.value.rt,a.value.rw,a.value.desa,a.value.kecamatan,a.value.kabupaten,a.value.provinsi,a.value.kode_pos)},{label:"Kelahiran",value:`${a.value?.tmp_lahir||""}, ${Q(a.value?.tgl_lahir)}`},{label:"Pekerjaan",value:a.value?.pekerjaan||"-"},{label:"Kontak",value:`${a.value?.telepon||""}; ${a.value?.email||""}`}]);h(async()=>{await n()});function g(){s().setEdit(),f.value=!0}return(l,m)=>{const b=$("CardHeader");return x(),W(D,{class:"q-pa-sm"},{default:o(()=>[e(y,{class:""},{default:o(()=>[e(b,{title:"Data Wali",onOnReload:n},{right:o(()=>[e(c,{label:l.$q.screen.lt.sm?"":"Cari",onClick:m[0]||(m[0]=P=>v.value=!0),color:"green-2","no-caps":"",dense:"",class:"q-px-sm text-green-10 q-ml-sm",icon:"search"},null,8,["label"]),e(c,{"no-caps":"",color:"green-2",dense:"",class:"q-px-sm text-green-10 q-ml-sm",icon:"edit",label:l.$q.screen.lt.sm?"":"Edit",onClick:g},null,8,["label"])]),_:1}),e(B,{class:"no-padding"},{default:o(()=>[r("div",j,[r("div",K,[e(S,{data:_.value,loading:t.value,title:"Identitas",class:"q-mb-sm"},null,8,["data","loading"])]),r("div",E,[e(I,{data:i.value,loading:t.value,title:"Data Santri (Anak)",class:"q-mb-sm"},null,8,["data","loading"])])])]),_:1})]),_:1})]),_:1})}}};export{ua as default};

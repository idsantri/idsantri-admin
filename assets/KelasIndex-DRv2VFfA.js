import{v as r,a7 as q,R as $,x as T,f as v,o as n,w as o,i as e,q as u,Q as m,k as t,r as Q,j as V,p as _,t as d,aa as C,B}from"./index-BOc7y3E3.js";import{Q as D}from"./QToolbarTitle-DS7gKC4A.js";import{Q as S}from"./QToolbar-DD9_B9vM.js";import{Q as N}from"./QSpinnerCube-clsjI4Wm.js";import{Q as R}from"./QMarkupTable-Dp9ldZmi.js";import{Q as c}from"./QRouteTab-DQwNLqbb.js";import{Q as U}from"./QTabs-55yMxhUl.js";import{Q as j}from"./QPage-BVhxSLxX.js";import{a as z}from"./api-get-DUTCLQ7F.js";import{a as A}from"./api-update-DaN0juSD.js";import{_ as K}from"./CardSantri-DbsARmCu.js";import{_ as M}from"./KelasForm-C04ZnnPk.js";import"./QResizeObserver-VQR5g9Vo.js";import"./rtl-DFPa-2ov.js";import"./index-CHOBZr16.js";import"./index-CdkvXyXH.js";import"./api-error-CtGrtfSx.js";import"./QSkeleton-1RxAa_nV.js";import"./QImg-Bs0fh872.js";import"./QItemSection-U4VUPMG0.js";import"./QItemLabel-CrvmL7Ku.js";import"./QList-DGdmu--E.js";import"./santri-store-DkgYMx-T.js";import"./QForm-CxO-I-hC.js";import"./lists-store-BaLrngMx.js";import"./lists-data-L-iOlbK0.js";import"./api-post-CPwNAYjq.js";import"./api-delete-DLV1eJE-.js";import"./InputSelectArray-GW0fQ7ez.js";import"./QSelect-Br9kkI5Z.js";import"./QChip-DferuxmN.js";import"./QMenu-iXJrGXAP.js";import"./selection-CUoFkLvB.js";import"./format-CJebrXOQ.js";import"./api-get-lists-CRvCG-zL.js";import"./DropDownAfter-DERgTKys.js";import"./QBtnDropdown-BmLRcAl8.js";import"./QBtnGroup-CNPGzkQV.js";import"./ClosePopup-CcGROVC7.js";import"./InputSelectTingkatPendidikan-CWRxZwSP.js";const P={class:"row",style:{"max-width":"1400px"}},E={class:"col-12 col-md-6 q-pa-sm"},I={key:0,class:"q-pa-md"},G={key:1},L={class:"col-12 col-md-6 q-pa-sm"},Ra={__name:"KelasIndex",setup(F){const k=r(0),g=q().params.id,l=r({}),b=r(!1),p=r(!1),w=r({});async function y(i){const a=i==1,f=i==1?0:1;await A({endPoint:`kelas/${g}/set-active`,data:{aktif:a},confirm:!1})||(l.value.aktif=f)}async function x(){const i=await z({endPoint:`kelas/${g}`,loading:b});i.kelas&&(l.value=i.kelas)}return $(async()=>{await x()}),(i,a)=>{const f=T("router-view");return n(),v(j,{class:"q-pa-sm"},{default:o(()=>[e(u,{class:""},{default:o(()=>[e(m,{class:"bg-green-8 text-green-11 q-pa-sm"},{default:o(()=>[...a[6]||(a[6]=[t("div",{class:"flex items-center"},[t("div",{class:"text-subtitle1"},"Data Murid")],-1)])]),_:1}),e(m,{class:"no-padding"},{default:o(()=>[t("div",P,[t("div",E,[e(u,{bordered:"",flat:""},{default:o(()=>[e(K,{id:l.value.santri_id,onLoaded:a[0]||(a[0]=s=>w.value=s)},null,8,["id"])]),_:1}),e(u,{class:"q-mt-sm",bordered:"",flat:""},{default:o(()=>[e(m,{class:"q-pa-sm"},{default:o(()=>[e(S,{class:"bg-green-1"},{default:o(()=>[e(D,{class:"text-subtitle1"},{default:o(()=>[...a[7]||(a[7]=[V(" Data Kelas ",-1)])]),_:1}),e(_,{class:"q-px-sm q-mr-sm",outline:"",dense:"",onClick:x,icon:"sync","no-caps":""}),e(_,{class:"q-px-md",outline:"",dense:"","icon-right":"edit",onClick:a[1]||(a[1]=s=>p.value=!0),label:"Edit","no-caps":""})]),_:1}),b.value?(n(),Q("div",I,[e(N,{color:"green-12",size:"8em",class:"flex q-mx-auto"})])):(n(),Q("div",G,[e(R,{flat:""},{default:o(()=>[t("tbody",null,[t("tr",null,[a[8]||(a[8]=t("td",{class:"text-italic"}," Tahun Ajaran ",-1)),t("td",null,d(l.value.th_ajaran_h+" | "+l.value.th_ajaran_m),1)]),t("tr",null,[a[9]||(a[9]=t("td",{class:"text-italic"}," Tingkat ",-1)),t("td",null,d(l.value.tingkat),1)]),t("tr",null,[a[10]||(a[10]=t("td",{class:"text-italic"}," Kelas ",-1)),t("td",null,d(l.value.kelas),1)]),t("tr",null,[a[11]||(a[11]=t("td",{class:"text-italic"}," Nomor Absen ",-1)),t("td",null,d(l.value.no_absen),1)]),t("tr",null,[a[12]||(a[12]=t("td",{class:"text-italic"}," Aktif ",-1)),t("td",null,[e(C,{modelValue:l.value.aktif,"onUpdate:modelValue":[a[2]||(a[2]=s=>l.value.aktif=s),y],color:"green","true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])])]),t("tr",null,[a[13]||(a[13]=t("td",{class:"text-italic"}," Keterangan ",-1)),t("td",null,d(l.value.keterangan),1)])])]),_:1})]))]),_:1})]),_:1})]),t("div",L,[e(u,{bordered:"",flat:""},{default:o(()=>[e(U,{"no-caps":"","outside-arrows":"","mobile-arrows":"",class:"bg-green-7 text-green-3","indicator-color":"green-11","active-color":"green-11"},{default:o(()=>[e(c,{name:"riwayat",label:"Riwayat",to:`/madrasah/kelas/${l.value.id}/riwayat`},null,8,["to"]),e(c,{name:"izin",label:"Izin",to:`/madrasah/kelas/${l.value.id}/izin`},null,8,["to"]),e(c,{name:"nilai",label:"Nilai Mapel",to:`/madrasah/kelas/${l.value.id}/nilai-mapel`},null,8,["to"])]),_:1}),(n(),v(m,{class:"q-pa-sm",key:k.value},{default:o(()=>[(n(),v(f,{key:i.$route.fullPath,santri_id:l.value.santri_id},null,8,["santri_id"]))]),_:1}))]),_:1})])])]),_:1})]),_:1}),e(B,{modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=s=>p.value=s)},{default:o(()=>[e(M,{data:l.value,onSuccessUpdate:a[3]||(a[3]=s=>{l.value=s,k.value++}),onSuccessDelete:a[4]||(a[4]=s=>i.$router.go(-1))},null,8,["data"])]),_:1},8,["modelValue"])]),_:1})}}};export{Ra as default};
